function cm(i,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in i)){const c=Object.getOwnPropertyDescriptor(a,l);c&&Object.defineProperty(i,l,c.get?c:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function um(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function W0(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var t=i.default;if(typeof t=="function"){var s=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var l=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(s,a,l.get?l:{enumerable:!0,get:function(){return i[a]}})}),s}var Yl={exports:{}},qs={},Xl={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function V0(){if(Zh)return je;Zh=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function b(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function w(C,B,ee){this.props=C,this.context=B,this.refs=N,this.updater=ee||_}w.prototype.isReactComponent={},w.prototype.setState=function(C,B){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,B,"setState")},w.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function R(){}R.prototype=w.prototype;function U(C,B,ee){this.props=C,this.context=B,this.refs=N,this.updater=ee||_}var O=U.prototype=new R;O.constructor=U,j(O,w.prototype),O.isPureReactComponent=!0;var P=Array.isArray,I=Object.prototype.hasOwnProperty,F={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function te(C,B,ee){var he,ge={},we=null,Ee=null;if(B!=null)for(he in B.ref!==void 0&&(Ee=B.ref),B.key!==void 0&&(we=""+B.key),B)I.call(B,he)&&!H.hasOwnProperty(he)&&(ge[he]=B[he]);var _e=arguments.length-2;if(_e===1)ge.children=ee;else if(1<_e){for(var Ce=Array(_e),vt=0;vt<_e;vt++)Ce[vt]=arguments[vt+2];ge.children=Ce}if(C&&C.defaultProps)for(he in _e=C.defaultProps,_e)ge[he]===void 0&&(ge[he]=_e[he]);return{$$typeof:i,type:C,key:we,ref:Ee,props:ge,_owner:F.current}}function re(C,B){return{$$typeof:i,type:C.type,key:B,ref:C.ref,props:C.props,_owner:C._owner}}function Z(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function q(C){var B={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ee){return B[ee]})}var Y=/\/+/g;function ce(C,B){return typeof C=="object"&&C!==null&&C.key!=null?q(""+C.key):B.toString(36)}function V(C,B,ee,he,ge){var we=typeof C;(we==="undefined"||we==="boolean")&&(C=null);var Ee=!1;if(C===null)Ee=!0;else switch(we){case"string":case"number":Ee=!0;break;case"object":switch(C.$$typeof){case i:case t:Ee=!0}}if(Ee)return Ee=C,ge=ge(Ee),C=he===""?"."+ce(Ee,0):he,P(ge)?(ee="",C!=null&&(ee=C.replace(Y,"$&/")+"/"),V(ge,B,ee,"",function(vt){return vt})):ge!=null&&(Z(ge)&&(ge=re(ge,ee+(!ge.key||Ee&&Ee.key===ge.key?"":(""+ge.key).replace(Y,"$&/")+"/")+C)),B.push(ge)),1;if(Ee=0,he=he===""?".":he+":",P(C))for(var _e=0;_e<C.length;_e++){we=C[_e];var Ce=he+ce(we,_e);Ee+=V(we,B,ee,Ce,ge)}else if(Ce=b(C),typeof Ce=="function")for(C=Ce.call(C),_e=0;!(we=C.next()).done;)we=we.value,Ce=he+ce(we,_e++),Ee+=V(we,B,ee,Ce,ge);else if(we==="object")throw B=String(C),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Ee}function G(C,B,ee){if(C==null)return C;var he=[],ge=0;return V(C,he,"","",function(we){return B.call(ee,we,ge++)}),he}function se(C){if(C._status===-1){var B=C._result;B=B(),B.then(function(ee){(C._status===0||C._status===-1)&&(C._status=1,C._result=ee)},function(ee){(C._status===0||C._status===-1)&&(C._status=2,C._result=ee)}),C._status===-1&&(C._status=0,C._result=B)}if(C._status===1)return C._result.default;throw C._result}var ae={current:null},$={transition:null},E={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:$,ReactCurrentOwner:F};function L(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:G,forEach:function(C,B,ee){G(C,function(){B.apply(this,arguments)},ee)},count:function(C){var B=0;return G(C,function(){B++}),B},toArray:function(C){return G(C,function(B){return B})||[]},only:function(C){if(!Z(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},je.Component=w,je.Fragment=s,je.Profiler=l,je.PureComponent=U,je.StrictMode=a,je.Suspense=p,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E,je.act=L,je.cloneElement=function(C,B,ee){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var he=j({},C.props),ge=C.key,we=C.ref,Ee=C._owner;if(B!=null){if(B.ref!==void 0&&(we=B.ref,Ee=F.current),B.key!==void 0&&(ge=""+B.key),C.type&&C.type.defaultProps)var _e=C.type.defaultProps;for(Ce in B)I.call(B,Ce)&&!H.hasOwnProperty(Ce)&&(he[Ce]=B[Ce]===void 0&&_e!==void 0?_e[Ce]:B[Ce])}var Ce=arguments.length-2;if(Ce===1)he.children=ee;else if(1<Ce){_e=Array(Ce);for(var vt=0;vt<Ce;vt++)_e[vt]=arguments[vt+2];he.children=_e}return{$$typeof:i,type:C.type,key:ge,ref:we,props:he,_owner:Ee}},je.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:c,_context:C},C.Consumer=C},je.createElement=te,je.createFactory=function(C){var B=te.bind(null,C);return B.type=C,B},je.createRef=function(){return{current:null}},je.forwardRef=function(C){return{$$typeof:f,render:C}},je.isValidElement=Z,je.lazy=function(C){return{$$typeof:x,_payload:{_status:-1,_result:C},_init:se}},je.memo=function(C,B){return{$$typeof:m,type:C,compare:B===void 0?null:B}},je.startTransition=function(C){var B=$.transition;$.transition={};try{C()}finally{$.transition=B}},je.unstable_act=L,je.useCallback=function(C,B){return ae.current.useCallback(C,B)},je.useContext=function(C){return ae.current.useContext(C)},je.useDebugValue=function(){},je.useDeferredValue=function(C){return ae.current.useDeferredValue(C)},je.useEffect=function(C,B){return ae.current.useEffect(C,B)},je.useId=function(){return ae.current.useId()},je.useImperativeHandle=function(C,B,ee){return ae.current.useImperativeHandle(C,B,ee)},je.useInsertionEffect=function(C,B){return ae.current.useInsertionEffect(C,B)},je.useLayoutEffect=function(C,B){return ae.current.useLayoutEffect(C,B)},je.useMemo=function(C,B){return ae.current.useMemo(C,B)},je.useReducer=function(C,B,ee){return ae.current.useReducer(C,B,ee)},je.useRef=function(C){return ae.current.useRef(C)},je.useState=function(C){return ae.current.useState(C)},je.useSyncExternalStore=function(C,B,ee){return ae.current.useSyncExternalStore(C,B,ee)},je.useTransition=function(){return ae.current.useTransition()},je.version="18.3.1",je}var ef;function Mc(){return ef||(ef=1,Xl.exports=V0()),Xl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf;function H0(){if(tf)return qs;tf=1;var i=Mc(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,m){var x,y={},b=null,_=null;m!==void 0&&(b=""+m),p.key!==void 0&&(b=""+p.key),p.ref!==void 0&&(_=p.ref);for(x in p)a.call(p,x)&&!c.hasOwnProperty(x)&&(y[x]=p[x]);if(f&&f.defaultProps)for(x in p=f.defaultProps,p)y[x]===void 0&&(y[x]=p[x]);return{$$typeof:t,type:f,key:b,ref:_,props:y,_owner:l.current}}return qs.Fragment=s,qs.jsx=d,qs.jsxs=d,qs}var rf;function G0(){return rf||(rf=1,Yl.exports=H0()),Yl.exports}var n=G0(),k=Mc();const Ks=um(k),K0=cm({__proto__:null,default:Ks},[k]);var ya={},Zl={exports:{}},gt={},ec={exports:{}},tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nf;function J0(){return nf||(nf=1,function(i){function t($,E){var L=$.length;$.push(E);e:for(;0<L;){var C=L-1>>>1,B=$[C];if(0<l(B,E))$[C]=E,$[L]=B,L=C;else break e}}function s($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var E=$[0],L=$.pop();if(L!==E){$[0]=L;e:for(var C=0,B=$.length,ee=B>>>1;C<ee;){var he=2*(C+1)-1,ge=$[he],we=he+1,Ee=$[we];if(0>l(ge,L))we<B&&0>l(Ee,ge)?($[C]=Ee,$[we]=L,C=we):($[C]=ge,$[he]=L,C=he);else if(we<B&&0>l(Ee,L))$[C]=Ee,$[we]=L,C=we;else break e}}return E}function l($,E){var L=$.sortIndex-E.sortIndex;return L!==0?L:$.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();i.unstable_now=function(){return d.now()-f}}var p=[],m=[],x=1,y=null,b=3,_=!1,j=!1,N=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O($){for(var E=s(m);E!==null;){if(E.callback===null)a(m);else if(E.startTime<=$)a(m),E.sortIndex=E.expirationTime,t(p,E);else break;E=s(m)}}function P($){if(N=!1,O($),!j)if(s(p)!==null)j=!0,se(I);else{var E=s(m);E!==null&&ae(P,E.startTime-$)}}function I($,E){j=!1,N&&(N=!1,R(te),te=-1),_=!0;var L=b;try{for(O(E),y=s(p);y!==null&&(!(y.expirationTime>E)||$&&!q());){var C=y.callback;if(typeof C=="function"){y.callback=null,b=y.priorityLevel;var B=C(y.expirationTime<=E);E=i.unstable_now(),typeof B=="function"?y.callback=B:y===s(p)&&a(p),O(E)}else a(p);y=s(p)}if(y!==null)var ee=!0;else{var he=s(m);he!==null&&ae(P,he.startTime-E),ee=!1}return ee}finally{y=null,b=L,_=!1}}var F=!1,H=null,te=-1,re=5,Z=-1;function q(){return!(i.unstable_now()-Z<re)}function Y(){if(H!==null){var $=i.unstable_now();Z=$;var E=!0;try{E=H(!0,$)}finally{E?ce():(F=!1,H=null)}}else F=!1}var ce;if(typeof U=="function")ce=function(){U(Y)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,G=V.port2;V.port1.onmessage=Y,ce=function(){G.postMessage(null)}}else ce=function(){w(Y,0)};function se($){H=$,F||(F=!0,ce())}function ae($,E){te=w(function(){$(i.unstable_now())},E)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_continueExecution=function(){j||_||(j=!0,se(I))},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_getFirstCallbackNode=function(){return s(p)},i.unstable_next=function($){switch(b){case 1:case 2:case 3:var E=3;break;default:E=b}var L=b;b=E;try{return $()}finally{b=L}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function($,E){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var L=b;b=$;try{return E()}finally{b=L}},i.unstable_scheduleCallback=function($,E,L){var C=i.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?C+L:C):L=C,$){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=L+B,$={id:x++,callback:E,priorityLevel:$,startTime:L,expirationTime:B,sortIndex:-1},L>C?($.sortIndex=L,t(m,$),s(p)===null&&$===s(m)&&(N?(R(te),te=-1):N=!0,ae(P,L-C))):($.sortIndex=B,t(p,$),j||_||(j=!0,se(I))),$},i.unstable_shouldYield=q,i.unstable_wrapCallback=function($){var E=b;return function(){var L=b;b=E;try{return $.apply(this,arguments)}finally{b=L}}}}(tc)),tc}var sf;function Q0(){return sf||(sf=1,ec.exports=J0()),ec.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af;function Y0(){if(af)return gt;af=1;var i=Mc(),t=Q0();function s(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function c(e,r){d(e,r),d(e+"Capture",r)}function d(e,r){for(l[e]=r,e=0;e<r.length;e++)a.add(r[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},y={};function b(e){return p.call(y,e)?!0:p.call(x,e)?!1:m.test(e)?y[e]=!0:(x[e]=!0,!1)}function _(e,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j(e,r,o,u){if(r===null||typeof r>"u"||_(e,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function N(e,r,o,u,h,g,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=e,this.type=r,this.sanitizeURL=g,this.removeEmptyString=v}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];w[r]=new N(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){w[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){w[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){w[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(R,U);w[r]=new N(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(R,U);w[r]=new N(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(R,U);w[r]=new N(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){w[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),w.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){w[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function O(e,r,o,u){var h=w.hasOwnProperty(r)?w[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(j(r,o,h,u)&&(o=null),u||h===null?b(r)&&(o===null?e.removeAttribute(r):e.setAttribute(r,""+o)):h.mustUseProperty?e[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?e.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?e.setAttributeNS(u,r,o):e.setAttribute(r,o))))}var P=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),F=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),q=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),$=Symbol.iterator;function E(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var L=Object.assign,C;function B(e){if(C===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);C=r&&r[1]||""}return`
`+C+e}var ee=!1;function he(e,r){if(!e||ee)return"";ee=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(z){var u=z}Reflect.construct(e,[],r)}else{try{r.call()}catch(z){u=z}e.call(r.prototype)}else{try{throw Error()}catch(z){u=z}e()}}catch(z){if(z&&u&&typeof z.stack=="string"){for(var h=z.stack.split(`
`),g=u.stack.split(`
`),v=h.length-1,S=g.length-1;1<=v&&0<=S&&h[v]!==g[S];)S--;for(;1<=v&&0<=S;v--,S--)if(h[v]!==g[S]){if(v!==1||S!==1)do if(v--,S--,0>S||h[v]!==g[S]){var T=`
`+h[v].replace(" at new "," at ");return e.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",e.displayName)),T}while(1<=v&&0<=S);break}}}finally{ee=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?B(e):""}function ge(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function we(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case F:return"Portal";case re:return"Profiler";case te:return"StrictMode";case ce:return"Suspense";case V:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q:return(e.displayName||"Context")+".Consumer";case Z:return(e._context.displayName||"Context")+".Provider";case Y:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return r=e.displayName||null,r!==null?r:we(e.type)||"Memo";case se:r=e._payload,e=e._init;try{return we(e(r))}catch{}}return null}function Ee(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(r);case 8:return r===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function _e(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ce(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function vt(e){var r=Ce(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),u=""+e[r];if(!e.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){u=""+v,g.call(this,v)}}),Object.defineProperty(e,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function li(e){e._valueTracker||(e._valueTracker=vt(e))}function iu(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return e&&(u=Ce(e)?e.checked?"true":"false":e.value),e=u,e!==o?(r.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function no(e,r){var o=r.checked;return L({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function au(e,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=_e(r.value!=null?r.value:o),e._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function ou(e,r){r=r.checked,r!=null&&O(e,"checked",r,!1)}function so(e,r){ou(e,r);var o=_e(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?io(e,r.type,o):r.hasOwnProperty("defaultValue")&&io(e,r.type,_e(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function lu(e,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,o||r===e.value||(e.value=r),e.defaultValue=r}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function io(e,r,o){(r!=="number"||ci(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var ss=Array.isArray;function gn(e,r,o,u){if(e=e.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<e.length;o++)h=r.hasOwnProperty("$"+e[o].value),e[o].selected!==h&&(e[o].selected=h),h&&u&&(e[o].defaultSelected=!0)}else{for(o=""+_e(o),r=null,h=0;h<e.length;h++){if(e[h].value===o){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function ao(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return L({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cu(e,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(s(92));if(ss(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),o=r}e._wrapperState={initialValue:_e(o)}}function uu(e,r){var o=_e(r.value),u=_e(r.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),r.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),u!=null&&(e.defaultValue=""+u)}function du(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function hu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oo(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?hu(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ui,fu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return e(r,o,u,h)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(ui=ui||document.createElement("div"),ui.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ui.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function is(e,r){if(r){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=r;return}}e.textContent=r}var as={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kp=["Webkit","ms","Moz","O"];Object.keys(as).forEach(function(e){Kp.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),as[r]=as[e]})});function mu(e,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||as.hasOwnProperty(e)&&as[e]?(""+r).trim():r+"px"}function pu(e,r){e=e.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=mu(o,r[o],u);o==="float"&&(o="cssFloat"),u?e.setProperty(o,h):e[o]=h}}var Jp=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lo(e,r){if(r){if(Jp[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function co(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uo=null;function ho(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fo=null,xn=null,yn=null;function gu(e){if(e=Cs(e)){if(typeof fo!="function")throw Error(s(280));var r=e.stateNode;r&&(r=Ai(r),fo(e.stateNode,e.type,r))}}function xu(e){xn?yn?yn.push(e):yn=[e]:xn=e}function yu(){if(xn){var e=xn,r=yn;if(yn=xn=null,gu(e),r)for(e=0;e<r.length;e++)gu(r[e])}}function vu(e,r){return e(r)}function bu(){}var mo=!1;function wu(e,r,o){if(mo)return e(r,o);mo=!0;try{return vu(e,r,o)}finally{mo=!1,(xn!==null||yn!==null)&&(bu(),yu())}}function os(e,r){var o=e.stateNode;if(o===null)return null;var u=Ai(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var po=!1;if(f)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){po=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{po=!1}function Qp(e,r,o,u,h,g,v,S,T){var z=Array.prototype.slice.call(arguments,3);try{r.apply(o,z)}catch(J){this.onError(J)}}var cs=!1,di=null,hi=!1,go=null,Yp={onError:function(e){cs=!0,di=e}};function Xp(e,r,o,u,h,g,v,S,T){cs=!1,di=null,Qp.apply(Yp,arguments)}function Zp(e,r,o,u,h,g,v,S,T){if(Xp.apply(this,arguments),cs){if(cs){var z=di;cs=!1,di=null}else throw Error(s(198));hi||(hi=!0,go=z)}}function Vr(e){var r=e,o=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(o=r.return),e=r.return;while(e)}return r.tag===3?o:null}function ju(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function Nu(e){if(Vr(e)!==e)throw Error(s(188))}function eg(e){var r=e.alternate;if(!r){if(r=Vr(e),r===null)throw Error(s(188));return r!==e?null:e}for(var o=e,u=r;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return Nu(h),e;if(g===u)return Nu(h),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=h,u=g;else{for(var v=!1,S=h.child;S;){if(S===o){v=!0,o=h,u=g;break}if(S===u){v=!0,u=h,o=g;break}S=S.sibling}if(!v){for(S=g.child;S;){if(S===o){v=!0,o=g,u=h;break}if(S===u){v=!0,u=g,o=h;break}S=S.sibling}if(!v)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:r}function _u(e){return e=eg(e),e!==null?ku(e):null}function ku(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=ku(e);if(r!==null)return r;e=e.sibling}return null}var Su=t.unstable_scheduleCallback,Eu=t.unstable_cancelCallback,tg=t.unstable_shouldYield,rg=t.unstable_requestPaint,Be=t.unstable_now,ng=t.unstable_getCurrentPriorityLevel,xo=t.unstable_ImmediatePriority,Cu=t.unstable_UserBlockingPriority,fi=t.unstable_NormalPriority,sg=t.unstable_LowPriority,Tu=t.unstable_IdlePriority,mi=null,Ht=null;function ig(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(mi,e,void 0,(e.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:lg,ag=Math.log,og=Math.LN2;function lg(e){return e>>>=0,e===0?32:31-(ag(e)/og|0)|0}var pi=64,gi=4194304;function us(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xi(e,r){var o=e.pendingLanes;if(o===0)return 0;var u=0,h=e.suspendedLanes,g=e.pingedLanes,v=o&268435455;if(v!==0){var S=v&~h;S!==0?u=us(S):(g&=v,g!==0&&(u=us(g)))}else v=o&~h,v!==0?u=us(v):g!==0&&(u=us(g));if(u===0)return 0;if(r!==0&&r!==u&&(r&h)===0&&(h=u&-u,g=r&-r,h>=g||h===16&&(g&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=u;0<r;)o=31-It(r),h=1<<o,u|=e[o],r&=~h;return u}function cg(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ug(e,r){for(var o=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,g=e.pendingLanes;0<g;){var v=31-It(g),S=1<<v,T=h[v];T===-1?((S&o)===0||(S&u)!==0)&&(h[v]=cg(S,r)):T<=r&&(e.expiredLanes|=S),g&=~S}}function yo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ru(){var e=pi;return pi<<=1,(pi&4194240)===0&&(pi=64),e}function vo(e){for(var r=[],o=0;31>o;o++)r.push(e);return r}function ds(e,r,o){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-It(r),e[r]=o}function dg(e,r){var o=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<o;){var h=31-It(o),g=1<<h;r[h]=0,u[h]=-1,e[h]=-1,o&=~g}}function bo(e,r){var o=e.entangledLanes|=r;for(e=e.entanglements;o;){var u=31-It(o),h=1<<u;h&r|e[u]&r&&(e[u]|=r),o&=~h}}var Te=0;function Pu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ou,wo,Au,Iu,Lu,jo=!1,yi=[],fr=null,mr=null,pr=null,hs=new Map,fs=new Map,gr=[],hg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uu(e,r){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":hs.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":fs.delete(r.pointerId)}}function ms(e,r,o,u,h,g){return e===null||e.nativeEvent!==g?(e={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},r!==null&&(r=Cs(r),r!==null&&wo(r)),e):(e.eventSystemFlags|=u,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function fg(e,r,o,u,h){switch(r){case"focusin":return fr=ms(fr,e,r,o,u,h),!0;case"dragenter":return mr=ms(mr,e,r,o,u,h),!0;case"mouseover":return pr=ms(pr,e,r,o,u,h),!0;case"pointerover":var g=h.pointerId;return hs.set(g,ms(hs.get(g)||null,e,r,o,u,h)),!0;case"gotpointercapture":return g=h.pointerId,fs.set(g,ms(fs.get(g)||null,e,r,o,u,h)),!0}return!1}function $u(e){var r=Hr(e.target);if(r!==null){var o=Vr(r);if(o!==null){if(r=o.tag,r===13){if(r=ju(o),r!==null){e.blockedOn=r,Lu(e.priority,function(){Au(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vi(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var o=_o(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var u=new o.constructor(o.type,o);uo=u,o.target.dispatchEvent(u),uo=null}else return r=Cs(o),r!==null&&wo(r),e.blockedOn=o,!1;r.shift()}return!0}function Du(e,r,o){vi(e)&&o.delete(r)}function mg(){jo=!1,fr!==null&&vi(fr)&&(fr=null),mr!==null&&vi(mr)&&(mr=null),pr!==null&&vi(pr)&&(pr=null),hs.forEach(Du),fs.forEach(Du)}function ps(e,r){e.blockedOn===r&&(e.blockedOn=null,jo||(jo=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,mg)))}function gs(e){function r(h){return ps(h,e)}if(0<yi.length){ps(yi[0],e);for(var o=1;o<yi.length;o++){var u=yi[o];u.blockedOn===e&&(u.blockedOn=null)}}for(fr!==null&&ps(fr,e),mr!==null&&ps(mr,e),pr!==null&&ps(pr,e),hs.forEach(r),fs.forEach(r),o=0;o<gr.length;o++)u=gr[o],u.blockedOn===e&&(u.blockedOn=null);for(;0<gr.length&&(o=gr[0],o.blockedOn===null);)$u(o),o.blockedOn===null&&gr.shift()}var vn=P.ReactCurrentBatchConfig,bi=!0;function pg(e,r,o,u){var h=Te,g=vn.transition;vn.transition=null;try{Te=1,No(e,r,o,u)}finally{Te=h,vn.transition=g}}function gg(e,r,o,u){var h=Te,g=vn.transition;vn.transition=null;try{Te=4,No(e,r,o,u)}finally{Te=h,vn.transition=g}}function No(e,r,o,u){if(bi){var h=_o(e,r,o,u);if(h===null)zo(e,r,u,wi,o),Uu(e,u);else if(fg(h,e,r,o,u))u.stopPropagation();else if(Uu(e,u),r&4&&-1<hg.indexOf(e)){for(;h!==null;){var g=Cs(h);if(g!==null&&Ou(g),g=_o(e,r,o,u),g===null&&zo(e,r,u,wi,o),g===h)break;h=g}h!==null&&u.stopPropagation()}else zo(e,r,u,null,o)}}var wi=null;function _o(e,r,o,u){if(wi=null,e=ho(u),e=Hr(e),e!==null)if(r=Vr(e),r===null)e=null;else if(o=r.tag,o===13){if(e=ju(r),e!==null)return e;e=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return wi=e,null}function Mu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ng()){case xo:return 1;case Cu:return 4;case fi:case sg:return 16;case Tu:return 536870912;default:return 16}default:return 16}}var xr=null,ko=null,ji=null;function Bu(){if(ji)return ji;var e,r=ko,o=r.length,u,h="value"in xr?xr.value:xr.textContent,g=h.length;for(e=0;e<o&&r[e]===h[e];e++);var v=o-e;for(u=1;u<=v&&r[o-u]===h[g-u];u++);return ji=h.slice(e,1<u?1-u:void 0)}function Ni(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function _i(){return!0}function zu(){return!1}function bt(e){function r(o,u,h,g,v){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=v,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(o=e[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?_i:zu,this.isPropagationStopped=zu,this}return L(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),r}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=bt(bn),xs=L({},bn,{view:0,detail:0}),xg=bt(xs),Eo,Co,ys,ki=L({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ys&&(ys&&e.type==="mousemove"?(Eo=e.screenX-ys.screenX,Co=e.screenY-ys.screenY):Co=Eo=0,ys=e),Eo)},movementY:function(e){return"movementY"in e?e.movementY:Co}}),Fu=bt(ki),yg=L({},ki,{dataTransfer:0}),vg=bt(yg),bg=L({},xs,{relatedTarget:0}),To=bt(bg),wg=L({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),jg=bt(wg),Ng=L({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_g=bt(Ng),kg=L({},bn,{data:0}),qu=bt(kg),Sg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tg(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Cg[e])?!!r[e]:!1}function Ro(){return Tg}var Rg=L({},xs,{key:function(e){if(e.key){var r=Sg[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(e){return e.type==="keypress"?Ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pg=bt(Rg),Og=L({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wu=bt(Og),Ag=L({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),Ig=bt(Ag),Lg=L({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ug=bt(Lg),$g=L({},ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dg=bt($g),Mg=[9,13,27,32],Po=f&&"CompositionEvent"in window,vs=null;f&&"documentMode"in document&&(vs=document.documentMode);var Bg=f&&"TextEvent"in window&&!vs,Vu=f&&(!Po||vs&&8<vs&&11>=vs),Hu=" ",Gu=!1;function Ku(e,r){switch(e){case"keyup":return Mg.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ju(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wn=!1;function zg(e,r){switch(e){case"compositionend":return Ju(r);case"keypress":return r.which!==32?null:(Gu=!0,Hu);case"textInput":return e=r.data,e===Hu&&Gu?null:e;default:return null}}function Fg(e,r){if(wn)return e==="compositionend"||!Po&&Ku(e,r)?(e=Bu(),ji=ko=xr=null,wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Vu&&r.locale!=="ko"?null:r.data;default:return null}}var qg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qu(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!qg[e.type]:r==="textarea"}function Yu(e,r,o,u){xu(u),r=Ri(r,"onChange"),0<r.length&&(o=new So("onChange","change",null,o,u),e.push({event:o,listeners:r}))}var bs=null,ws=null;function Wg(e){pd(e,0)}function Si(e){var r=Sn(e);if(iu(r))return e}function Vg(e,r){if(e==="change")return r}var Xu=!1;if(f){var Oo;if(f){var Ao="oninput"in document;if(!Ao){var Zu=document.createElement("div");Zu.setAttribute("oninput","return;"),Ao=typeof Zu.oninput=="function"}Oo=Ao}else Oo=!1;Xu=Oo&&(!document.documentMode||9<document.documentMode)}function ed(){bs&&(bs.detachEvent("onpropertychange",td),ws=bs=null)}function td(e){if(e.propertyName==="value"&&Si(ws)){var r=[];Yu(r,ws,e,ho(e)),wu(Wg,r)}}function Hg(e,r,o){e==="focusin"?(ed(),bs=r,ws=o,bs.attachEvent("onpropertychange",td)):e==="focusout"&&ed()}function Gg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Si(ws)}function Kg(e,r){if(e==="click")return Si(r)}function Jg(e,r){if(e==="input"||e==="change")return Si(r)}function Qg(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Lt=typeof Object.is=="function"?Object.is:Qg;function js(e,r){if(Lt(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var o=Object.keys(e),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!p.call(r,h)||!Lt(e[h],r[h]))return!1}return!0}function rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nd(e,r){var o=rd(e);e=0;for(var u;o;){if(o.nodeType===3){if(u=e+o.textContent.length,e<=r&&u>=r)return{node:o,offset:r-e};e=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=rd(o)}}function sd(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?sd(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function id(){for(var e=window,r=ci();r instanceof e.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)e=r.contentWindow;else break;r=ci(e.document)}return r}function Io(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function Yg(e){var r=id(),o=e.focusedElem,u=e.selectionRange;if(r!==o&&o&&o.ownerDocument&&sd(o.ownerDocument.documentElement,o)){if(u!==null&&Io(o)){if(r=u.start,e=u.end,e===void 0&&(e=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(e,o.value.length);else if(e=(r=o.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var h=o.textContent.length,g=Math.min(u.start,h);u=u.end===void 0?g:Math.min(u.end,h),!e.extend&&g>u&&(h=u,u=g,g=h),h=nd(o,g);var v=nd(o,u);h&&v&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),e.removeAllRanges(),g>u?(e.addRange(r),e.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),e.addRange(r)))}}for(r=[],e=o;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)e=r[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xg=f&&"documentMode"in document&&11>=document.documentMode,jn=null,Lo=null,Ns=null,Uo=!1;function ad(e,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Uo||jn==null||jn!==ci(u)||(u=jn,"selectionStart"in u&&Io(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ns&&js(Ns,u)||(Ns=u,u=Ri(Lo,"onSelect"),0<u.length&&(r=new So("onSelect","select",null,r,o),e.push({event:r,listeners:u}),r.target=jn)))}function Ei(e,r){var o={};return o[e.toLowerCase()]=r.toLowerCase(),o["Webkit"+e]="webkit"+r,o["Moz"+e]="moz"+r,o}var Nn={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionend:Ei("Transition","TransitionEnd")},$o={},od={};f&&(od=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function Ci(e){if($o[e])return $o[e];if(!Nn[e])return e;var r=Nn[e],o;for(o in r)if(r.hasOwnProperty(o)&&o in od)return $o[e]=r[o];return e}var ld=Ci("animationend"),cd=Ci("animationiteration"),ud=Ci("animationstart"),dd=Ci("transitionend"),hd=new Map,fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(e,r){hd.set(e,r),c(r,[e])}for(var Do=0;Do<fd.length;Do++){var Mo=fd[Do],Zg=Mo.toLowerCase(),e0=Mo[0].toUpperCase()+Mo.slice(1);yr(Zg,"on"+e0)}yr(ld,"onAnimationEnd"),yr(cd,"onAnimationIteration"),yr(ud,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(dd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t0=new Set("cancel close invalid load scroll toggle".split(" ").concat(_s));function md(e,r,o){var u=e.type||"unknown-event";e.currentTarget=o,Zp(u,r,void 0,e),e.currentTarget=null}function pd(e,r){r=(r&4)!==0;for(var o=0;o<e.length;o++){var u=e[o],h=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var v=u.length-1;0<=v;v--){var S=u[v],T=S.instance,z=S.currentTarget;if(S=S.listener,T!==g&&h.isPropagationStopped())break e;md(h,S,z),g=T}else for(v=0;v<u.length;v++){if(S=u[v],T=S.instance,z=S.currentTarget,S=S.listener,T!==g&&h.isPropagationStopped())break e;md(h,S,z),g=T}}}if(hi)throw e=go,hi=!1,go=null,e}function Ae(e,r){var o=r[Go];o===void 0&&(o=r[Go]=new Set);var u=e+"__bubble";o.has(u)||(gd(r,e,2,!1),o.add(u))}function Bo(e,r,o){var u=0;r&&(u|=4),gd(o,e,u,r)}var Ti="_reactListening"+Math.random().toString(36).slice(2);function ks(e){if(!e[Ti]){e[Ti]=!0,a.forEach(function(o){o!=="selectionchange"&&(t0.has(o)||Bo(o,!1,e),Bo(o,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Ti]||(r[Ti]=!0,Bo("selectionchange",!1,r))}}function gd(e,r,o,u){switch(Mu(r)){case 1:var h=pg;break;case 4:h=gg;break;default:h=No}o=h.bind(null,r,o,e),h=void 0,!po||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(r,o,{capture:!0,passive:h}):e.addEventListener(r,o,!0):h!==void 0?e.addEventListener(r,o,{passive:h}):e.addEventListener(r,o,!1)}function zo(e,r,o,u,h){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(v===4)for(v=u.return;v!==null;){var T=v.tag;if((T===3||T===4)&&(T=v.stateNode.containerInfo,T===h||T.nodeType===8&&T.parentNode===h))return;v=v.return}for(;S!==null;){if(v=Hr(S),v===null)return;if(T=v.tag,T===5||T===6){u=g=v;continue e}S=S.parentNode}}u=u.return}wu(function(){var z=g,J=ho(o),Q=[];e:{var K=hd.get(e);if(K!==void 0){var ne=So,oe=e;switch(e){case"keypress":if(Ni(o)===0)break e;case"keydown":case"keyup":ne=Pg;break;case"focusin":oe="focus",ne=To;break;case"focusout":oe="blur",ne=To;break;case"beforeblur":case"afterblur":ne=To;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Ig;break;case ld:case cd:case ud:ne=jg;break;case dd:ne=Ug;break;case"scroll":ne=xg;break;case"wheel":ne=Dg;break;case"copy":case"cut":case"paste":ne=_g;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Wu}var le=(r&4)!==0,ze=!le&&e==="scroll",D=le?K!==null?K+"Capture":null:K;le=[];for(var A=z,M;A!==null;){M=A;var X=M.stateNode;if(M.tag===5&&X!==null&&(M=X,D!==null&&(X=os(A,D),X!=null&&le.push(Ss(A,X,M)))),ze)break;A=A.return}0<le.length&&(K=new ne(K,oe,null,o,J),Q.push({event:K,listeners:le}))}}if((r&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",K&&o!==uo&&(oe=o.relatedTarget||o.fromElement)&&(Hr(oe)||oe[rr]))break e;if((ne||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,ne?(oe=o.relatedTarget||o.toElement,ne=z,oe=oe?Hr(oe):null,oe!==null&&(ze=Vr(oe),oe!==ze||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(ne=null,oe=z),ne!==oe)){if(le=Fu,X="onMouseLeave",D="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(le=Wu,X="onPointerLeave",D="onPointerEnter",A="pointer"),ze=ne==null?K:Sn(ne),M=oe==null?K:Sn(oe),K=new le(X,A+"leave",ne,o,J),K.target=ze,K.relatedTarget=M,X=null,Hr(J)===z&&(le=new le(D,A+"enter",oe,o,J),le.target=M,le.relatedTarget=ze,X=le),ze=X,ne&&oe)t:{for(le=ne,D=oe,A=0,M=le;M;M=_n(M))A++;for(M=0,X=D;X;X=_n(X))M++;for(;0<A-M;)le=_n(le),A--;for(;0<M-A;)D=_n(D),M--;for(;A--;){if(le===D||D!==null&&le===D.alternate)break t;le=_n(le),D=_n(D)}le=null}else le=null;ne!==null&&xd(Q,K,ne,le,!1),oe!==null&&ze!==null&&xd(Q,ze,oe,le,!0)}}e:{if(K=z?Sn(z):window,ne=K.nodeName&&K.nodeName.toLowerCase(),ne==="select"||ne==="input"&&K.type==="file")var ue=Vg;else if(Qu(K))if(Xu)ue=Jg;else{ue=Gg;var me=Hg}else(ne=K.nodeName)&&ne.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(ue=Kg);if(ue&&(ue=ue(e,z))){Yu(Q,ue,o,J);break e}me&&me(e,K,z),e==="focusout"&&(me=K._wrapperState)&&me.controlled&&K.type==="number"&&io(K,"number",K.value)}switch(me=z?Sn(z):window,e){case"focusin":(Qu(me)||me.contentEditable==="true")&&(jn=me,Lo=z,Ns=null);break;case"focusout":Ns=Lo=jn=null;break;case"mousedown":Uo=!0;break;case"contextmenu":case"mouseup":case"dragend":Uo=!1,ad(Q,o,J);break;case"selectionchange":if(Xg)break;case"keydown":case"keyup":ad(Q,o,J)}var pe;if(Po)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else wn?Ku(e,o)&&(ve="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(Vu&&o.locale!=="ko"&&(wn||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&wn&&(pe=Bu()):(xr=J,ko="value"in xr?xr.value:xr.textContent,wn=!0)),me=Ri(z,ve),0<me.length&&(ve=new qu(ve,e,null,o,J),Q.push({event:ve,listeners:me}),pe?ve.data=pe:(pe=Ju(o),pe!==null&&(ve.data=pe)))),(pe=Bg?zg(e,o):Fg(e,o))&&(z=Ri(z,"onBeforeInput"),0<z.length&&(J=new qu("onBeforeInput","beforeinput",null,o,J),Q.push({event:J,listeners:z}),J.data=pe))}pd(Q,r)})}function Ss(e,r,o){return{instance:e,listener:r,currentTarget:o}}function Ri(e,r){for(var o=r+"Capture",u=[];e!==null;){var h=e,g=h.stateNode;h.tag===5&&g!==null&&(h=g,g=os(e,o),g!=null&&u.unshift(Ss(e,g,h)),g=os(e,r),g!=null&&u.push(Ss(e,g,h))),e=e.return}return u}function _n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xd(e,r,o,u,h){for(var g=r._reactName,v=[];o!==null&&o!==u;){var S=o,T=S.alternate,z=S.stateNode;if(T!==null&&T===u)break;S.tag===5&&z!==null&&(S=z,h?(T=os(o,g),T!=null&&v.unshift(Ss(o,T,S))):h||(T=os(o,g),T!=null&&v.push(Ss(o,T,S)))),o=o.return}v.length!==0&&e.push({event:r,listeners:v})}var r0=/\r\n?/g,n0=/\u0000|\uFFFD/g;function yd(e){return(typeof e=="string"?e:""+e).replace(r0,`
`).replace(n0,"")}function Pi(e,r,o){if(r=yd(r),yd(e)!==r&&o)throw Error(s(425))}function Oi(){}var Fo=null,qo=null;function Wo(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Vo=typeof setTimeout=="function"?setTimeout:void 0,s0=typeof clearTimeout=="function"?clearTimeout:void 0,vd=typeof Promise=="function"?Promise:void 0,i0=typeof queueMicrotask=="function"?queueMicrotask:typeof vd<"u"?function(e){return vd.resolve(null).then(e).catch(a0)}:Vo;function a0(e){setTimeout(function(){throw e})}function Ho(e,r){var o=r,u=0;do{var h=o.nextSibling;if(e.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){e.removeChild(h),gs(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);gs(r)}function vr(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function bd(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return e;r--}else o==="/$"&&r++}e=e.previousSibling}return null}var kn=Math.random().toString(36).slice(2),Gt="__reactFiber$"+kn,Es="__reactProps$"+kn,rr="__reactContainer$"+kn,Go="__reactEvents$"+kn,o0="__reactListeners$"+kn,l0="__reactHandles$"+kn;function Hr(e){var r=e[Gt];if(r)return r;for(var o=e.parentNode;o;){if(r=o[rr]||o[Gt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(e=bd(e);e!==null;){if(o=e[Gt])return o;e=bd(e)}return r}e=o,o=e.parentNode}return null}function Cs(e){return e=e[Gt]||e[rr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Ai(e){return e[Es]||null}var Ko=[],En=-1;function br(e){return{current:e}}function Ie(e){0>En||(e.current=Ko[En],Ko[En]=null,En--)}function Pe(e,r){En++,Ko[En]=e.current,e.current=r}var wr={},rt=br(wr),dt=br(!1),Gr=wr;function Cn(e,r){var o=e.type.contextTypes;if(!o)return wr;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in o)h[g]=r[g];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=h),h}function ht(e){return e=e.childContextTypes,e!=null}function Ii(){Ie(dt),Ie(rt)}function wd(e,r,o){if(rt.current!==wr)throw Error(s(168));Pe(rt,r),Pe(dt,o)}function jd(e,r,o){var u=e.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(s(108,Ee(e)||"Unknown",h));return L({},o,u)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wr,Gr=rt.current,Pe(rt,e),Pe(dt,dt.current),!0}function Nd(e,r,o){var u=e.stateNode;if(!u)throw Error(s(169));o?(e=jd(e,r,Gr),u.__reactInternalMemoizedMergedChildContext=e,Ie(dt),Ie(rt),Pe(rt,e)):Ie(dt),Pe(dt,o)}var nr=null,Ui=!1,Jo=!1;function _d(e){nr===null?nr=[e]:nr.push(e)}function c0(e){Ui=!0,_d(e)}function jr(){if(!Jo&&nr!==null){Jo=!0;var e=0,r=Te;try{var o=nr;for(Te=1;e<o.length;e++){var u=o[e];do u=u(!0);while(u!==null)}nr=null,Ui=!1}catch(h){throw nr!==null&&(nr=nr.slice(e+1)),Su(xo,jr),h}finally{Te=r,Jo=!1}}return null}var Tn=[],Rn=0,$i=null,Di=0,Et=[],Ct=0,Kr=null,sr=1,ir="";function Jr(e,r){Tn[Rn++]=Di,Tn[Rn++]=$i,$i=e,Di=r}function kd(e,r,o){Et[Ct++]=sr,Et[Ct++]=ir,Et[Ct++]=Kr,Kr=e;var u=sr;e=ir;var h=32-It(u)-1;u&=~(1<<h),o+=1;var g=32-It(r)+h;if(30<g){var v=h-h%5;g=(u&(1<<v)-1).toString(32),u>>=v,h-=v,sr=1<<32-It(r)+h|o<<h|u,ir=g+e}else sr=1<<g|o<<h|u,ir=e}function Qo(e){e.return!==null&&(Jr(e,1),kd(e,1,0))}function Yo(e){for(;e===$i;)$i=Tn[--Rn],Tn[Rn]=null,Di=Tn[--Rn],Tn[Rn]=null;for(;e===Kr;)Kr=Et[--Ct],Et[Ct]=null,ir=Et[--Ct],Et[Ct]=null,sr=Et[--Ct],Et[Ct]=null}var wt=null,jt=null,Le=!1,Ut=null;function Sd(e,r){var o=Ot(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=e,r=e.deletions,r===null?(e.deletions=[o],e.flags|=16):r.push(o)}function Ed(e,r){switch(e.tag){case 5:var o=e.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,wt=e,jt=vr(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,wt=e,jt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Kr!==null?{id:sr,overflow:ir}:null,e.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Ot(18,null,null,0),o.stateNode=r,o.return=e,e.child=o,wt=e,jt=null,!0):!1;default:return!1}}function Xo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zo(e){if(Le){var r=jt;if(r){var o=r;if(!Ed(e,r)){if(Xo(e))throw Error(s(418));r=vr(o.nextSibling);var u=wt;r&&Ed(e,r)?Sd(u,o):(e.flags=e.flags&-4097|2,Le=!1,wt=e)}}else{if(Xo(e))throw Error(s(418));e.flags=e.flags&-4097|2,Le=!1,wt=e}}}function Cd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Mi(e){if(e!==wt)return!1;if(!Le)return Cd(e),Le=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Wo(e.type,e.memoizedProps)),r&&(r=jt)){if(Xo(e))throw Td(),Error(s(418));for(;r;)Sd(e,r),r=vr(r.nextSibling)}if(Cd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(r===0){jt=vr(e.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}e=e.nextSibling}jt=null}}else jt=wt?vr(e.stateNode.nextSibling):null;return!0}function Td(){for(var e=jt;e;)e=vr(e.nextSibling)}function Pn(){jt=wt=null,Le=!1}function el(e){Ut===null?Ut=[e]:Ut.push(e)}var u0=P.ReactCurrentBatchConfig;function Ts(e,r,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var u=o.stateNode}if(!u)throw Error(s(147,e));var h=u,g=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===g?r.ref:(r=function(v){var S=h.refs;v===null?delete S[g]:S[g]=v},r._stringRef=g,r)}if(typeof e!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,e))}return e}function Bi(e,r){throw e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function Rd(e){var r=e._init;return r(e._payload)}function Pd(e){function r(D,A){if(e){var M=D.deletions;M===null?(D.deletions=[A],D.flags|=16):M.push(A)}}function o(D,A){if(!e)return null;for(;A!==null;)r(D,A),A=A.sibling;return null}function u(D,A){for(D=new Map;A!==null;)A.key!==null?D.set(A.key,A):D.set(A.index,A),A=A.sibling;return D}function h(D,A){return D=Rr(D,A),D.index=0,D.sibling=null,D}function g(D,A,M){return D.index=M,e?(M=D.alternate,M!==null?(M=M.index,M<A?(D.flags|=2,A):M):(D.flags|=2,A)):(D.flags|=1048576,A)}function v(D){return e&&D.alternate===null&&(D.flags|=2),D}function S(D,A,M,X){return A===null||A.tag!==6?(A=Vl(M,D.mode,X),A.return=D,A):(A=h(A,M),A.return=D,A)}function T(D,A,M,X){var ue=M.type;return ue===H?J(D,A,M.props.children,X,M.key):A!==null&&(A.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===se&&Rd(ue)===A.type)?(X=h(A,M.props),X.ref=Ts(D,A,M),X.return=D,X):(X=ua(M.type,M.key,M.props,null,D.mode,X),X.ref=Ts(D,A,M),X.return=D,X)}function z(D,A,M,X){return A===null||A.tag!==4||A.stateNode.containerInfo!==M.containerInfo||A.stateNode.implementation!==M.implementation?(A=Hl(M,D.mode,X),A.return=D,A):(A=h(A,M.children||[]),A.return=D,A)}function J(D,A,M,X,ue){return A===null||A.tag!==7?(A=nn(M,D.mode,X,ue),A.return=D,A):(A=h(A,M),A.return=D,A)}function Q(D,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Vl(""+A,D.mode,M),A.return=D,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case I:return M=ua(A.type,A.key,A.props,null,D.mode,M),M.ref=Ts(D,null,A),M.return=D,M;case F:return A=Hl(A,D.mode,M),A.return=D,A;case se:var X=A._init;return Q(D,X(A._payload),M)}if(ss(A)||E(A))return A=nn(A,D.mode,M,null),A.return=D,A;Bi(D,A)}return null}function K(D,A,M,X){var ue=A!==null?A.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ue!==null?null:S(D,A,""+M,X);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case I:return M.key===ue?T(D,A,M,X):null;case F:return M.key===ue?z(D,A,M,X):null;case se:return ue=M._init,K(D,A,ue(M._payload),X)}if(ss(M)||E(M))return ue!==null?null:J(D,A,M,X,null);Bi(D,M)}return null}function ne(D,A,M,X,ue){if(typeof X=="string"&&X!==""||typeof X=="number")return D=D.get(M)||null,S(A,D,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case I:return D=D.get(X.key===null?M:X.key)||null,T(A,D,X,ue);case F:return D=D.get(X.key===null?M:X.key)||null,z(A,D,X,ue);case se:var me=X._init;return ne(D,A,M,me(X._payload),ue)}if(ss(X)||E(X))return D=D.get(M)||null,J(A,D,X,ue,null);Bi(A,X)}return null}function oe(D,A,M,X){for(var ue=null,me=null,pe=A,ve=A=0,Xe=null;pe!==null&&ve<M.length;ve++){pe.index>ve?(Xe=pe,pe=null):Xe=pe.sibling;var ke=K(D,pe,M[ve],X);if(ke===null){pe===null&&(pe=Xe);break}e&&pe&&ke.alternate===null&&r(D,pe),A=g(ke,A,ve),me===null?ue=ke:me.sibling=ke,me=ke,pe=Xe}if(ve===M.length)return o(D,pe),Le&&Jr(D,ve),ue;if(pe===null){for(;ve<M.length;ve++)pe=Q(D,M[ve],X),pe!==null&&(A=g(pe,A,ve),me===null?ue=pe:me.sibling=pe,me=pe);return Le&&Jr(D,ve),ue}for(pe=u(D,pe);ve<M.length;ve++)Xe=ne(pe,D,ve,M[ve],X),Xe!==null&&(e&&Xe.alternate!==null&&pe.delete(Xe.key===null?ve:Xe.key),A=g(Xe,A,ve),me===null?ue=Xe:me.sibling=Xe,me=Xe);return e&&pe.forEach(function(Pr){return r(D,Pr)}),Le&&Jr(D,ve),ue}function le(D,A,M,X){var ue=E(M);if(typeof ue!="function")throw Error(s(150));if(M=ue.call(M),M==null)throw Error(s(151));for(var me=ue=null,pe=A,ve=A=0,Xe=null,ke=M.next();pe!==null&&!ke.done;ve++,ke=M.next()){pe.index>ve?(Xe=pe,pe=null):Xe=pe.sibling;var Pr=K(D,pe,ke.value,X);if(Pr===null){pe===null&&(pe=Xe);break}e&&pe&&Pr.alternate===null&&r(D,pe),A=g(Pr,A,ve),me===null?ue=Pr:me.sibling=Pr,me=Pr,pe=Xe}if(ke.done)return o(D,pe),Le&&Jr(D,ve),ue;if(pe===null){for(;!ke.done;ve++,ke=M.next())ke=Q(D,ke.value,X),ke!==null&&(A=g(ke,A,ve),me===null?ue=ke:me.sibling=ke,me=ke);return Le&&Jr(D,ve),ue}for(pe=u(D,pe);!ke.done;ve++,ke=M.next())ke=ne(pe,D,ve,ke.value,X),ke!==null&&(e&&ke.alternate!==null&&pe.delete(ke.key===null?ve:ke.key),A=g(ke,A,ve),me===null?ue=ke:me.sibling=ke,me=ke);return e&&pe.forEach(function(q0){return r(D,q0)}),Le&&Jr(D,ve),ue}function ze(D,A,M,X){if(typeof M=="object"&&M!==null&&M.type===H&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case I:e:{for(var ue=M.key,me=A;me!==null;){if(me.key===ue){if(ue=M.type,ue===H){if(me.tag===7){o(D,me.sibling),A=h(me,M.props.children),A.return=D,D=A;break e}}else if(me.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===se&&Rd(ue)===me.type){o(D,me.sibling),A=h(me,M.props),A.ref=Ts(D,me,M),A.return=D,D=A;break e}o(D,me);break}else r(D,me);me=me.sibling}M.type===H?(A=nn(M.props.children,D.mode,X,M.key),A.return=D,D=A):(X=ua(M.type,M.key,M.props,null,D.mode,X),X.ref=Ts(D,A,M),X.return=D,D=X)}return v(D);case F:e:{for(me=M.key;A!==null;){if(A.key===me)if(A.tag===4&&A.stateNode.containerInfo===M.containerInfo&&A.stateNode.implementation===M.implementation){o(D,A.sibling),A=h(A,M.children||[]),A.return=D,D=A;break e}else{o(D,A);break}else r(D,A);A=A.sibling}A=Hl(M,D.mode,X),A.return=D,D=A}return v(D);case se:return me=M._init,ze(D,A,me(M._payload),X)}if(ss(M))return oe(D,A,M,X);if(E(M))return le(D,A,M,X);Bi(D,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,A!==null&&A.tag===6?(o(D,A.sibling),A=h(A,M),A.return=D,D=A):(o(D,A),A=Vl(M,D.mode,X),A.return=D,D=A),v(D)):o(D,A)}return ze}var On=Pd(!0),Od=Pd(!1),zi=br(null),Fi=null,An=null,tl=null;function rl(){tl=An=Fi=null}function nl(e){var r=zi.current;Ie(zi),e._currentValue=r}function sl(e,r,o){for(;e!==null;){var u=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),e===o)break;e=e.return}}function In(e,r){Fi=e,tl=An=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(ft=!0),e.firstContext=null)}function Tt(e){var r=e._currentValue;if(tl!==e)if(e={context:e,memoizedValue:r,next:null},An===null){if(Fi===null)throw Error(s(308));An=e,Fi.dependencies={lanes:0,firstContext:e}}else An=An.next=e;return r}var Qr=null;function il(e){Qr===null?Qr=[e]:Qr.push(e)}function Ad(e,r,o,u){var h=r.interleaved;return h===null?(o.next=o,il(r)):(o.next=h.next,h.next=o),r.interleaved=o,ar(e,u)}function ar(e,r){e.lanes|=r;var o=e.alternate;for(o!==null&&(o.lanes|=r),o=e,e=e.return;e!==null;)e.childLanes|=r,o=e.alternate,o!==null&&(o.childLanes|=r),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Nr=!1;function al(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Id(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function _r(e,r,o){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Ne&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,ar(e,o)}return h=u.interleaved,h===null?(r.next=r,il(u)):(r.next=h.next,h.next=r),u.interleaved=r,ar(e,o)}function qi(e,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=e.pendingLanes,o|=u,r.lanes=o,bo(e,o)}}function Ld(e,r){var o=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};g===null?h=g=v:g=g.next=v,o=o.next}while(o!==null);g===null?h=g=r:g=g.next=r}else h=g=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,effects:u.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=r:e.next=r,o.lastBaseUpdate=r}function Wi(e,r,o,u){var h=e.updateQueue;Nr=!1;var g=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var T=S,z=T.next;T.next=null,v===null?g=z:v.next=z,v=T;var J=e.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==v&&(S===null?J.firstBaseUpdate=z:S.next=z,J.lastBaseUpdate=T))}if(g!==null){var Q=h.baseState;v=0,J=z=T=null,S=g;do{var K=S.lane,ne=S.eventTime;if((u&K)===K){J!==null&&(J=J.next={eventTime:ne,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var oe=e,le=S;switch(K=r,ne=o,le.tag){case 1:if(oe=le.payload,typeof oe=="function"){Q=oe.call(ne,Q,K);break e}Q=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=le.payload,K=typeof oe=="function"?oe.call(ne,Q,K):oe,K==null)break e;Q=L({},Q,K);break e;case 2:Nr=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,K=h.effects,K===null?h.effects=[S]:K.push(S))}else ne={eventTime:ne,lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(z=J=ne,T=Q):J=J.next=ne,v|=K;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);if(J===null&&(T=Q),h.baseState=T,h.firstBaseUpdate=z,h.lastBaseUpdate=J,r=h.shared.interleaved,r!==null){h=r;do v|=h.lane,h=h.next;while(h!==r)}else g===null&&(h.shared.lanes=0);Zr|=v,e.lanes=v,e.memoizedState=Q}}function Ud(e,r,o){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var u=e[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(s(191,h));h.call(u)}}}var Rs={},Kt=br(Rs),Ps=br(Rs),Os=br(Rs);function Yr(e){if(e===Rs)throw Error(s(174));return e}function ol(e,r){switch(Pe(Os,r),Pe(Ps,e),Pe(Kt,Rs),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:oo(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=oo(r,e)}Ie(Kt),Pe(Kt,r)}function Ln(){Ie(Kt),Ie(Ps),Ie(Os)}function $d(e){Yr(Os.current);var r=Yr(Kt.current),o=oo(r,e.type);r!==o&&(Pe(Ps,e),Pe(Kt,o))}function ll(e){Ps.current===e&&(Ie(Kt),Ie(Ps))}var Ue=br(0);function Vi(e){for(var r=e;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var cl=[];function ul(){for(var e=0;e<cl.length;e++)cl[e]._workInProgressVersionPrimary=null;cl.length=0}var Hi=P.ReactCurrentDispatcher,dl=P.ReactCurrentBatchConfig,Xr=0,$e=null,Ge=null,Qe=null,Gi=!1,As=!1,Is=0,d0=0;function nt(){throw Error(s(321))}function hl(e,r){if(r===null)return!1;for(var o=0;o<r.length&&o<e.length;o++)if(!Lt(e[o],r[o]))return!1;return!0}function fl(e,r,o,u,h,g){if(Xr=g,$e=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Hi.current=e===null||e.memoizedState===null?p0:g0,e=o(u,h),As){g=0;do{if(As=!1,Is=0,25<=g)throw Error(s(301));g+=1,Qe=Ge=null,r.updateQueue=null,Hi.current=x0,e=o(u,h)}while(As)}if(Hi.current=Qi,r=Ge!==null&&Ge.next!==null,Xr=0,Qe=Ge=$e=null,Gi=!1,r)throw Error(s(300));return e}function ml(){var e=Is!==0;return Is=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?$e.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Rt(){if(Ge===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var r=Qe===null?$e.memoizedState:Qe.next;if(r!==null)Qe=r,Ge=e;else{if(e===null)throw Error(s(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Qe===null?$e.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Ls(e,r){return typeof r=="function"?r(e):r}function pl(e){var r=Rt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var u=Ge,h=u.baseQueue,g=o.pending;if(g!==null){if(h!==null){var v=h.next;h.next=g.next,g.next=v}u.baseQueue=h=g,o.pending=null}if(h!==null){g=h.next,u=u.baseState;var S=v=null,T=null,z=g;do{var J=z.lane;if((Xr&J)===J)T!==null&&(T=T.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),u=z.hasEagerState?z.eagerState:e(u,z.action);else{var Q={lane:J,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};T===null?(S=T=Q,v=u):T=T.next=Q,$e.lanes|=J,Zr|=J}z=z.next}while(z!==null&&z!==g);T===null?v=u:T.next=S,Lt(u,r.memoizedState)||(ft=!0),r.memoizedState=u,r.baseState=v,r.baseQueue=T,o.lastRenderedState=u}if(e=o.interleaved,e!==null){h=e;do g=h.lane,$e.lanes|=g,Zr|=g,h=h.next;while(h!==e)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function gl(e){var r=Rt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var u=o.dispatch,h=o.pending,g=r.memoizedState;if(h!==null){o.pending=null;var v=h=h.next;do g=e(g,v.action),v=v.next;while(v!==h);Lt(g,r.memoizedState)||(ft=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function Dd(){}function Md(e,r){var o=$e,u=Rt(),h=r(),g=!Lt(u.memoizedState,h);if(g&&(u.memoizedState=h,ft=!0),u=u.queue,xl(Fd.bind(null,o,u,e),[e]),u.getSnapshot!==r||g||Qe!==null&&Qe.memoizedState.tag&1){if(o.flags|=2048,Us(9,zd.bind(null,o,u,h,r),void 0,null),Ye===null)throw Error(s(349));(Xr&30)!==0||Bd(o,r,h)}return h}function Bd(e,r,o){e.flags|=16384,e={getSnapshot:r,value:o},r=$e.updateQueue,r===null?(r={lastEffect:null,stores:null},$e.updateQueue=r,r.stores=[e]):(o=r.stores,o===null?r.stores=[e]:o.push(e))}function zd(e,r,o,u){r.value=o,r.getSnapshot=u,qd(r)&&Wd(e)}function Fd(e,r,o){return o(function(){qd(r)&&Wd(e)})}function qd(e){var r=e.getSnapshot;e=e.value;try{var o=r();return!Lt(e,o)}catch{return!0}}function Wd(e){var r=ar(e,1);r!==null&&Bt(r,e,1,-1)}function Vd(e){var r=Jt();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:e},r.queue=e,e=e.dispatch=m0.bind(null,$e,e),[r.memoizedState,e]}function Us(e,r,o,u){return e={tag:e,create:r,destroy:o,deps:u,next:null},r=$e.updateQueue,r===null?(r={lastEffect:null,stores:null},$e.updateQueue=r,r.lastEffect=e.next=e):(o=r.lastEffect,o===null?r.lastEffect=e.next=e:(u=o.next,o.next=e,e.next=u,r.lastEffect=e)),e}function Hd(){return Rt().memoizedState}function Ki(e,r,o,u){var h=Jt();$e.flags|=e,h.memoizedState=Us(1|r,o,void 0,u===void 0?null:u)}function Ji(e,r,o,u){var h=Rt();u=u===void 0?null:u;var g=void 0;if(Ge!==null){var v=Ge.memoizedState;if(g=v.destroy,u!==null&&hl(u,v.deps)){h.memoizedState=Us(r,o,g,u);return}}$e.flags|=e,h.memoizedState=Us(1|r,o,g,u)}function Gd(e,r){return Ki(8390656,8,e,r)}function xl(e,r){return Ji(2048,8,e,r)}function Kd(e,r){return Ji(4,2,e,r)}function Jd(e,r){return Ji(4,4,e,r)}function Qd(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Yd(e,r,o){return o=o!=null?o.concat([e]):null,Ji(4,4,Qd.bind(null,r,e),o)}function yl(){}function Xd(e,r){var o=Rt();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&hl(r,u[1])?u[0]:(o.memoizedState=[e,r],e)}function Zd(e,r){var o=Rt();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&hl(r,u[1])?u[0]:(e=e(),o.memoizedState=[e,r],e)}function eh(e,r,o){return(Xr&21)===0?(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=o):(Lt(o,r)||(o=Ru(),$e.lanes|=o,Zr|=o,e.baseState=!0),r)}function h0(e,r){var o=Te;Te=o!==0&&4>o?o:4,e(!0);var u=dl.transition;dl.transition={};try{e(!1),r()}finally{Te=o,dl.transition=u}}function th(){return Rt().memoizedState}function f0(e,r,o){var u=Cr(e);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},rh(e))nh(r,o);else if(o=Ad(e,r,o,u),o!==null){var h=ut();Bt(o,e,u,h),sh(o,r,u)}}function m0(e,r,o){var u=Cr(e),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(rh(e))nh(r,h);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var v=r.lastRenderedState,S=g(v,o);if(h.hasEagerState=!0,h.eagerState=S,Lt(S,v)){var T=r.interleaved;T===null?(h.next=h,il(r)):(h.next=T.next,T.next=h),r.interleaved=h;return}}catch{}finally{}o=Ad(e,r,h,u),o!==null&&(h=ut(),Bt(o,e,u,h),sh(o,r,u))}}function rh(e){var r=e.alternate;return e===$e||r!==null&&r===$e}function nh(e,r){As=Gi=!0;var o=e.pending;o===null?r.next=r:(r.next=o.next,o.next=r),e.pending=r}function sh(e,r,o){if((o&4194240)!==0){var u=r.lanes;u&=e.pendingLanes,o|=u,r.lanes=o,bo(e,o)}}var Qi={readContext:Tt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},p0={readContext:Tt,useCallback:function(e,r){return Jt().memoizedState=[e,r===void 0?null:r],e},useContext:Tt,useEffect:Gd,useImperativeHandle:function(e,r,o){return o=o!=null?o.concat([e]):null,Ki(4194308,4,Qd.bind(null,r,e),o)},useLayoutEffect:function(e,r){return Ki(4194308,4,e,r)},useInsertionEffect:function(e,r){return Ki(4,2,e,r)},useMemo:function(e,r){var o=Jt();return r=r===void 0?null:r,e=e(),o.memoizedState=[e,r],e},useReducer:function(e,r,o){var u=Jt();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},u.queue=e,e=e.dispatch=f0.bind(null,$e,e),[u.memoizedState,e]},useRef:function(e){var r=Jt();return e={current:e},r.memoizedState=e},useState:Vd,useDebugValue:yl,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=Vd(!1),r=e[0];return e=h0.bind(null,e[1]),Jt().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,o){var u=$e,h=Jt();if(Le){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Ye===null)throw Error(s(349));(Xr&30)!==0||Bd(u,r,o)}h.memoizedState=o;var g={value:o,getSnapshot:r};return h.queue=g,Gd(Fd.bind(null,u,g,e),[e]),u.flags|=2048,Us(9,zd.bind(null,u,g,o,r),void 0,null),o},useId:function(){var e=Jt(),r=Ye.identifierPrefix;if(Le){var o=ir,u=sr;o=(u&~(1<<32-It(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Is++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=d0++,r=":"+r+"r"+o.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},g0={readContext:Tt,useCallback:Xd,useContext:Tt,useEffect:xl,useImperativeHandle:Yd,useInsertionEffect:Kd,useLayoutEffect:Jd,useMemo:Zd,useReducer:pl,useRef:Hd,useState:function(){return pl(Ls)},useDebugValue:yl,useDeferredValue:function(e){var r=Rt();return eh(r,Ge.memoizedState,e)},useTransition:function(){var e=pl(Ls)[0],r=Rt().memoizedState;return[e,r]},useMutableSource:Dd,useSyncExternalStore:Md,useId:th,unstable_isNewReconciler:!1},x0={readContext:Tt,useCallback:Xd,useContext:Tt,useEffect:xl,useImperativeHandle:Yd,useInsertionEffect:Kd,useLayoutEffect:Jd,useMemo:Zd,useReducer:gl,useRef:Hd,useState:function(){return gl(Ls)},useDebugValue:yl,useDeferredValue:function(e){var r=Rt();return Ge===null?r.memoizedState=e:eh(r,Ge.memoizedState,e)},useTransition:function(){var e=gl(Ls)[0],r=Rt().memoizedState;return[e,r]},useMutableSource:Dd,useSyncExternalStore:Md,useId:th,unstable_isNewReconciler:!1};function $t(e,r){if(e&&e.defaultProps){r=L({},r),e=e.defaultProps;for(var o in e)r[o]===void 0&&(r[o]=e[o]);return r}return r}function vl(e,r,o,u){r=e.memoizedState,o=o(u,r),o=o==null?r:L({},r,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Yi={isMounted:function(e){return(e=e._reactInternals)?Vr(e)===e:!1},enqueueSetState:function(e,r,o){e=e._reactInternals;var u=ut(),h=Cr(e),g=or(u,h);g.payload=r,o!=null&&(g.callback=o),r=_r(e,g,h),r!==null&&(Bt(r,e,h,u),qi(r,e,h))},enqueueReplaceState:function(e,r,o){e=e._reactInternals;var u=ut(),h=Cr(e),g=or(u,h);g.tag=1,g.payload=r,o!=null&&(g.callback=o),r=_r(e,g,h),r!==null&&(Bt(r,e,h,u),qi(r,e,h))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var o=ut(),u=Cr(e),h=or(o,u);h.tag=2,r!=null&&(h.callback=r),r=_r(e,h,u),r!==null&&(Bt(r,e,u,o),qi(r,e,u))}};function ih(e,r,o,u,h,g,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,g,v):r.prototype&&r.prototype.isPureReactComponent?!js(o,u)||!js(h,g):!0}function ah(e,r,o){var u=!1,h=wr,g=r.contextType;return typeof g=="object"&&g!==null?g=Tt(g):(h=ht(r)?Gr:rt.current,u=r.contextTypes,g=(u=u!=null)?Cn(e,h):wr),r=new r(o,g),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Yi,e.stateNode=r,r._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=g),r}function oh(e,r,o,u){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==e&&Yi.enqueueReplaceState(r,r.state,null)}function bl(e,r,o,u){var h=e.stateNode;h.props=o,h.state=e.memoizedState,h.refs={},al(e);var g=r.contextType;typeof g=="object"&&g!==null?h.context=Tt(g):(g=ht(r)?Gr:rt.current,h.context=Cn(e,g)),h.state=e.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(vl(e,r,g,o),h.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Yi.enqueueReplaceState(h,h.state,null),Wi(e,o,h,u),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Un(e,r){try{var o="",u=r;do o+=ge(u),u=u.return;while(u);var h=o}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:r,stack:h,digest:null}}function wl(e,r,o){return{value:e,source:null,stack:o??null,digest:r??null}}function jl(e,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var y0=typeof WeakMap=="function"?WeakMap:Map;function lh(e,r,o){o=or(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){sa||(sa=!0,$l=u),jl(e,r)},o}function ch(e,r,o){o=or(-1,o),o.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){jl(e,r)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(o.callback=function(){jl(e,r),typeof u!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function uh(e,r,o){var u=e.pingCache;if(u===null){u=e.pingCache=new y0;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),e=O0.bind(null,e,r,o),r.then(e,e))}function dh(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function hh(e,r,o,u,h){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=or(-1,1),r.tag=2,_r(o,r,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var v0=P.ReactCurrentOwner,ft=!1;function ct(e,r,o,u){r.child=e===null?Od(r,null,o,u):On(r,e.child,o,u)}function fh(e,r,o,u,h){o=o.render;var g=r.ref;return In(r,h),u=fl(e,r,o,u,g,h),o=ml(),e!==null&&!ft?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~h,lr(e,r,h)):(Le&&o&&Qo(r),r.flags|=1,ct(e,r,u,h),r.child)}function mh(e,r,o,u,h){if(e===null){var g=o.type;return typeof g=="function"&&!Wl(g)&&g.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=g,ph(e,r,g,u,h)):(e=ua(o.type,null,u,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(g=e.child,(e.lanes&h)===0){var v=g.memoizedProps;if(o=o.compare,o=o!==null?o:js,o(v,u)&&e.ref===r.ref)return lr(e,r,h)}return r.flags|=1,e=Rr(g,u),e.ref=r.ref,e.return=r,r.child=e}function ph(e,r,o,u,h){if(e!==null){var g=e.memoizedProps;if(js(g,u)&&e.ref===r.ref)if(ft=!1,r.pendingProps=u=g,(e.lanes&h)!==0)(e.flags&131072)!==0&&(ft=!0);else return r.lanes=e.lanes,lr(e,r,h)}return Nl(e,r,o,u,h)}function gh(e,r,o){var u=r.pendingProps,h=u.children,g=e!==null?e.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Dn,Nt),Nt|=o;else{if((o&1073741824)===0)return e=g!==null?g.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Pe(Dn,Nt),Nt|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=g!==null?g.baseLanes:o,Pe(Dn,Nt),Nt|=u}else g!==null?(u=g.baseLanes|o,r.memoizedState=null):u=o,Pe(Dn,Nt),Nt|=u;return ct(e,r,h,o),r.child}function xh(e,r){var o=r.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Nl(e,r,o,u,h){var g=ht(o)?Gr:rt.current;return g=Cn(r,g),In(r,h),o=fl(e,r,o,u,g,h),u=ml(),e!==null&&!ft?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~h,lr(e,r,h)):(Le&&u&&Qo(r),r.flags|=1,ct(e,r,o,h),r.child)}function yh(e,r,o,u,h){if(ht(o)){var g=!0;Li(r)}else g=!1;if(In(r,h),r.stateNode===null)Zi(e,r),ah(r,o,u),bl(r,o,u,h),u=!0;else if(e===null){var v=r.stateNode,S=r.memoizedProps;v.props=S;var T=v.context,z=o.contextType;typeof z=="object"&&z!==null?z=Tt(z):(z=ht(o)?Gr:rt.current,z=Cn(r,z));var J=o.getDerivedStateFromProps,Q=typeof J=="function"||typeof v.getSnapshotBeforeUpdate=="function";Q||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==u||T!==z)&&oh(r,v,u,z),Nr=!1;var K=r.memoizedState;v.state=K,Wi(r,u,v,h),T=r.memoizedState,S!==u||K!==T||dt.current||Nr?(typeof J=="function"&&(vl(r,o,J,u),T=r.memoizedState),(S=Nr||ih(r,o,S,u,K,T,z))?(Q||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=T),v.props=u,v.state=T,v.context=z,u=S):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,Id(e,r),S=r.memoizedProps,z=r.type===r.elementType?S:$t(r.type,S),v.props=z,Q=r.pendingProps,K=v.context,T=o.contextType,typeof T=="object"&&T!==null?T=Tt(T):(T=ht(o)?Gr:rt.current,T=Cn(r,T));var ne=o.getDerivedStateFromProps;(J=typeof ne=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==Q||K!==T)&&oh(r,v,u,T),Nr=!1,K=r.memoizedState,v.state=K,Wi(r,u,v,h);var oe=r.memoizedState;S!==Q||K!==oe||dt.current||Nr?(typeof ne=="function"&&(vl(r,o,ne,u),oe=r.memoizedState),(z=Nr||ih(r,o,z,u,K,oe,T)||!1)?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,oe,T),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,oe,T)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===e.memoizedProps&&K===e.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&K===e.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=oe),v.props=u,v.state=oe,v.context=T,u=z):(typeof v.componentDidUpdate!="function"||S===e.memoizedProps&&K===e.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&K===e.memoizedState||(r.flags|=1024),u=!1)}return _l(e,r,o,u,g,h)}function _l(e,r,o,u,h,g){xh(e,r);var v=(r.flags&128)!==0;if(!u&&!v)return h&&Nd(r,o,!1),lr(e,r,g);u=r.stateNode,v0.current=r;var S=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,e!==null&&v?(r.child=On(r,e.child,null,g),r.child=On(r,null,S,g)):ct(e,r,S,g),r.memoizedState=u.state,h&&Nd(r,o,!0),r.child}function vh(e){var r=e.stateNode;r.pendingContext?wd(e,r.pendingContext,r.pendingContext!==r.context):r.context&&wd(e,r.context,!1),ol(e,r.containerInfo)}function bh(e,r,o,u,h){return Pn(),el(h),r.flags|=256,ct(e,r,o,u),r.child}var kl={dehydrated:null,treeContext:null,retryLane:0};function Sl(e){return{baseLanes:e,cachePool:null,transitions:null}}function wh(e,r,o){var u=r.pendingProps,h=Ue.current,g=!1,v=(r.flags&128)!==0,S;if((S=v)||(S=e!==null&&e.memoizedState===null?!1:(h&2)!==0),S?(g=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Pe(Ue,h&1),e===null)return Zo(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(v=u.children,e=u.fallback,g?(u=r.mode,g=r.child,v={mode:"hidden",children:v},(u&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=v):g=da(v,u,0,null),e=nn(e,u,o,null),g.return=r,e.return=r,g.sibling=e,r.child=g,r.child.memoizedState=Sl(o),r.memoizedState=kl,e):El(r,v));if(h=e.memoizedState,h!==null&&(S=h.dehydrated,S!==null))return b0(e,r,v,u,S,h,o);if(g){g=u.fallback,v=r.mode,h=e.child,S=h.sibling;var T={mode:"hidden",children:u.children};return(v&1)===0&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=T,r.deletions=null):(u=Rr(h,T),u.subtreeFlags=h.subtreeFlags&14680064),S!==null?g=Rr(S,g):(g=nn(g,v,o,null),g.flags|=2),g.return=r,u.return=r,u.sibling=g,r.child=u,u=g,g=r.child,v=e.child.memoizedState,v=v===null?Sl(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},g.memoizedState=v,g.childLanes=e.childLanes&~o,r.memoizedState=kl,u}return g=e.child,e=g.sibling,u=Rr(g,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,e!==null&&(o=r.deletions,o===null?(r.deletions=[e],r.flags|=16):o.push(e)),r.child=u,r.memoizedState=null,u}function El(e,r){return r=da({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Xi(e,r,o,u){return u!==null&&el(u),On(r,e.child,null,o),e=El(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function b0(e,r,o,u,h,g,v){if(o)return r.flags&256?(r.flags&=-257,u=wl(Error(s(422))),Xi(e,r,v,u)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(g=u.fallback,h=r.mode,u=da({mode:"visible",children:u.children},h,0,null),g=nn(g,h,v,null),g.flags|=2,u.return=r,g.return=r,u.sibling=g,r.child=u,(r.mode&1)!==0&&On(r,e.child,null,v),r.child.memoizedState=Sl(v),r.memoizedState=kl,g);if((r.mode&1)===0)return Xi(e,r,v,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var S=u.dgst;return u=S,g=Error(s(419)),u=wl(g,u,void 0),Xi(e,r,v,u)}if(S=(v&e.childLanes)!==0,ft||S){if(u=Ye,u!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|v))!==0?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,ar(e,h),Bt(u,e,h,-1))}return ql(),u=wl(Error(s(421))),Xi(e,r,v,u)}return h.data==="$?"?(r.flags|=128,r.child=e.child,r=A0.bind(null,e),h._reactRetry=r,null):(e=g.treeContext,jt=vr(h.nextSibling),wt=r,Le=!0,Ut=null,e!==null&&(Et[Ct++]=sr,Et[Ct++]=ir,Et[Ct++]=Kr,sr=e.id,ir=e.overflow,Kr=r),r=El(r,u.children),r.flags|=4096,r)}function jh(e,r,o){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r),sl(e.return,r,o)}function Cl(e,r,o,u,h){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=h)}function Nh(e,r,o){var u=r.pendingProps,h=u.revealOrder,g=u.tail;if(ct(e,r,u.children,o),u=Ue.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jh(e,o,r);else if(e.tag===19)jh(e,o,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(Pe(Ue,u),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)e=o.alternate,e!==null&&Vi(e)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Cl(r,!1,h,o,g);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&Vi(e)===null){r.child=h;break}e=h.sibling,h.sibling=o,o=h,h=e}Cl(r,!0,o,null,g);break;case"together":Cl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Zi(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function lr(e,r,o){if(e!==null&&(r.dependencies=e.dependencies),Zr|=r.lanes,(o&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,o=Rr(e,e.pendingProps),r.child=o,o.return=r;e.sibling!==null;)e=e.sibling,o=o.sibling=Rr(e,e.pendingProps),o.return=r;o.sibling=null}return r.child}function w0(e,r,o){switch(r.tag){case 3:vh(r),Pn();break;case 5:$d(r);break;case 1:ht(r.type)&&Li(r);break;case 4:ol(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;Pe(zi,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(Pe(Ue,Ue.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?wh(e,r,o):(Pe(Ue,Ue.current&1),e=lr(e,r,o),e!==null?e.sibling:null);Pe(Ue,Ue.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(e.flags&128)!==0){if(u)return Nh(e,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Pe(Ue,Ue.current),u)break;return null;case 22:case 23:return r.lanes=0,gh(e,r,o)}return lr(e,r,o)}var _h,Tl,kh,Sh;_h=function(e,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Tl=function(){},kh=function(e,r,o,u){var h=e.memoizedProps;if(h!==u){e=r.stateNode,Yr(Kt.current);var g=null;switch(o){case"input":h=no(e,h),u=no(e,u),g=[];break;case"select":h=L({},h,{value:void 0}),u=L({},u,{value:void 0}),g=[];break;case"textarea":h=ao(e,h),u=ao(e,u),g=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=Oi)}lo(o,u);var v;o=null;for(z in h)if(!u.hasOwnProperty(z)&&h.hasOwnProperty(z)&&h[z]!=null)if(z==="style"){var S=h[z];for(v in S)S.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(l.hasOwnProperty(z)?g||(g=[]):(g=g||[]).push(z,null));for(z in u){var T=u[z];if(S=h!=null?h[z]:void 0,u.hasOwnProperty(z)&&T!==S&&(T!=null||S!=null))if(z==="style")if(S){for(v in S)!S.hasOwnProperty(v)||T&&T.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in T)T.hasOwnProperty(v)&&S[v]!==T[v]&&(o||(o={}),o[v]=T[v])}else o||(g||(g=[]),g.push(z,o)),o=T;else z==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,S=S?S.__html:void 0,T!=null&&S!==T&&(g=g||[]).push(z,T)):z==="children"?typeof T!="string"&&typeof T!="number"||(g=g||[]).push(z,""+T):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(l.hasOwnProperty(z)?(T!=null&&z==="onScroll"&&Ae("scroll",e),g||S===T||(g=[])):(g=g||[]).push(z,T))}o&&(g=g||[]).push("style",o);var z=g;(r.updateQueue=z)&&(r.flags|=4)}},Sh=function(e,r,o,u){o!==u&&(r.flags|=4)};function $s(e,r){if(!Le)switch(e.tailMode){case"hidden":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function st(e){var r=e.alternate!==null&&e.alternate.child===e.child,o=0,u=0;if(r)for(var h=e.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=o,r}function j0(e,r,o){var u=r.pendingProps;switch(Yo(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return ht(r.type)&&Ii(),st(r),null;case 3:return u=r.stateNode,Ln(),Ie(dt),Ie(rt),ul(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Mi(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ut!==null&&(Bl(Ut),Ut=null))),Tl(e,r),st(r),null;case 5:ll(r);var h=Yr(Os.current);if(o=r.type,e!==null&&r.stateNode!=null)kh(e,r,o,u,h),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(e=Yr(Kt.current),Mi(r)){u=r.stateNode,o=r.type;var g=r.memoizedProps;switch(u[Gt]=r,u[Es]=g,e=(r.mode&1)!==0,o){case"dialog":Ae("cancel",u),Ae("close",u);break;case"iframe":case"object":case"embed":Ae("load",u);break;case"video":case"audio":for(h=0;h<_s.length;h++)Ae(_s[h],u);break;case"source":Ae("error",u);break;case"img":case"image":case"link":Ae("error",u),Ae("load",u);break;case"details":Ae("toggle",u);break;case"input":au(u,g),Ae("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!g.multiple},Ae("invalid",u);break;case"textarea":cu(u,g),Ae("invalid",u)}lo(o,g),h=null;for(var v in g)if(g.hasOwnProperty(v)){var S=g[v];v==="children"?typeof S=="string"?u.textContent!==S&&(g.suppressHydrationWarning!==!0&&Pi(u.textContent,S,e),h=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(g.suppressHydrationWarning!==!0&&Pi(u.textContent,S,e),h=["children",""+S]):l.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&Ae("scroll",u)}switch(o){case"input":li(u),lu(u,g,!0);break;case"textarea":li(u),du(u);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(u.onclick=Oi)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hu(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=v.createElement(o,{is:u.is}):(e=v.createElement(o),o==="select"&&(v=e,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):e=v.createElementNS(e,o),e[Gt]=r,e[Es]=u,_h(e,r,!1,!1),r.stateNode=e;e:{switch(v=co(o,u),o){case"dialog":Ae("cancel",e),Ae("close",e),h=u;break;case"iframe":case"object":case"embed":Ae("load",e),h=u;break;case"video":case"audio":for(h=0;h<_s.length;h++)Ae(_s[h],e);h=u;break;case"source":Ae("error",e),h=u;break;case"img":case"image":case"link":Ae("error",e),Ae("load",e),h=u;break;case"details":Ae("toggle",e),h=u;break;case"input":au(e,u),h=no(e,u),Ae("invalid",e);break;case"option":h=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},h=L({},u,{value:void 0}),Ae("invalid",e);break;case"textarea":cu(e,u),h=ao(e,u),Ae("invalid",e);break;default:h=u}lo(o,h),S=h;for(g in S)if(S.hasOwnProperty(g)){var T=S[g];g==="style"?pu(e,T):g==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&fu(e,T)):g==="children"?typeof T=="string"?(o!=="textarea"||T!=="")&&is(e,T):typeof T=="number"&&is(e,""+T):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(l.hasOwnProperty(g)?T!=null&&g==="onScroll"&&Ae("scroll",e):T!=null&&O(e,g,T,v))}switch(o){case"input":li(e),lu(e,u,!1);break;case"textarea":li(e),du(e);break;case"option":u.value!=null&&e.setAttribute("value",""+_e(u.value));break;case"select":e.multiple=!!u.multiple,g=u.value,g!=null?gn(e,!!u.multiple,g,!1):u.defaultValue!=null&&gn(e,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Oi)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return st(r),null;case 6:if(e&&r.stateNode!=null)Sh(e,r,e.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(o=Yr(Os.current),Yr(Kt.current),Mi(r)){if(u=r.stateNode,o=r.memoizedProps,u[Gt]=r,(g=u.nodeValue!==o)&&(e=wt,e!==null))switch(e.tag){case 3:Pi(u.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pi(u.nodeValue,o,(e.mode&1)!==0)}g&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Gt]=r,r.stateNode=u}return st(r),null;case 13:if(Ie(Ue),u=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&jt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Td(),Pn(),r.flags|=98560,g=!1;else if(g=Mi(r),u!==null&&u.dehydrated!==null){if(e===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Gt]=r}else Pn(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),g=!1}else Ut!==null&&(Bl(Ut),Ut=null),g=!0;if(!g)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(Ue.current&1)!==0?Ke===0&&(Ke=3):ql())),r.updateQueue!==null&&(r.flags|=4),st(r),null);case 4:return Ln(),Tl(e,r),e===null&&ks(r.stateNode.containerInfo),st(r),null;case 10:return nl(r.type._context),st(r),null;case 17:return ht(r.type)&&Ii(),st(r),null;case 19:if(Ie(Ue),g=r.memoizedState,g===null)return st(r),null;if(u=(r.flags&128)!==0,v=g.rendering,v===null)if(u)$s(g,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(v=Vi(e),v!==null){for(r.flags|=128,$s(g,!1),u=v.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)g=o,e=u,g.flags&=14680066,v=g.alternate,v===null?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=v.childLanes,g.lanes=v.lanes,g.child=v.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=v.memoizedProps,g.memoizedState=v.memoizedState,g.updateQueue=v.updateQueue,g.type=v.type,e=v.dependencies,g.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return Pe(Ue,Ue.current&1|2),r.child}e=e.sibling}g.tail!==null&&Be()>Mn&&(r.flags|=128,u=!0,$s(g,!1),r.lanes=4194304)}else{if(!u)if(e=Vi(v),e!==null){if(r.flags|=128,u=!0,o=e.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),$s(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Le)return st(r),null}else 2*Be()-g.renderingStartTime>Mn&&o!==1073741824&&(r.flags|=128,u=!0,$s(g,!1),r.lanes=4194304);g.isBackwards?(v.sibling=r.child,r.child=v):(o=g.last,o!==null?o.sibling=v:r.child=v,g.last=v)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=Be(),r.sibling=null,o=Ue.current,Pe(Ue,u?o&1|2:o&1),r):(st(r),null);case 22:case 23:return Fl(),u=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(Nt&1073741824)!==0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function N0(e,r){switch(Yo(r),r.tag){case 1:return ht(r.type)&&Ii(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Ln(),Ie(dt),Ie(rt),ul(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return ll(r),null;case 13:if(Ie(Ue),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Pn()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Ie(Ue),null;case 4:return Ln(),null;case 10:return nl(r.type._context),null;case 22:case 23:return Fl(),null;case 24:return null;default:return null}}var ea=!1,it=!1,_0=typeof WeakSet=="function"?WeakSet:Set,ie=null;function $n(e,r){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Me(e,r,u)}else o.current=null}function Rl(e,r,o){try{o()}catch(u){Me(e,r,u)}}var Eh=!1;function k0(e,r){if(Fo=bi,e=id(),Io(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var v=0,S=-1,T=-1,z=0,J=0,Q=e,K=null;t:for(;;){for(var ne;Q!==o||h!==0&&Q.nodeType!==3||(S=v+h),Q!==g||u!==0&&Q.nodeType!==3||(T=v+u),Q.nodeType===3&&(v+=Q.nodeValue.length),(ne=Q.firstChild)!==null;)K=Q,Q=ne;for(;;){if(Q===e)break t;if(K===o&&++z===h&&(S=v),K===g&&++J===u&&(T=v),(ne=Q.nextSibling)!==null)break;Q=K,K=Q.parentNode}Q=ne}o=S===-1||T===-1?null:{start:S,end:T}}else o=null}o=o||{start:0,end:0}}else o=null;for(qo={focusedElem:e,selectionRange:o},bi=!1,ie=r;ie!==null;)if(r=ie,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,ie=e;else for(;ie!==null;){r=ie;try{var oe=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var le=oe.memoizedProps,ze=oe.memoizedState,D=r.stateNode,A=D.getSnapshotBeforeUpdate(r.elementType===r.type?le:$t(r.type,le),ze);D.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var M=r.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(X){Me(r,r.return,X)}if(e=r.sibling,e!==null){e.return=r.return,ie=e;break}ie=r.return}return oe=Eh,Eh=!1,oe}function Ds(e,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&e)===e){var g=h.destroy;h.destroy=void 0,g!==void 0&&Rl(r,o,g)}h=h.next}while(h!==u)}}function ta(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Pl(e){var r=e.ref;if(r!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof r=="function"?r(e):r.current=e}}function Ch(e){var r=e.alternate;r!==null&&(e.alternate=null,Ch(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Gt],delete r[Es],delete r[Go],delete r[o0],delete r[l0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Th(e){return e.tag===5||e.tag===3||e.tag===4}function Rh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ol(e,r,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(e,r):o.insertBefore(e,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(e,o)):(r=o,r.appendChild(e)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Oi));else if(u!==4&&(e=e.child,e!==null))for(Ol(e,r,o),e=e.sibling;e!==null;)Ol(e,r,o),e=e.sibling}function Al(e,r,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?o.insertBefore(e,r):o.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Al(e,r,o),e=e.sibling;e!==null;)Al(e,r,o),e=e.sibling}var Ze=null,Dt=!1;function kr(e,r,o){for(o=o.child;o!==null;)Ph(e,r,o),o=o.sibling}function Ph(e,r,o){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(mi,o)}catch{}switch(o.tag){case 5:it||$n(o,r);case 6:var u=Ze,h=Dt;Ze=null,kr(e,r,o),Ze=u,Dt=h,Ze!==null&&(Dt?(e=Ze,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):Ze.removeChild(o.stateNode));break;case 18:Ze!==null&&(Dt?(e=Ze,o=o.stateNode,e.nodeType===8?Ho(e.parentNode,o):e.nodeType===1&&Ho(e,o),gs(e)):Ho(Ze,o.stateNode));break;case 4:u=Ze,h=Dt,Ze=o.stateNode.containerInfo,Dt=!0,kr(e,r,o),Ze=u,Dt=h;break;case 0:case 11:case 14:case 15:if(!it&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var g=h,v=g.destroy;g=g.tag,v!==void 0&&((g&2)!==0||(g&4)!==0)&&Rl(o,r,v),h=h.next}while(h!==u)}kr(e,r,o);break;case 1:if(!it&&($n(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){Me(o,r,S)}kr(e,r,o);break;case 21:kr(e,r,o);break;case 22:o.mode&1?(it=(u=it)||o.memoizedState!==null,kr(e,r,o),it=u):kr(e,r,o);break;default:kr(e,r,o)}}function Oh(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new _0),r.forEach(function(u){var h=I0.bind(null,e,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Mt(e,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var g=e,v=r,S=v;e:for(;S!==null;){switch(S.tag){case 5:Ze=S.stateNode,Dt=!1;break e;case 3:Ze=S.stateNode.containerInfo,Dt=!0;break e;case 4:Ze=S.stateNode.containerInfo,Dt=!0;break e}S=S.return}if(Ze===null)throw Error(s(160));Ph(g,v,h),Ze=null,Dt=!1;var T=h.alternate;T!==null&&(T.return=null),h.return=null}catch(z){Me(h,r,z)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Ah(r,e),r=r.sibling}function Ah(e,r){var o=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(r,e),Qt(e),u&4){try{Ds(3,e,e.return),ta(3,e)}catch(le){Me(e,e.return,le)}try{Ds(5,e,e.return)}catch(le){Me(e,e.return,le)}}break;case 1:Mt(r,e),Qt(e),u&512&&o!==null&&$n(o,o.return);break;case 5:if(Mt(r,e),Qt(e),u&512&&o!==null&&$n(o,o.return),e.flags&32){var h=e.stateNode;try{is(h,"")}catch(le){Me(e,e.return,le)}}if(u&4&&(h=e.stateNode,h!=null)){var g=e.memoizedProps,v=o!==null?o.memoizedProps:g,S=e.type,T=e.updateQueue;if(e.updateQueue=null,T!==null)try{S==="input"&&g.type==="radio"&&g.name!=null&&ou(h,g),co(S,v);var z=co(S,g);for(v=0;v<T.length;v+=2){var J=T[v],Q=T[v+1];J==="style"?pu(h,Q):J==="dangerouslySetInnerHTML"?fu(h,Q):J==="children"?is(h,Q):O(h,J,Q,z)}switch(S){case"input":so(h,g);break;case"textarea":uu(h,g);break;case"select":var K=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!g.multiple;var ne=g.value;ne!=null?gn(h,!!g.multiple,ne,!1):K!==!!g.multiple&&(g.defaultValue!=null?gn(h,!!g.multiple,g.defaultValue,!0):gn(h,!!g.multiple,g.multiple?[]:"",!1))}h[Es]=g}catch(le){Me(e,e.return,le)}}break;case 6:if(Mt(r,e),Qt(e),u&4){if(e.stateNode===null)throw Error(s(162));h=e.stateNode,g=e.memoizedProps;try{h.nodeValue=g}catch(le){Me(e,e.return,le)}}break;case 3:if(Mt(r,e),Qt(e),u&4&&o!==null&&o.memoizedState.isDehydrated)try{gs(r.containerInfo)}catch(le){Me(e,e.return,le)}break;case 4:Mt(r,e),Qt(e);break;case 13:Mt(r,e),Qt(e),h=e.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(Ul=Be())),u&4&&Oh(e);break;case 22:if(J=o!==null&&o.memoizedState!==null,e.mode&1?(it=(z=it)||J,Mt(r,e),it=z):Mt(r,e),Qt(e),u&8192){if(z=e.memoizedState!==null,(e.stateNode.isHidden=z)&&!J&&(e.mode&1)!==0)for(ie=e,J=e.child;J!==null;){for(Q=ie=J;ie!==null;){switch(K=ie,ne=K.child,K.tag){case 0:case 11:case 14:case 15:Ds(4,K,K.return);break;case 1:$n(K,K.return);var oe=K.stateNode;if(typeof oe.componentWillUnmount=="function"){u=K,o=K.return;try{r=u,oe.props=r.memoizedProps,oe.state=r.memoizedState,oe.componentWillUnmount()}catch(le){Me(u,o,le)}}break;case 5:$n(K,K.return);break;case 22:if(K.memoizedState!==null){Uh(Q);continue}}ne!==null?(ne.return=K,ie=ne):Uh(Q)}J=J.sibling}e:for(J=null,Q=e;;){if(Q.tag===5){if(J===null){J=Q;try{h=Q.stateNode,z?(g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(S=Q.stateNode,T=Q.memoizedProps.style,v=T!=null&&T.hasOwnProperty("display")?T.display:null,S.style.display=mu("display",v))}catch(le){Me(e,e.return,le)}}}else if(Q.tag===6){if(J===null)try{Q.stateNode.nodeValue=z?"":Q.memoizedProps}catch(le){Me(e,e.return,le)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===e)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===e)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===e)break e;J===Q&&(J=null),Q=Q.return}J===Q&&(J=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Mt(r,e),Qt(e),u&4&&Oh(e);break;case 21:break;default:Mt(r,e),Qt(e)}}function Qt(e){var r=e.flags;if(r&2){try{e:{for(var o=e.return;o!==null;){if(Th(o)){var u=o;break e}o=o.return}throw Error(s(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(is(h,""),u.flags&=-33);var g=Rh(e);Al(e,g,h);break;case 3:case 4:var v=u.stateNode.containerInfo,S=Rh(e);Ol(e,S,v);break;default:throw Error(s(161))}}catch(T){Me(e,e.return,T)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function S0(e,r,o){ie=e,Ih(e)}function Ih(e,r,o){for(var u=(e.mode&1)!==0;ie!==null;){var h=ie,g=h.child;if(h.tag===22&&u){var v=h.memoizedState!==null||ea;if(!v){var S=h.alternate,T=S!==null&&S.memoizedState!==null||it;S=ea;var z=it;if(ea=v,(it=T)&&!z)for(ie=h;ie!==null;)v=ie,T=v.child,v.tag===22&&v.memoizedState!==null?$h(h):T!==null?(T.return=v,ie=T):$h(h);for(;g!==null;)ie=g,Ih(g),g=g.sibling;ie=h,ea=S,it=z}Lh(e)}else(h.subtreeFlags&8772)!==0&&g!==null?(g.return=h,ie=g):Lh(e)}}function Lh(e){for(;ie!==null;){var r=ie;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:it||ta(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!it)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:$t(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var g=r.updateQueue;g!==null&&Ud(r,g,u);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Ud(r,v,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var T=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&o.focus();break;case"img":T.src&&(o.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var z=r.alternate;if(z!==null){var J=z.memoizedState;if(J!==null){var Q=J.dehydrated;Q!==null&&gs(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}it||r.flags&512&&Pl(r)}catch(K){Me(r,r.return,K)}}if(r===e){ie=null;break}if(o=r.sibling,o!==null){o.return=r.return,ie=o;break}ie=r.return}}function Uh(e){for(;ie!==null;){var r=ie;if(r===e){ie=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ie=o;break}ie=r.return}}function $h(e){for(;ie!==null;){var r=ie;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{ta(4,r)}catch(T){Me(r,o,T)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(T){Me(r,h,T)}}var g=r.return;try{Pl(r)}catch(T){Me(r,g,T)}break;case 5:var v=r.return;try{Pl(r)}catch(T){Me(r,v,T)}}}catch(T){Me(r,r.return,T)}if(r===e){ie=null;break}var S=r.sibling;if(S!==null){S.return=r.return,ie=S;break}ie=r.return}}var E0=Math.ceil,ra=P.ReactCurrentDispatcher,Il=P.ReactCurrentOwner,Pt=P.ReactCurrentBatchConfig,Ne=0,Ye=null,Ve=null,et=0,Nt=0,Dn=br(0),Ke=0,Ms=null,Zr=0,na=0,Ll=0,Bs=null,mt=null,Ul=0,Mn=1/0,cr=null,sa=!1,$l=null,Sr=null,ia=!1,Er=null,aa=0,zs=0,Dl=null,oa=-1,la=0;function ut(){return(Ne&6)!==0?Be():oa!==-1?oa:oa=Be()}function Cr(e){return(e.mode&1)===0?1:(Ne&2)!==0&&et!==0?et&-et:u0.transition!==null?(la===0&&(la=Ru()),la):(e=Te,e!==0||(e=window.event,e=e===void 0?16:Mu(e.type)),e)}function Bt(e,r,o,u){if(50<zs)throw zs=0,Dl=null,Error(s(185));ds(e,o,u),((Ne&2)===0||e!==Ye)&&(e===Ye&&((Ne&2)===0&&(na|=o),Ke===4&&Tr(e,et)),pt(e,u),o===1&&Ne===0&&(r.mode&1)===0&&(Mn=Be()+500,Ui&&jr()))}function pt(e,r){var o=e.callbackNode;ug(e,r);var u=xi(e,e===Ye?et:0);if(u===0)o!==null&&Eu(o),e.callbackNode=null,e.callbackPriority=0;else if(r=u&-u,e.callbackPriority!==r){if(o!=null&&Eu(o),r===1)e.tag===0?c0(Mh.bind(null,e)):_d(Mh.bind(null,e)),i0(function(){(Ne&6)===0&&jr()}),o=null;else{switch(Pu(u)){case 1:o=xo;break;case 4:o=Cu;break;case 16:o=fi;break;case 536870912:o=Tu;break;default:o=fi}o=Gh(o,Dh.bind(null,e))}e.callbackPriority=r,e.callbackNode=o}}function Dh(e,r){if(oa=-1,la=0,(Ne&6)!==0)throw Error(s(327));var o=e.callbackNode;if(Bn()&&e.callbackNode!==o)return null;var u=xi(e,e===Ye?et:0);if(u===0)return null;if((u&30)!==0||(u&e.expiredLanes)!==0||r)r=ca(e,u);else{r=u;var h=Ne;Ne|=2;var g=zh();(Ye!==e||et!==r)&&(cr=null,Mn=Be()+500,tn(e,r));do try{R0();break}catch(S){Bh(e,S)}while(!0);rl(),ra.current=g,Ne=h,Ve!==null?r=0:(Ye=null,et=0,r=Ke)}if(r!==0){if(r===2&&(h=yo(e),h!==0&&(u=h,r=Ml(e,h))),r===1)throw o=Ms,tn(e,0),Tr(e,u),pt(e,Be()),o;if(r===6)Tr(e,u);else{if(h=e.current.alternate,(u&30)===0&&!C0(h)&&(r=ca(e,u),r===2&&(g=yo(e),g!==0&&(u=g,r=Ml(e,g))),r===1))throw o=Ms,tn(e,0),Tr(e,u),pt(e,Be()),o;switch(e.finishedWork=h,e.finishedLanes=u,r){case 0:case 1:throw Error(s(345));case 2:rn(e,mt,cr);break;case 3:if(Tr(e,u),(u&130023424)===u&&(r=Ul+500-Be(),10<r)){if(xi(e,0)!==0)break;if(h=e.suspendedLanes,(h&u)!==u){ut(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Vo(rn.bind(null,e,mt,cr),r);break}rn(e,mt,cr);break;case 4:if(Tr(e,u),(u&4194240)===u)break;for(r=e.eventTimes,h=-1;0<u;){var v=31-It(u);g=1<<v,v=r[v],v>h&&(h=v),u&=~g}if(u=h,u=Be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*E0(u/1960))-u,10<u){e.timeoutHandle=Vo(rn.bind(null,e,mt,cr),u);break}rn(e,mt,cr);break;case 5:rn(e,mt,cr);break;default:throw Error(s(329))}}}return pt(e,Be()),e.callbackNode===o?Dh.bind(null,e):null}function Ml(e,r){var o=Bs;return e.current.memoizedState.isDehydrated&&(tn(e,r).flags|=256),e=ca(e,r),e!==2&&(r=mt,mt=o,r!==null&&Bl(r)),e}function Bl(e){mt===null?mt=e:mt.push.apply(mt,e)}function C0(e){for(var r=e;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],g=h.getSnapshot;h=h.value;try{if(!Lt(g(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Tr(e,r){for(r&=~Ll,r&=~na,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var o=31-It(r),u=1<<o;e[o]=-1,r&=~u}}function Mh(e){if((Ne&6)!==0)throw Error(s(327));Bn();var r=xi(e,0);if((r&1)===0)return pt(e,Be()),null;var o=ca(e,r);if(e.tag!==0&&o===2){var u=yo(e);u!==0&&(r=u,o=Ml(e,u))}if(o===1)throw o=Ms,tn(e,0),Tr(e,r),pt(e,Be()),o;if(o===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,rn(e,mt,cr),pt(e,Be()),null}function zl(e,r){var o=Ne;Ne|=1;try{return e(r)}finally{Ne=o,Ne===0&&(Mn=Be()+500,Ui&&jr())}}function en(e){Er!==null&&Er.tag===0&&(Ne&6)===0&&Bn();var r=Ne;Ne|=1;var o=Pt.transition,u=Te;try{if(Pt.transition=null,Te=1,e)return e()}finally{Te=u,Pt.transition=o,Ne=r,(Ne&6)===0&&jr()}}function Fl(){Nt=Dn.current,Ie(Dn)}function tn(e,r){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,s0(o)),Ve!==null)for(o=Ve.return;o!==null;){var u=o;switch(Yo(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ii();break;case 3:Ln(),Ie(dt),Ie(rt),ul();break;case 5:ll(u);break;case 4:Ln();break;case 13:Ie(Ue);break;case 19:Ie(Ue);break;case 10:nl(u.type._context);break;case 22:case 23:Fl()}o=o.return}if(Ye=e,Ve=e=Rr(e.current,null),et=Nt=r,Ke=0,Ms=null,Ll=na=Zr=0,mt=Bs=null,Qr!==null){for(r=0;r<Qr.length;r++)if(o=Qr[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,g=o.pending;if(g!==null){var v=g.next;g.next=h,u.next=v}o.pending=u}Qr=null}return e}function Bh(e,r){do{var o=Ve;try{if(rl(),Hi.current=Qi,Gi){for(var u=$e.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Gi=!1}if(Xr=0,Qe=Ge=$e=null,As=!1,Is=0,Il.current=null,o===null||o.return===null){Ke=1,Ms=r,Ve=null;break}e:{var g=e,v=o.return,S=o,T=r;if(r=et,S.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var z=T,J=S,Q=J.tag;if((J.mode&1)===0&&(Q===0||Q===11||Q===15)){var K=J.alternate;K?(J.updateQueue=K.updateQueue,J.memoizedState=K.memoizedState,J.lanes=K.lanes):(J.updateQueue=null,J.memoizedState=null)}var ne=dh(v);if(ne!==null){ne.flags&=-257,hh(ne,v,S,g,r),ne.mode&1&&uh(g,z,r),r=ne,T=z;var oe=r.updateQueue;if(oe===null){var le=new Set;le.add(T),r.updateQueue=le}else oe.add(T);break e}else{if((r&1)===0){uh(g,z,r),ql();break e}T=Error(s(426))}}else if(Le&&S.mode&1){var ze=dh(v);if(ze!==null){(ze.flags&65536)===0&&(ze.flags|=256),hh(ze,v,S,g,r),el(Un(T,S));break e}}g=T=Un(T,S),Ke!==4&&(Ke=2),Bs===null?Bs=[g]:Bs.push(g),g=v;do{switch(g.tag){case 3:g.flags|=65536,r&=-r,g.lanes|=r;var D=lh(g,T,r);Ld(g,D);break e;case 1:S=T;var A=g.type,M=g.stateNode;if((g.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Sr===null||!Sr.has(M)))){g.flags|=65536,r&=-r,g.lanes|=r;var X=ch(g,S,r);Ld(g,X);break e}}g=g.return}while(g!==null)}qh(o)}catch(ue){r=ue,Ve===o&&o!==null&&(Ve=o=o.return);continue}break}while(!0)}function zh(){var e=ra.current;return ra.current=Qi,e===null?Qi:e}function ql(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Ye===null||(Zr&268435455)===0&&(na&268435455)===0||Tr(Ye,et)}function ca(e,r){var o=Ne;Ne|=2;var u=zh();(Ye!==e||et!==r)&&(cr=null,tn(e,r));do try{T0();break}catch(h){Bh(e,h)}while(!0);if(rl(),Ne=o,ra.current=u,Ve!==null)throw Error(s(261));return Ye=null,et=0,Ke}function T0(){for(;Ve!==null;)Fh(Ve)}function R0(){for(;Ve!==null&&!tg();)Fh(Ve)}function Fh(e){var r=Hh(e.alternate,e,Nt);e.memoizedProps=e.pendingProps,r===null?qh(e):Ve=r,Il.current=null}function qh(e){var r=e;do{var o=r.alternate;if(e=r.return,(r.flags&32768)===0){if(o=j0(o,r,Nt),o!==null){Ve=o;return}}else{if(o=N0(o,r),o!==null){o.flags&=32767,Ve=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,Ve=null;return}}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=e}while(r!==null);Ke===0&&(Ke=5)}function rn(e,r,o){var u=Te,h=Pt.transition;try{Pt.transition=null,Te=1,P0(e,r,o,u)}finally{Pt.transition=h,Te=u}return null}function P0(e,r,o,u){do Bn();while(Er!==null);if((Ne&6)!==0)throw Error(s(327));o=e.finishedWork;var h=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var g=o.lanes|o.childLanes;if(dg(e,g),e===Ye&&(Ve=Ye=null,et=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||ia||(ia=!0,Gh(fi,function(){return Bn(),null})),g=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||g){g=Pt.transition,Pt.transition=null;var v=Te;Te=1;var S=Ne;Ne|=4,Il.current=null,k0(e,o),Ah(o,e),Yg(qo),bi=!!Fo,qo=Fo=null,e.current=o,S0(o),rg(),Ne=S,Te=v,Pt.transition=g}else e.current=o;if(ia&&(ia=!1,Er=e,aa=h),g=e.pendingLanes,g===0&&(Sr=null),ig(o.stateNode),pt(e,Be()),r!==null)for(u=e.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(sa)throw sa=!1,e=$l,$l=null,e;return(aa&1)!==0&&e.tag!==0&&Bn(),g=e.pendingLanes,(g&1)!==0?e===Dl?zs++:(zs=0,Dl=e):zs=0,jr(),null}function Bn(){if(Er!==null){var e=Pu(aa),r=Pt.transition,o=Te;try{if(Pt.transition=null,Te=16>e?16:e,Er===null)var u=!1;else{if(e=Er,Er=null,aa=0,(Ne&6)!==0)throw Error(s(331));var h=Ne;for(Ne|=4,ie=e.current;ie!==null;){var g=ie,v=g.child;if((ie.flags&16)!==0){var S=g.deletions;if(S!==null){for(var T=0;T<S.length;T++){var z=S[T];for(ie=z;ie!==null;){var J=ie;switch(J.tag){case 0:case 11:case 15:Ds(8,J,g)}var Q=J.child;if(Q!==null)Q.return=J,ie=Q;else for(;ie!==null;){J=ie;var K=J.sibling,ne=J.return;if(Ch(J),J===z){ie=null;break}if(K!==null){K.return=ne,ie=K;break}ie=ne}}}var oe=g.alternate;if(oe!==null){var le=oe.child;if(le!==null){oe.child=null;do{var ze=le.sibling;le.sibling=null,le=ze}while(le!==null)}}ie=g}}if((g.subtreeFlags&2064)!==0&&v!==null)v.return=g,ie=v;else e:for(;ie!==null;){if(g=ie,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Ds(9,g,g.return)}var D=g.sibling;if(D!==null){D.return=g.return,ie=D;break e}ie=g.return}}var A=e.current;for(ie=A;ie!==null;){v=ie;var M=v.child;if((v.subtreeFlags&2064)!==0&&M!==null)M.return=v,ie=M;else e:for(v=A;ie!==null;){if(S=ie,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:ta(9,S)}}catch(ue){Me(S,S.return,ue)}if(S===v){ie=null;break e}var X=S.sibling;if(X!==null){X.return=S.return,ie=X;break e}ie=S.return}}if(Ne=h,jr(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(mi,e)}catch{}u=!0}return u}finally{Te=o,Pt.transition=r}}return!1}function Wh(e,r,o){r=Un(o,r),r=lh(e,r,1),e=_r(e,r,1),r=ut(),e!==null&&(ds(e,1,r),pt(e,r))}function Me(e,r,o){if(e.tag===3)Wh(e,e,o);else for(;r!==null;){if(r.tag===3){Wh(r,e,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Sr===null||!Sr.has(u))){e=Un(o,e),e=ch(r,e,1),r=_r(r,e,1),e=ut(),r!==null&&(ds(r,1,e),pt(r,e));break}}r=r.return}}function O0(e,r,o){var u=e.pingCache;u!==null&&u.delete(r),r=ut(),e.pingedLanes|=e.suspendedLanes&o,Ye===e&&(et&o)===o&&(Ke===4||Ke===3&&(et&130023424)===et&&500>Be()-Ul?tn(e,0):Ll|=o),pt(e,r)}function Vh(e,r){r===0&&((e.mode&1)===0?r=1:(r=gi,gi<<=1,(gi&130023424)===0&&(gi=4194304)));var o=ut();e=ar(e,r),e!==null&&(ds(e,r,o),pt(e,o))}function A0(e){var r=e.memoizedState,o=0;r!==null&&(o=r.retryLane),Vh(e,o)}function I0(e,r){var o=0;switch(e.tag){case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(s(314))}u!==null&&u.delete(r),Vh(e,o)}var Hh;Hh=function(e,r,o){if(e!==null)if(e.memoizedProps!==r.pendingProps||dt.current)ft=!0;else{if((e.lanes&o)===0&&(r.flags&128)===0)return ft=!1,w0(e,r,o);ft=(e.flags&131072)!==0}else ft=!1,Le&&(r.flags&1048576)!==0&&kd(r,Di,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Zi(e,r),e=r.pendingProps;var h=Cn(r,rt.current);In(r,o),h=fl(null,r,u,e,h,o);var g=ml();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,ht(u)?(g=!0,Li(r)):g=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,al(r),h.updater=Yi,r.stateNode=h,h._reactInternals=r,bl(r,u,e,o),r=_l(null,r,u,!0,g,o)):(r.tag=0,Le&&g&&Qo(r),ct(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(Zi(e,r),e=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=U0(u),e=$t(u,e),h){case 0:r=Nl(null,r,u,e,o);break e;case 1:r=yh(null,r,u,e,o);break e;case 11:r=fh(null,r,u,e,o);break e;case 14:r=mh(null,r,u,$t(u.type,e),o);break e}throw Error(s(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:$t(u,h),Nl(e,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:$t(u,h),yh(e,r,u,h,o);case 3:e:{if(vh(r),e===null)throw Error(s(387));u=r.pendingProps,g=r.memoizedState,h=g.element,Id(e,r),Wi(r,u,null,o);var v=r.memoizedState;if(u=v.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){h=Un(Error(s(423)),r),r=bh(e,r,u,o,h);break e}else if(u!==h){h=Un(Error(s(424)),r),r=bh(e,r,u,o,h);break e}else for(jt=vr(r.stateNode.containerInfo.firstChild),wt=r,Le=!0,Ut=null,o=Od(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Pn(),u===h){r=lr(e,r,o);break e}ct(e,r,u,o)}r=r.child}return r;case 5:return $d(r),e===null&&Zo(r),u=r.type,h=r.pendingProps,g=e!==null?e.memoizedProps:null,v=h.children,Wo(u,h)?v=null:g!==null&&Wo(u,g)&&(r.flags|=32),xh(e,r),ct(e,r,v,o),r.child;case 6:return e===null&&Zo(r),null;case 13:return wh(e,r,o);case 4:return ol(r,r.stateNode.containerInfo),u=r.pendingProps,e===null?r.child=On(r,null,u,o):ct(e,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:$t(u,h),fh(e,r,u,h,o);case 7:return ct(e,r,r.pendingProps,o),r.child;case 8:return ct(e,r,r.pendingProps.children,o),r.child;case 12:return ct(e,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,g=r.memoizedProps,v=h.value,Pe(zi,u._currentValue),u._currentValue=v,g!==null)if(Lt(g.value,v)){if(g.children===h.children&&!dt.current){r=lr(e,r,o);break e}}else for(g=r.child,g!==null&&(g.return=r);g!==null;){var S=g.dependencies;if(S!==null){v=g.child;for(var T=S.firstContext;T!==null;){if(T.context===u){if(g.tag===1){T=or(-1,o&-o),T.tag=2;var z=g.updateQueue;if(z!==null){z=z.shared;var J=z.pending;J===null?T.next=T:(T.next=J.next,J.next=T),z.pending=T}}g.lanes|=o,T=g.alternate,T!==null&&(T.lanes|=o),sl(g.return,o,r),S.lanes|=o;break}T=T.next}}else if(g.tag===10)v=g.type===r.type?null:g.child;else if(g.tag===18){if(v=g.return,v===null)throw Error(s(341));v.lanes|=o,S=v.alternate,S!==null&&(S.lanes|=o),sl(v,o,r),v=g.sibling}else v=g.child;if(v!==null)v.return=g;else for(v=g;v!==null;){if(v===r){v=null;break}if(g=v.sibling,g!==null){g.return=v.return,v=g;break}v=v.return}g=v}ct(e,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,In(r,o),h=Tt(h),u=u(h),r.flags|=1,ct(e,r,u,o),r.child;case 14:return u=r.type,h=$t(u,r.pendingProps),h=$t(u.type,h),mh(e,r,u,h,o);case 15:return ph(e,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:$t(u,h),Zi(e,r),r.tag=1,ht(u)?(e=!0,Li(r)):e=!1,In(r,o),ah(r,u,h),bl(r,u,h,o),_l(null,r,u,!0,e,o);case 19:return Nh(e,r,o);case 22:return gh(e,r,o)}throw Error(s(156,r.tag))};function Gh(e,r){return Su(e,r)}function L0(e,r,o,u){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,r,o,u){return new L0(e,r,o,u)}function Wl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function U0(e){if(typeof e=="function")return Wl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Y)return 11;if(e===G)return 14}return 2}function Rr(e,r){var o=e.alternate;return o===null?(o=Ot(e.tag,r,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=r,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,r=e.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function ua(e,r,o,u,h,g){var v=2;if(u=e,typeof e=="function")Wl(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case H:return nn(o.children,h,g,r);case te:v=8,h|=8;break;case re:return e=Ot(12,o,r,h|2),e.elementType=re,e.lanes=g,e;case ce:return e=Ot(13,o,r,h),e.elementType=ce,e.lanes=g,e;case V:return e=Ot(19,o,r,h),e.elementType=V,e.lanes=g,e;case ae:return da(o,h,g,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:v=10;break e;case q:v=9;break e;case Y:v=11;break e;case G:v=14;break e;case se:v=16,u=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return r=Ot(v,o,r,h),r.elementType=e,r.type=u,r.lanes=g,r}function nn(e,r,o,u){return e=Ot(7,e,u,r),e.lanes=o,e}function da(e,r,o,u){return e=Ot(22,e,u,r),e.elementType=ae,e.lanes=o,e.stateNode={isHidden:!1},e}function Vl(e,r,o){return e=Ot(6,e,null,r),e.lanes=o,e}function Hl(e,r,o){return r=Ot(4,e.children!==null?e.children:[],e.key,r),r.lanes=o,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function $0(e,r,o,u,h){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vo(0),this.expirationTimes=vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vo(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Gl(e,r,o,u,h,g,v,S,T){return e=new $0(e,r,o,S,T),r===1?(r=1,g===!0&&(r|=8)):r=0,g=Ot(3,null,null,r),e.current=g,g.stateNode=e,g.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},al(g),e}function D0(e,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:u==null?null:""+u,children:e,containerInfo:r,implementation:o}}function Kh(e){if(!e)return wr;e=e._reactInternals;e:{if(Vr(e)!==e||e.tag!==1)throw Error(s(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(e.tag===1){var o=e.type;if(ht(o))return jd(e,o,r)}return r}function Jh(e,r,o,u,h,g,v,S,T){return e=Gl(o,u,!0,e,h,g,v,S,T),e.context=Kh(null),o=e.current,u=ut(),h=Cr(o),g=or(u,h),g.callback=r??null,_r(o,g,h),e.current.lanes=h,ds(e,h,u),pt(e,u),e}function ha(e,r,o,u){var h=r.current,g=ut(),v=Cr(h);return o=Kh(o),r.context===null?r.context=o:r.pendingContext=o,r=or(g,v),r.payload={element:e},u=u===void 0?null:u,u!==null&&(r.callback=u),e=_r(h,r,v),e!==null&&(Bt(e,h,v,g),qi(e,h,v)),v}function fa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qh(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<r?o:r}}function Kl(e,r){Qh(e,r),(e=e.alternate)&&Qh(e,r)}function M0(){return null}var Yh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jl(e){this._internalRoot=e}ma.prototype.render=Jl.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));ha(e,r,null,null)},ma.prototype.unmount=Jl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;en(function(){ha(null,e,null,null)}),r[rr]=null}};function ma(e){this._internalRoot=e}ma.prototype.unstable_scheduleHydration=function(e){if(e){var r=Iu();e={blockedOn:null,target:e,priority:r};for(var o=0;o<gr.length&&r!==0&&r<gr[o].priority;o++);gr.splice(o,0,e),o===0&&$u(e)}};function Ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xh(){}function B0(e,r,o,u,h){if(h){if(typeof u=="function"){var g=u;u=function(){var z=fa(v);g.call(z)}}var v=Jh(r,u,e,0,null,!1,!1,"",Xh);return e._reactRootContainer=v,e[rr]=v.current,ks(e.nodeType===8?e.parentNode:e),en(),v}for(;h=e.lastChild;)e.removeChild(h);if(typeof u=="function"){var S=u;u=function(){var z=fa(T);S.call(z)}}var T=Gl(e,0,!1,null,null,!1,!1,"",Xh);return e._reactRootContainer=T,e[rr]=T.current,ks(e.nodeType===8?e.parentNode:e),en(function(){ha(r,T,o,u)}),T}function ga(e,r,o,u,h){var g=o._reactRootContainer;if(g){var v=g;if(typeof h=="function"){var S=h;h=function(){var T=fa(v);S.call(T)}}ha(r,v,e,h)}else v=B0(o,r,e,h,u);return fa(v)}Ou=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var o=us(r.pendingLanes);o!==0&&(bo(r,o|1),pt(r,Be()),(Ne&6)===0&&(Mn=Be()+500,jr()))}break;case 13:en(function(){var u=ar(e,1);if(u!==null){var h=ut();Bt(u,e,1,h)}}),Kl(e,1)}},wo=function(e){if(e.tag===13){var r=ar(e,134217728);if(r!==null){var o=ut();Bt(r,e,134217728,o)}Kl(e,134217728)}},Au=function(e){if(e.tag===13){var r=Cr(e),o=ar(e,r);if(o!==null){var u=ut();Bt(o,e,r,u)}Kl(e,r)}},Iu=function(){return Te},Lu=function(e,r){var o=Te;try{return Te=e,r()}finally{Te=o}},fo=function(e,r,o){switch(r){case"input":if(so(e,o),r=o.name,o.type==="radio"&&r!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==e&&u.form===e.form){var h=Ai(u);if(!h)throw Error(s(90));iu(u),so(u,h)}}}break;case"textarea":uu(e,o);break;case"select":r=o.value,r!=null&&gn(e,!!o.multiple,r,!1)}},vu=zl,bu=en;var z0={usingClientEntryPoint:!1,Events:[Cs,Sn,Ai,xu,yu,zl]},Fs={findFiberByHostInstance:Hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F0={bundleType:Fs.bundleType,version:Fs.version,rendererPackageName:Fs.rendererPackageName,rendererConfig:Fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_u(e),e===null?null:e.stateNode},findFiberByHostInstance:Fs.findFiberByHostInstance||M0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{mi=xa.inject(F0),Ht=xa}catch{}}return gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z0,gt.createPortal=function(e,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ql(r))throw Error(s(200));return D0(e,r,null,o)},gt.createRoot=function(e,r){if(!Ql(e))throw Error(s(299));var o=!1,u="",h=Yh;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Gl(e,1,!1,null,null,o,!1,u,h),e[rr]=r.current,ks(e.nodeType===8?e.parentNode:e),new Jl(r)},gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_u(r),e=e===null?null:e.stateNode,e},gt.flushSync=function(e){return en(e)},gt.hydrate=function(e,r,o){if(!pa(r))throw Error(s(200));return ga(null,e,r,!0,o)},gt.hydrateRoot=function(e,r,o){if(!Ql(e))throw Error(s(405));var u=o!=null&&o.hydratedSources||null,h=!1,g="",v=Yh;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=Jh(r,null,e,1,o??null,h,!1,g,v),e[rr]=r.current,ks(e),u)for(e=0;e<u.length;e++)o=u[e],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new ma(r)},gt.render=function(e,r,o){if(!pa(r))throw Error(s(200));return ga(null,e,r,!1,o)},gt.unmountComponentAtNode=function(e){if(!pa(e))throw Error(s(40));return e._reactRootContainer?(en(function(){ga(null,null,e,!1,function(){e._reactRootContainer=null,e[rr]=null})}),!0):!1},gt.unstable_batchedUpdates=zl,gt.unstable_renderSubtreeIntoContainer=function(e,r,o,u){if(!pa(o))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return ga(e,r,o,!1,u)},gt.version="18.3.1-next-f1338f8080-20240426",gt}var of;function dm(){if(of)return Zl.exports;of=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Zl.exports=Y0(),Zl.exports}var lf;function X0(){if(lf)return ya;lf=1;var i=dm();return ya.createRoot=i.createRoot,ya.hydrateRoot=i.hydrateRoot,ya}var Z0=X0();const ex=i=>i instanceof Error?i.message+`
`+i.stack:JSON.stringify(i,null,2);class tx extends Ks.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?n.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[n.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),n.jsx("pre",{className:"mt-2 text-sm",children:ex(this.state.error)})]}):this.props.children}}dm();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Js(){return Js=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},Js.apply(this,arguments)}var Ur;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Ur||(Ur={}));const cf="popstate";function rx(i){i===void 0&&(i={});function t(a,l){let{pathname:c,search:d,hash:f}=a.location;return pc("",{pathname:c,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(a,l){return typeof l=="string"?l:Aa(l)}return sx(t,s,null,i)}function qe(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function hm(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nx(){return Math.random().toString(36).substr(2,8)}function uf(i,t){return{usr:i.state,key:i.key,idx:t}}function pc(i,t,s,a){return s===void 0&&(s=null),Js({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof t=="string"?Yn(t):t,{state:s,key:t&&t.key||a||nx()})}function Aa(i){let{pathname:t="/",search:s="",hash:a=""}=i;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Yn(i){let t={};if(i){let s=i.indexOf("#");s>=0&&(t.hash=i.substr(s),i=i.substr(0,s));let a=i.indexOf("?");a>=0&&(t.search=i.substr(a),i=i.substr(0,a)),i&&(t.pathname=i)}return t}function sx(i,t,s,a){a===void 0&&(a={});let{window:l=document.defaultView,v5Compat:c=!1}=a,d=l.history,f=Ur.Pop,p=null,m=x();m==null&&(m=0,d.replaceState(Js({},d.state,{idx:m}),""));function x(){return(d.state||{idx:null}).idx}function y(){f=Ur.Pop;let w=x(),R=w==null?null:w-m;m=w,p&&p({action:f,location:N.location,delta:R})}function b(w,R){f=Ur.Push;let U=pc(N.location,w,R);m=x()+1;let O=uf(U,m),P=N.createHref(U);try{d.pushState(O,"",P)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;l.location.assign(P)}c&&p&&p({action:f,location:N.location,delta:1})}function _(w,R){f=Ur.Replace;let U=pc(N.location,w,R);m=x();let O=uf(U,m),P=N.createHref(U);d.replaceState(O,"",P),c&&p&&p({action:f,location:N.location,delta:0})}function j(w){let R=l.location.origin!=="null"?l.location.origin:l.location.href,U=typeof w=="string"?w:Aa(w);return U=U.replace(/ $/,"%20"),qe(R,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,R)}let N={get action(){return f},get location(){return i(l,d)},listen(w){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(cf,y),p=w,()=>{l.removeEventListener(cf,y),p=null}},createHref(w){return t(l,w)},createURL:j,encodeLocation(w){let R=j(w);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:b,replace:_,go(w){return d.go(w)}};return N}var df;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(df||(df={}));function ix(i,t,s){return s===void 0&&(s="/"),ax(i,t,s)}function ax(i,t,s,a){let l=typeof t=="string"?Yn(t):t,c=Bc(l.pathname||"/",s);if(c==null)return null;let d=fm(i);ox(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let m=vx(c);f=gx(d[p],m)}return f}function fm(i,t,s,a){t===void 0&&(t=[]),s===void 0&&(s=[]),a===void 0&&(a="");let l=(c,d,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(qe(p.relativePath.startsWith(a),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(a.length));let m=Dr([a,p.relativePath]),x=s.concat(p);c.children&&c.children.length>0&&(qe(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),fm(c.children,t,x,m)),!(c.path==null&&!c.index)&&t.push({path:m,score:mx(m,c.index),routesMeta:x})};return i.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,d);else for(let p of mm(c.path))l(c,d,p)}),t}function mm(i){let t=i.split("/");if(t.length===0)return[];let[s,...a]=t,l=s.endsWith("?"),c=s.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let d=mm(a.join("/")),f=[];return f.push(...d.map(p=>p===""?c:[c,p].join("/"))),l&&f.push(...d),f.map(p=>i.startsWith("/")&&p===""?"/":p)}function ox(i){i.sort((t,s)=>t.score!==s.score?s.score-t.score:px(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const lx=/^:[\w-]+$/,cx=3,ux=2,dx=1,hx=10,fx=-2,hf=i=>i==="*";function mx(i,t){let s=i.split("/"),a=s.length;return s.some(hf)&&(a+=fx),t&&(a+=ux),s.filter(l=>!hf(l)).reduce((l,c)=>l+(lx.test(c)?cx:c===""?dx:hx),a)}function px(i,t){return i.length===t.length&&i.slice(0,-1).every((a,l)=>a===t[l])?i[i.length-1]-t[t.length-1]:0}function gx(i,t,s){let{routesMeta:a}=i,l={},c="/",d=[];for(let f=0;f<a.length;++f){let p=a[f],m=f===a.length-1,x=c==="/"?t:t.slice(c.length)||"/",y=xx({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},x),b=p.route;if(!y)return null;Object.assign(l,y.params),d.push({params:l,pathname:Dr([c,y.pathname]),pathnameBase:Nx(Dr([c,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(c=Dr([c,y.pathnameBase]))}return d}function xx(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,a]=yx(i.path,i.caseSensitive,i.end),l=t.match(s);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:a.reduce((m,x,y)=>{let{paramName:b,isOptional:_}=x;if(b==="*"){let N=f[y]||"";d=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const j=f[y];return _&&!j?m[b]=void 0:m[b]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:d,pattern:i}}function yx(i,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),hm(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let a=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(a.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function vx(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hm(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),i}}function Bc(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=i.charAt(s);return a&&a!=="/"?null:i.slice(s)||"/"}function bx(i,t){t===void 0&&(t="/");let{pathname:s,search:a="",hash:l=""}=typeof i=="string"?Yn(i):i;return{pathname:s?s.startsWith("/")?s:wx(s,t):t,search:_x(a),hash:kx(l)}}function wx(i,t){let s=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function rc(i,t,s,a){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jx(i){return i.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function zc(i,t){let s=jx(i);return t?s.map((a,l)=>l===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function Fc(i,t,s,a){a===void 0&&(a=!1);let l;typeof i=="string"?l=Yn(i):(l=Js({},i),qe(!l.pathname||!l.pathname.includes("?"),rc("?","pathname","search",l)),qe(!l.pathname||!l.pathname.includes("#"),rc("#","pathname","hash",l)),qe(!l.search||!l.search.includes("#"),rc("#","search","hash",l)));let c=i===""||l.pathname==="",d=c?"/":l.pathname,f;if(d==null)f=s;else{let y=t.length-1;if(!a&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),y-=1;l.pathname=b.join("/")}f=y>=0?t[y]:"/"}let p=bx(l,f),m=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(m||x)&&(p.pathname+="/"),p}const Dr=i=>i.join("/").replace(/\/\/+/g,"/"),Nx=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),_x=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,kx=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Sx(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const pm=["post","put","patch","delete"];new Set(pm);const Ex=["get",...pm];new Set(Ex);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qs(){return Qs=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},Qs.apply(this,arguments)}const qc=k.createContext(null),Cx=k.createContext(null),qr=k.createContext(null),qa=k.createContext(null),tr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),gm=k.createContext(null);function Tx(i,t){let{relative:s}=t===void 0?{}:t;Xn()||qe(!1);let{basename:a,navigator:l}=k.useContext(qr),{hash:c,pathname:d,search:f}=ym(i,{relative:s}),p=d;return a!=="/"&&(p=d==="/"?a:Dr([a,d])),l.createHref({pathname:p,search:f,hash:c})}function Xn(){return k.useContext(qa)!=null}function dr(){return Xn()||qe(!1),k.useContext(qa).location}function xm(i){k.useContext(qr).static||k.useLayoutEffect(i)}function hr(){let{isDataRoute:i}=k.useContext(tr);return i?Wx():Rx()}function Rx(){Xn()||qe(!1);let i=k.useContext(qc),{basename:t,future:s,navigator:a}=k.useContext(qr),{matches:l}=k.useContext(tr),{pathname:c}=dr(),d=JSON.stringify(zc(l,s.v7_relativeSplatPath)),f=k.useRef(!1);return xm(()=>{f.current=!0}),k.useCallback(function(m,x){if(x===void 0&&(x={}),!f.current)return;if(typeof m=="number"){a.go(m);return}let y=Fc(m,JSON.parse(d),c,x.relative==="path");i==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Dr([t,y.pathname])),(x.replace?a.replace:a.push)(y,x.state,x)},[t,a,d,c,i])}const Px=k.createContext(null);function Ox(i){let t=k.useContext(tr).outlet;return t&&k.createElement(Px.Provider,{value:i},t)}function Wc(){let{matches:i}=k.useContext(tr),t=i[i.length-1];return t?t.params:{}}function ym(i,t){let{relative:s}=t===void 0?{}:t,{future:a}=k.useContext(qr),{matches:l}=k.useContext(tr),{pathname:c}=dr(),d=JSON.stringify(zc(l,a.v7_relativeSplatPath));return k.useMemo(()=>Fc(i,JSON.parse(d),c,s==="path"),[i,d,c,s])}function Ax(i,t){return Ix(i,t)}function Ix(i,t,s,a){Xn()||qe(!1);let{navigator:l,static:c}=k.useContext(qr),{matches:d}=k.useContext(tr),f=d[d.length-1],p=f?f.params:{};f&&f.pathname;let m=f?f.pathnameBase:"/";f&&f.route;let x=dr(),y;if(t){var b;let R=typeof t=="string"?Yn(t):t;m==="/"||(b=R.pathname)!=null&&b.startsWith(m)||qe(!1),y=R}else y=x;let _=y.pathname||"/",j=_;if(m!=="/"){let R=m.replace(/^\//,"").split("/");j="/"+_.replace(/^\//,"").split("/").slice(R.length).join("/")}let N=ix(i,{pathname:j}),w=Mx(N&&N.map(R=>Object.assign({},R,{params:Object.assign({},p,R.params),pathname:Dr([m,l.encodeLocation?l.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?m:Dr([m,l.encodeLocation?l.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),d,s,a);return t&&w?k.createElement(qa.Provider,{value:{location:Qs({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Ur.Pop}},w):w}function Lx(){let i=qx(),t=Sx(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),s?k.createElement("pre",{style:l},s):null,null)}const Ux=k.createElement(Lx,null);class $x extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?k.createElement(tr.Provider,{value:this.props.routeContext},k.createElement(gm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dx(i){let{routeContext:t,match:s,children:a}=i,l=k.useContext(qc);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),k.createElement(tr.Provider,{value:t},a)}function Mx(i,t,s,a){var l;if(t===void 0&&(t=[]),s===void 0&&(s=null),a===void 0&&(a=null),i==null){var c;if(!s)return null;if(s.errors)i=s.matches;else if((c=a)!=null&&c.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let d=i,f=(l=s)==null?void 0:l.errors;if(f!=null){let x=d.findIndex(y=>y.route.id&&(f==null?void 0:f[y.route.id])!==void 0);x>=0||qe(!1),d=d.slice(0,Math.min(d.length,x+1))}let p=!1,m=-1;if(s&&a&&a.v7_partialHydration)for(let x=0;x<d.length;x++){let y=d[x];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=x),y.route.id){let{loaderData:b,errors:_}=s,j=y.route.loader&&b[y.route.id]===void 0&&(!_||_[y.route.id]===void 0);if(y.route.lazy||j){p=!0,m>=0?d=d.slice(0,m+1):d=[d[0]];break}}}return d.reduceRight((x,y,b)=>{let _,j=!1,N=null,w=null;s&&(_=f&&y.route.id?f[y.route.id]:void 0,N=y.route.errorElement||Ux,p&&(m<0&&b===0?(Vx("route-fallback"),j=!0,w=null):m===b&&(j=!0,w=y.route.hydrateFallbackElement||null)));let R=t.concat(d.slice(0,b+1)),U=()=>{let O;return _?O=N:j?O=w:y.route.Component?O=k.createElement(y.route.Component,null):y.route.element?O=y.route.element:O=x,k.createElement(Dx,{match:y,routeContext:{outlet:x,matches:R,isDataRoute:s!=null},children:O})};return s&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?k.createElement($x,{location:s.location,revalidation:s.revalidation,component:N,error:_,children:U(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):U()},null)}var vm=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(vm||{}),bm=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(bm||{});function Bx(i){let t=k.useContext(qc);return t||qe(!1),t}function zx(i){let t=k.useContext(Cx);return t||qe(!1),t}function Fx(i){let t=k.useContext(tr);return t||qe(!1),t}function wm(i){let t=Fx(),s=t.matches[t.matches.length-1];return s.route.id||qe(!1),s.route.id}function qx(){var i;let t=k.useContext(gm),s=zx(),a=wm();return t!==void 0?t:(i=s.errors)==null?void 0:i[a]}function Wx(){let{router:i}=Bx(vm.UseNavigateStable),t=wm(bm.UseNavigateStable),s=k.useRef(!1);return xm(()=>{s.current=!0}),k.useCallback(function(l,c){c===void 0&&(c={}),s.current&&(typeof l=="number"?i.navigate(l):i.navigate(l,Qs({fromRouteId:t},c)))},[i,t])}const ff={};function Vx(i,t,s){ff[i]||(ff[i]=!0)}function Hx(i,t){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function Gx(i){let{to:t,replace:s,state:a,relative:l}=i;Xn()||qe(!1);let{future:c,static:d}=k.useContext(qr),{matches:f}=k.useContext(tr),{pathname:p}=dr(),m=hr(),x=Fc(t,zc(f,c.v7_relativeSplatPath),p,l==="path"),y=JSON.stringify(x);return k.useEffect(()=>m(JSON.parse(y),{replace:s,state:a,relative:l}),[m,y,l,s,a]),null}function Kx(i){return Ox(i.context)}function Fe(i){qe(!1)}function Jx(i){let{basename:t="/",children:s=null,location:a,navigationType:l=Ur.Pop,navigator:c,static:d=!1,future:f}=i;Xn()&&qe(!1);let p=t.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:p,navigator:c,static:d,future:Qs({v7_relativeSplatPath:!1},f)}),[p,f,c,d]);typeof a=="string"&&(a=Yn(a));let{pathname:x="/",search:y="",hash:b="",state:_=null,key:j="default"}=a,N=k.useMemo(()=>{let w=Bc(x,p);return w==null?null:{location:{pathname:w,search:y,hash:b,state:_,key:j},navigationType:l}},[p,x,y,b,_,j,l]);return N==null?null:k.createElement(qr.Provider,{value:m},k.createElement(qa.Provider,{children:s,value:N}))}function Qx(i){let{children:t,location:s}=i;return Ax(gc(t),s)}new Promise(()=>{});function gc(i,t){t===void 0&&(t=[]);let s=[];return k.Children.forEach(i,(a,l)=>{if(!k.isValidElement(a))return;let c=[...t,l];if(a.type===k.Fragment){s.push.apply(s,gc(a.props.children,c));return}a.type!==Fe&&qe(!1),!a.props.index||!a.props.children||qe(!1);let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=gc(a.props.children,c)),s.push(d)}),s}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xc(){return xc=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])}return i},xc.apply(this,arguments)}function Yx(i,t){if(i==null)return{};var s={},a=Object.keys(i),l,c;for(c=0;c<a.length;c++)l=a[c],!(t.indexOf(l)>=0)&&(s[l]=i[l]);return s}function Xx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Zx(i,t){return i.button===0&&(!t||t==="_self")&&!Xx(i)}const ey=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ty="6";try{window.__reactRouterVersion=ty}catch{}const ry="startTransition",mf=K0[ry];function ny(i){let{basename:t,children:s,future:a,window:l}=i,c=k.useRef();c.current==null&&(c.current=rx({window:l,v5Compat:!0}));let d=c.current,[f,p]=k.useState({action:d.action,location:d.location}),{v7_startTransition:m}=a||{},x=k.useCallback(y=>{m&&mf?mf(()=>p(y)):p(y)},[p,m]);return k.useLayoutEffect(()=>d.listen(x),[d,x]),k.useEffect(()=>Hx(a),[a]),k.createElement(Jx,{basename:t,children:s,location:f.location,navigationType:f.action,navigator:d,future:a})}const sy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Se=k.forwardRef(function(t,s){let{onClick:a,relative:l,reloadDocument:c,replace:d,state:f,target:p,to:m,preventScrollReset:x,viewTransition:y}=t,b=Yx(t,ey),{basename:_}=k.useContext(qr),j,N=!1;if(typeof m=="string"&&iy.test(m)&&(j=m,sy))try{let O=new URL(window.location.href),P=m.startsWith("//")?new URL(O.protocol+m):new URL(m),I=Bc(P.pathname,_);P.origin===O.origin&&I!=null?m=I+P.search+P.hash:N=!0}catch{}let w=Tx(m,{relative:l}),R=ay(m,{replace:d,state:f,target:p,preventScrollReset:x,relative:l,viewTransition:y});function U(O){a&&a(O),O.defaultPrevented||R(O)}return k.createElement("a",xc({},b,{href:j||w,onClick:N||c?a:U,ref:s,target:p}))});var pf;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(pf||(pf={}));var gf;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(gf||(gf={}));function ay(i,t){let{target:s,replace:a,state:l,preventScrollReset:c,relative:d,viewTransition:f}=t===void 0?{}:t,p=hr(),m=dr(),x=ym(i,{relative:d});return k.useCallback(y=>{if(Zx(y,s)){y.preventDefault();let b=a!==void 0?a:Aa(m)===Aa(x);p(i,{replace:b,state:l,preventScrollReset:c,relative:d,viewTransition:f})}},[m,p,x,a,l,s,i,c,d,f])}const oy={es:{nav:{home:"Inicio",services:"Tours",gallery:"Galera",contact:"Contacto",experiences:"Experiencias"},hero:{title:"Descubre Roatn como jams lo imaginaste",subtitle:"Vive aventuras genuinas entre manglares, arrecifes y vida marina",cta:"Explorar Experiencias",description:"Adntrate en la esencia natural de Islas de la Baha con excursiones diseadas para mostrarte lo mejor de Roatn."},services:{title:"Tours y Servicios Destacados",subtitle:"Explora la riqueza natural de Roatn a travs de experiencias autnticas y guiadas por expertos",vip_tour:"Tour VIP",vip_tour_subtitle:"Tours privados exclusivos  seleccin destacada",viewDetails:"Ver Detalles",bookNow:"Reservar Ahora",pricePerPerson:"Precio por Persona",duration:"Duracin",included:"Incluye",requirements:"Requisitos"},experiences:{title:"Experiencias Memorables",subtitle:"Opiniones y vivencias de nuestros aventureros",explore_tours:"Vive nuestros tours",videos_subtitle:"Mira nuestros videos de aventura y descubre las increbles experiencias que te esperan"},gallery:{title:"Galera de Aventuras",subtitle:"Instantes inolvidables capturados en el paraso",viewAll:"Ver Todas"},contact:{title:"Ponte en Contacto",subtitle:"Estamos listos para ayudarte a planear tu prxima aventura",business_hours_title:"Horario de Atencin",cta:"Estamos listos para ayudarte. Envanos un mensaje por WhatsApp, llama, o enva un correo.",phone:"Telfono",email:"Correo Electrnico",whatsapp:"WhatsApp",social:"Sguenos",name:"Nombre",message:"Mensaje",send:"Enviar",sending:"Enviando...",success:"Mensaje enviado con xito",error:"Ocurri un error al enviar el mensaje"},booking:{title:"Reserva tu Aventura",selectService:"Seleccionar Tour",selectDate:"Seleccionar Fecha",numberOfPeople:"Nmero de Personas",customerInfo:"Datos del Cliente",fullName:"Nombre Completo",email:"Correo Electrnico",phone:"Telfono",specialRequests:"Solicitudes Especiales",paymentMethod:"Mtodo de Pago",paypal:"PayPal",total:"Total",book:"Confirmar Reserva",cancel:"Cancelar"},common:{loading:"Cargando...",error:"Error",retry:"Reintentar",back:"Atrs",next:"Siguiente",previous:"Anterior",close:"Cerrar"}},en:{nav:{home:"Home",services:"Tours",gallery:"Gallery",contact:"Contact",experiences:"Experiences"},hero:{title:"Experience Roatn Like Never Before",subtitle:"Authentic adventures through mangroves, reefs, and marine life",cta:"Explore Experiences",description:"Immerse yourself in the natural wonders of the Bay Islands with curated excursions that showcase the very best of Roatn."},services:{title:"Our Featured Tours & Services",subtitle:"Discover Roatns natural beauty through authentic experiences guided by local experts",vip_tour:"Tour VIP",vip_tour_subtitle:"Exclusive private tours  featured selection",viewDetails:"View Details",bookNow:"Book Now",pricePerPerson:"Price per Person",duration:"Duration",included:"Included",requirements:"Requirements"},experiences:{title:"Unforgettable Experiences",subtitle:"What our adventurers are saying",explore_tours:"Experience Our Tours",videos_subtitle:"Watch our adventure videos and get a glimpse of the amazing experiences waiting for you"},gallery:{title:"Adventure Gallery",subtitle:"Unforgettable moments captured in paradise",viewAll:"View All"},contact:{title:"Contact Us",subtitle:"Were here to help you plan your next adventure",business_hours_title:"Business Hours",cta:"We are ready to help. Send us a WhatsApp message, call, or email.",phone:"Phone",email:"Email",whatsapp:"WhatsApp",social:"Follow Us",name:"Name",message:"Message",send:"Send",sending:"Sending...",success:"Message sent successfully",error:"Error sending message"},booking:{title:"Book Your Tour",selectService:"Select Tour",selectDate:"Select Date",numberOfPeople:"Number of People",customerInfo:"Customer Information",fullName:"Full Name",email:"Email",phone:"Phone",specialRequests:"Special Requests",paymentMethod:"Payment Method",paypal:"PayPal",total:"Total",book:"Confirm Booking",cancel:"Cancel"},common:{loading:"Loading...",error:"Error",retry:"Retry",back:"Back",next:"Next",previous:"Previous",close:"Close"}}},jm=k.createContext(void 0),Wt=()=>{const i=k.useContext(jm);if(i===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return i},ly=({children:i})=>{const[t,s]=k.useState(()=>localStorage.getItem("roatan-language")||"en"),a=c=>{s(c),localStorage.setItem("roatan-language",c)};k.useEffect(()=>{document.documentElement.lang=t},[t]);const l={language:t,setLanguage:a,t:oy[t]};return n.jsx(jm.Provider,{value:l,children:i})},cy="modulepreload",uy=function(i){return"/"+i},xf={},Nm=function(t,s,a){let l=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));l=Promise.allSettled(s.map(p=>{if(p=uy(p),p in xf)return;xf[p]=!0;const m=p.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":cy,m||(y.as="script"),y.crossOrigin="",y.href=p,f&&y.setAttribute("nonce",f),document.head.appendChild(y),m)return new Promise((b,_)=>{y.addEventListener("load",b),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return l.then(d=>{for(const f of d||[])f.status==="rejected"&&c(f.reason);return t().catch(c)})};var yc=function(i,t){return yc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])},yc(i,t)};function _m(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yc(i,t);function s(){this.constructor=i}i.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}var Ia=function(){return Ia=Object.assign||function(t){for(var s,a=1,l=arguments.length;a<l;a++){s=arguments[a];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(t[c]=s[c])}return t},Ia.apply(this,arguments)};function Zn(i,t){var s={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(s[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(i);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(i,a[l])&&(s[a[l]]=i[a[l]]);return s}function km(i,t,s,a){var l=arguments.length,c=l<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,s):a,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(i,t,s,a);else for(var f=i.length-1;f>=0;f--)(d=i[f])&&(c=(l<3?d(c):l>3?d(t,s,c):d(t,s))||c);return l>3&&c&&Object.defineProperty(t,s,c),c}function Sm(i,t){return function(s,a){t(s,a,i)}}function Em(i,t,s,a,l,c){function d(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var f=a.kind,p=f==="getter"?"get":f==="setter"?"set":"value",m=!t&&i?a.static?i:i.prototype:null,x=t||(m?Object.getOwnPropertyDescriptor(m,a.name):{}),y,b=!1,_=s.length-1;_>=0;_--){var j={};for(var N in a)j[N]=N==="access"?{}:a[N];for(var N in a.access)j.access[N]=a.access[N];j.addInitializer=function(R){if(b)throw new TypeError("Cannot add initializers after decoration has completed");c.push(d(R||null))};var w=(0,s[_])(f==="accessor"?{get:x.get,set:x.set}:x[p],j);if(f==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(y=d(w.get))&&(x.get=y),(y=d(w.set))&&(x.set=y),(y=d(w.init))&&l.unshift(y)}else(y=d(w))&&(f==="field"?l.unshift(y):x[p]=y)}m&&Object.defineProperty(m,a.name,x),b=!0}function Cm(i,t,s){for(var a=arguments.length>2,l=0;l<t.length;l++)s=a?t[l].call(i,s):t[l].call(i);return a?s:void 0}function Tm(i){return typeof i=="symbol"?i:"".concat(i)}function Rm(i,t,s){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:s?"".concat(s," ",t):t})}function Pm(i,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,t)}function de(i,t,s,a){function l(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function f(x){try{m(a.next(x))}catch(y){d(y)}}function p(x){try{m(a.throw(x))}catch(y){d(y)}}function m(x){x.done?c(x.value):l(x.value).then(f,p)}m((a=a.apply(i,t||[])).next())})}function Om(i,t){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},a,l,c,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=f(0),d.throw=f(1),d.return=f(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(x){return p([m,x])}}function p(m){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(s=0)),s;)try{if(a=1,l&&(c=m[0]&2?l.return:m[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,m[1])).done)return c;switch(l=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,l=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){s.label=m[1];break}if(m[0]===6&&s.label<c[1]){s.label=c[1],c=m;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(m);break}c[2]&&s.ops.pop(),s.trys.pop();continue}m=t.call(i,s)}catch(x){m=[6,x],l=0}finally{a=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Wa=Object.create?function(i,t,s,a){a===void 0&&(a=s);var l=Object.getOwnPropertyDescriptor(t,s);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(i,a,l)}:function(i,t,s,a){a===void 0&&(a=s),i[a]=t[s]};function Am(i,t){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(t,s)&&Wa(t,i,s)}function La(i){var t=typeof Symbol=="function"&&Symbol.iterator,s=t&&i[t],a=0;if(s)return s.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vc(i,t){var s=typeof Symbol=="function"&&i[Symbol.iterator];if(!s)return i;var a=s.call(i),l,c=[],d;try{for(;(t===void 0||t-- >0)&&!(l=a.next()).done;)c.push(l.value)}catch(f){d={error:f}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(d)throw d.error}}return c}function Im(){for(var i=[],t=0;t<arguments.length;t++)i=i.concat(Vc(arguments[t]));return i}function Lm(){for(var i=0,t=0,s=arguments.length;t<s;t++)i+=arguments[t].length;for(var a=Array(i),l=0,t=0;t<s;t++)for(var c=arguments[t],d=0,f=c.length;d<f;d++,l++)a[l]=c[d];return a}function Um(i,t,s){if(s||arguments.length===2)for(var a=0,l=t.length,c;a<l;a++)(c||!(a in t))&&(c||(c=Array.prototype.slice.call(t,0,a)),c[a]=t[a]);return i.concat(c||Array.prototype.slice.call(t))}function Jn(i){return this instanceof Jn?(this.v=i,this):new Jn(i)}function $m(i,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=s.apply(i,t||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(_){return function(j){return Promise.resolve(j).then(_,y)}}function f(_,j){a[_]&&(l[_]=function(N){return new Promise(function(w,R){c.push([_,N,w,R])>1||p(_,N)})},j&&(l[_]=j(l[_])))}function p(_,j){try{m(a[_](j))}catch(N){b(c[0][3],N)}}function m(_){_.value instanceof Jn?Promise.resolve(_.value.v).then(x,y):b(c[0][2],_)}function x(_){p("next",_)}function y(_){p("throw",_)}function b(_,j){_(j),c.shift(),c.length&&p(c[0][0],c[0][1])}}function Dm(i){var t,s;return t={},a("next"),a("throw",function(l){throw l}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(l,c){t[l]=i[l]?function(d){return(s=!s)?{value:Jn(i[l](d)),done:!1}:c?c(d):d}:c}}function Mm(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],s;return t?t.call(i):(i=typeof La=="function"?La(i):i[Symbol.iterator](),s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s);function a(c){s[c]=i[c]&&function(d){return new Promise(function(f,p){d=i[c](d),l(f,p,d.done,d.value)})}}function l(c,d,f,p){Promise.resolve(p).then(function(m){c({value:m,done:f})},d)}}function Bm(i,t){return Object.defineProperty?Object.defineProperty(i,"raw",{value:t}):i.raw=t,i}var dy=Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t},vc=function(i){return vc=Object.getOwnPropertyNames||function(t){var s=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[s.length]=a);return s},vc(i)};function zm(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var s=vc(i),a=0;a<s.length;a++)s[a]!=="default"&&Wa(t,i,s[a]);return dy(t,i),t}function Fm(i){return i&&i.__esModule?i:{default:i}}function qm(i,t,s,a){if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?i!==t||!a:!t.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?a:s==="a"?a.call(i):a?a.value:t.get(i)}function Wm(i,t,s,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?i!==t||!l:!t.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(i,s):l?l.value=s:t.set(i,s),s}function Vm(i,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?t===i:i.has(t)}function Hm(i,t,s){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,l;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],s&&(l=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");l&&(a=function(){try{l.call(this)}catch(c){return Promise.reject(c)}}),i.stack.push({value:t,dispose:a,async:s})}else s&&i.stack.push({async:!0});return t}var hy=typeof SuppressedError=="function"?SuppressedError:function(i,t,s){var a=new Error(s);return a.name="SuppressedError",a.error=i,a.suppressed=t,a};function Gm(i){function t(c){i.error=i.hasError?new hy(c,i.error,"An error was suppressed during disposal."):c,i.hasError=!0}var s,a=0;function l(){for(;s=i.stack.pop();)try{if(!s.async&&a===1)return a=0,i.stack.push(s),Promise.resolve().then(l);if(s.dispose){var c=s.dispose.call(s.value);if(s.async)return a|=2,Promise.resolve(c).then(l,function(d){return t(d),l()})}else a|=1}catch(d){t(d)}if(a===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return l()}function Km(i,t){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,a,l,c,d){return a?t?".jsx":".js":l&&(!c||!d)?s:l+c+"."+d.toLowerCase()+"js"}):i}const fy={__extends:_m,__assign:Ia,__rest:Zn,__decorate:km,__param:Sm,__esDecorate:Em,__runInitializers:Cm,__propKey:Tm,__setFunctionName:Rm,__metadata:Pm,__awaiter:de,__generator:Om,__createBinding:Wa,__exportStar:Am,__values:La,__read:Vc,__spread:Im,__spreadArrays:Lm,__spreadArray:Um,__await:Jn,__asyncGenerator:$m,__asyncDelegator:Dm,__asyncValues:Mm,__makeTemplateObject:Bm,__importStar:zm,__importDefault:Fm,__classPrivateFieldGet:qm,__classPrivateFieldSet:Wm,__classPrivateFieldIn:Vm,__addDisposableResource:Hm,__disposeResources:Gm,__rewriteRelativeImportExtension:Km},my=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Hm,get __assign(){return Ia},__asyncDelegator:Dm,__asyncGenerator:$m,__asyncValues:Mm,__await:Jn,__awaiter:de,__classPrivateFieldGet:qm,__classPrivateFieldIn:Vm,__classPrivateFieldSet:Wm,__createBinding:Wa,__decorate:km,__disposeResources:Gm,__esDecorate:Em,__exportStar:Am,__extends:_m,__generator:Om,__importDefault:Fm,__importStar:zm,__makeTemplateObject:Bm,__metadata:Pm,__param:Sm,__propKey:Tm,__read:Vc,__rest:Zn,__rewriteRelativeImportExtension:Km,__runInitializers:Cm,__setFunctionName:Rm,__spread:Im,__spreadArray:Um,__spreadArrays:Lm,__values:La,default:fy},Symbol.toStringTag,{value:"Module"})),py=i=>i?(...t)=>i(...t):(...t)=>fetch(...t);class Hc extends Error{constructor(t,s="FunctionsError",a){super(t),this.name=s,this.context=a}}class gy extends Hc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yf extends Hc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class vf extends Hc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var bc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(bc||(bc={}));class xy{constructor(t,{headers:s={},customFetch:a,region:l=bc.Any}={}){this.url=t,this.headers=s,this.region=l,this.fetch=py(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return de(this,arguments,void 0,function*(s,a={}){var l;let c,d;try{const{headers:f,method:p,body:m,signal:x,timeout:y}=a;let b={},{region:_}=a;_||(_=this.region);const j=new URL(`${this.url}/${s}`);_&&_!=="any"&&(b["x-region"]=_,j.searchParams.set("forceFunctionRegion",_));let N;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",N=m):typeof m=="string"?(b["Content-Type"]="text/plain",N=m):typeof FormData<"u"&&m instanceof FormData?N=m:(b["Content-Type"]="application/json",N=JSON.stringify(m)):N=m;let w=x;y&&(d=new AbortController,c=setTimeout(()=>d.abort(),y),x?(w=d.signal,x.addEventListener("abort",()=>d.abort())):w=d.signal);const R=yield this.fetch(j.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),f),body:N,signal:w}).catch(I=>{throw new gy(I)}),U=R.headers.get("x-relay-error");if(U&&U==="true")throw new yf(R);if(!R.ok)throw new vf(R);let O=((l=R.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),P;return O==="application/json"?P=yield R.json():O==="application/octet-stream"||O==="application/pdf"?P=yield R.blob():O==="text/event-stream"?P=R:O==="multipart/form-data"?P=yield R.formData():P=yield R.text(),{data:P,error:null,response:R}}catch(f){return{data:null,error:f,response:f instanceof vf||f instanceof yf?f.context:void 0}}finally{c&&clearTimeout(c)}})}}var at={};const es=W0(my);var va={},ba={},wa={},ja={},Na={},_a={},bf;function Jm(){if(bf)return _a;bf=1,Object.defineProperty(_a,"__esModule",{value:!0});class i extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return _a.default=i,_a}var wf;function Qm(){if(wf)return Na;wf=1,Object.defineProperty(Na,"__esModule",{value:!0});const t=es.__importDefault(Jm());class s{constructor(l){var c,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,x,y,b;let _=null,j=null,N=null,w=p.status,R=p.statusText;if(p.ok){if(this.method!=="HEAD"){const I=await p.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?j=I:j=JSON.parse(I))}const O=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),P=(y=p.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");O&&P&&P.length>1&&(N=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(_={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,N=null,w=406,R="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const O=await p.text();try{_=JSON.parse(O),Array.isArray(_)&&p.status===404&&(j=[],_=null,w=200,R="OK")}catch{p.status===404&&O===""?(w=204,R="No Content"):_={message:O}}if(_&&this.isMaybeSingle&&(!((b=_==null?void 0:_.details)===null||b===void 0)&&b.includes("0 rows"))&&(_=null,w=200,R="OK"),_&&this.shouldThrowOnError)throw new t.default(_)}return{error:_,data:j,count:N,status:w,statusText:R}});return this.shouldThrowOnError||(f=f.catch(p=>{var m,x,y;return{error:{message:`${(m=p==null?void 0:p.name)!==null&&m!==void 0?m:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(x=p==null?void 0:p.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(y=p==null?void 0:p.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),f.then(l,c)}returns(){return this}overrideTypes(){return this}}return Na.default=s,Na}var jf;function Ym(){if(jf)return ja;jf=1,Object.defineProperty(ja,"__esModule",{value:!0});const t=es.__importDefault(Qm());class s extends t.default{select(l){let c=!1;const d=(l??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:c=!0,nullsFirst:d,foreignTable:f,referencedTable:p=f}={}){const m=p?`${p}.order`:"order",x=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${x?`${x},`:""}${l}.${c?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:d=c}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,c,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${l}`),this.url.searchParams.set(m,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:c=!1,settings:d=!1,buffers:f=!1,wal:p=!1,format:m="text"}={}){var x;const y=[l?"analyze":null,c?"verbose":null,d?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),b=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${b}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return ja.default=s,ja}var Nf;function Gc(){if(Nf)return wa;Nf=1,Object.defineProperty(wa,"__esModule",{value:!0});const t=es.__importDefault(Ym()),s=new RegExp("[,()]");class a extends t.default{eq(c,d){return this.url.searchParams.append(c,`eq.${d}`),this}neq(c,d){return this.url.searchParams.append(c,`neq.${d}`),this}gt(c,d){return this.url.searchParams.append(c,`gt.${d}`),this}gte(c,d){return this.url.searchParams.append(c,`gte.${d}`),this}lt(c,d){return this.url.searchParams.append(c,`lt.${d}`),this}lte(c,d){return this.url.searchParams.append(c,`lte.${d}`),this}like(c,d){return this.url.searchParams.append(c,`like.${d}`),this}likeAllOf(c,d){return this.url.searchParams.append(c,`like(all).{${d.join(",")}}`),this}likeAnyOf(c,d){return this.url.searchParams.append(c,`like(any).{${d.join(",")}}`),this}ilike(c,d){return this.url.searchParams.append(c,`ilike.${d}`),this}ilikeAllOf(c,d){return this.url.searchParams.append(c,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(c,d){return this.url.searchParams.append(c,`ilike(any).{${d.join(",")}}`),this}is(c,d){return this.url.searchParams.append(c,`is.${d}`),this}in(c,d){const f=Array.from(new Set(d)).map(p=>typeof p=="string"&&s.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(c,`in.(${f})`),this}contains(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cs.{${d.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(d)}`),this}containedBy(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cd.{${d.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(d)}`),this}rangeGt(c,d){return this.url.searchParams.append(c,`sr.${d}`),this}rangeGte(c,d){return this.url.searchParams.append(c,`nxl.${d}`),this}rangeLt(c,d){return this.url.searchParams.append(c,`sl.${d}`),this}rangeLte(c,d){return this.url.searchParams.append(c,`nxr.${d}`),this}rangeAdjacent(c,d){return this.url.searchParams.append(c,`adj.${d}`),this}overlaps(c,d){return typeof d=="string"?this.url.searchParams.append(c,`ov.${d}`):this.url.searchParams.append(c,`ov.{${d.join(",")}}`),this}textSearch(c,d,{config:f,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const x=f===void 0?"":`(${f})`;return this.url.searchParams.append(c,`${m}fts${x}.${d}`),this}match(c){return Object.entries(c).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(c,d,f){return this.url.searchParams.append(c,`not.${d}.${f}`),this}or(c,{foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${c})`),this}filter(c,d,f){return this.url.searchParams.append(c,`${d}.${f}`),this}}return wa.default=a,wa}var _f;function Xm(){if(_f)return ba;_f=1,Object.defineProperty(ba,"__esModule",{value:!0});const t=es.__importDefault(Gc());class s{constructor(l,{headers:c={},schema:d,fetch:f}){this.url=l,this.headers=new Headers(c),this.schema=d,this.fetch=f}select(l,c){const{head:d=!1,count:f}=c??{},p=d?"HEAD":"GET";let m=!1;const x=(l??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",x),f&&this.headers.append("Prefer",`count=${f}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:c,defaultToNull:d=!0}={}){var f;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const m=l.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(m.length>0){const x=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(l,{onConflict:c,ignoreDuplicates:d=!1,count:f,defaultToNull:p=!0}={}){var m;const x="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const y=l.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(y.length>0){const b=[...new Set(y)].map(_=>`"${_}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(l,{count:c}={}){var d;const f="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var c;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return ba.default=s,ba}var kf;function yy(){if(kf)return va;kf=1,Object.defineProperty(va,"__esModule",{value:!0});const i=es,t=i.__importDefault(Xm()),s=i.__importDefault(Gc());class a{constructor(c,{headers:d={},schema:f,fetch:p}={}){this.url=c,this.headers=new Headers(d),this.schemaName=f,this.fetch=p}from(c){const d=new URL(`${this.url}/${c}`);return new t.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new a(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,d={},{head:f=!1,get:p=!1,count:m}={}){var x;let y;const b=new URL(`${this.url}/rpc/${c}`);let _;f||p?(y=f?"HEAD":"GET",Object.entries(d).filter(([N,w])=>w!==void 0).map(([N,w])=>[N,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([N,w])=>{b.searchParams.append(N,w)})):(y="POST",_=d);const j=new Headers(this.headers);return m&&j.set("Prefer",`count=${m}`),new s.default({method:y,url:b,headers:j,schema:this.schemaName,body:_,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return va.default=a,va}var Sf;function vy(){if(Sf)return at;Sf=1,Object.defineProperty(at,"__esModule",{value:!0}),at.PostgrestError=at.PostgrestBuilder=at.PostgrestTransformBuilder=at.PostgrestFilterBuilder=at.PostgrestQueryBuilder=at.PostgrestClient=void 0;const i=es,t=i.__importDefault(yy());at.PostgrestClient=t.default;const s=i.__importDefault(Xm());at.PostgrestQueryBuilder=s.default;const a=i.__importDefault(Gc());at.PostgrestFilterBuilder=a.default;const l=i.__importDefault(Ym());at.PostgrestTransformBuilder=l.default;const c=i.__importDefault(Qm());at.PostgrestBuilder=c.default;const d=i.__importDefault(Jm());return at.PostgrestError=d.default,at.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:d.default},at}var Zm=vy();const ep=um(Zm),by=cm({__proto__:null,default:ep},[Zm]),{PostgrestClient:wy,PostgrestQueryBuilder:m1,PostgrestFilterBuilder:p1,PostgrestTransformBuilder:g1,PostgrestBuilder:x1,PostgrestError:y1}=ep||by;class jy{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const a=s.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const a=this.getWebSocketConstructor();return new a(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Ny="2.81.1",_y=`realtime-js/${Ny}`,tp="1.0.0",ky="2.0.0",Ef=tp,wc=1e4,Sy=1e3,Ey=100;var ln;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(ln||(ln={}));var Je;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Je||(Je={}));var At;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(At||(At={}));var jc;(function(i){i.websocket="websocket"})(jc||(jc={}));var cn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(cn||(cn={}));class Cy{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,s){if(this._isArrayBuffer(t.payload))return s(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(a))}_binaryEncodePush(t){const{join_ref:s,ref:a,event:l,topic:c,payload:d}=t,f=this.META_LENGTH+s.length+a.length+c.length+l.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(p),x=0;m.setUint8(x++,this.KINDS.push),m.setUint8(x++,s.length),m.setUint8(x++,a.length),m.setUint8(x++,c.length),m.setUint8(x++,l.length),Array.from(s,b=>m.setUint8(x++,b.charCodeAt(0))),Array.from(a,b=>m.setUint8(x++,b.charCodeAt(0))),Array.from(c,b=>m.setUint8(x++,b.charCodeAt(0))),Array.from(l,b=>m.setUint8(x++,b.charCodeAt(0)));var y=new Uint8Array(p.byteLength+d.byteLength);return y.set(new Uint8Array(p),0),y.set(new Uint8Array(d),p.byteLength),y.buffer}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,a;const{join_ref:l,ref:c,topic:d}=t,f=t.payload.event,p=(a=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:new ArrayBuffer(0),m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+c.length+d.length+f.length,x=new ArrayBuffer(this.HEADER_LENGTH+m);let y=new DataView(x),b=0;y.setUint8(b++,this.KINDS.userBroadcastPush),y.setUint8(b++,l.length),y.setUint8(b++,c.length),y.setUint8(b++,d.length),y.setUint8(b++,f.length),y.setUint8(b++,this.BINARY_ENCODING),Array.from(l,j=>y.setUint8(b++,j.charCodeAt(0))),Array.from(c,j=>y.setUint8(b++,j.charCodeAt(0))),Array.from(d,j=>y.setUint8(b++,j.charCodeAt(0))),Array.from(f,j=>y.setUint8(b++,j.charCodeAt(0)));var _=new Uint8Array(x.byteLength+p.byteLength);return _.set(new Uint8Array(x),0),_.set(new Uint8Array(p),x.byteLength),_.buffer}_encodeJsonUserBroadcastPush(t){var s,a;const{join_ref:l,ref:c,topic:d}=t,f=t.payload.event,p=(a=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:{},x=new TextEncoder().encode(JSON.stringify(p)).buffer,y=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+c.length+d.length+f.length,b=new ArrayBuffer(this.HEADER_LENGTH+y);let _=new DataView(b),j=0;_.setUint8(j++,this.KINDS.userBroadcastPush),_.setUint8(j++,l.length),_.setUint8(j++,c.length),_.setUint8(j++,d.length),_.setUint8(j++,f.length),_.setUint8(j++,this.JSON_ENCODING),Array.from(l,w=>_.setUint8(j++,w.charCodeAt(0))),Array.from(c,w=>_.setUint8(j++,w.charCodeAt(0))),Array.from(d,w=>_.setUint8(j++,w.charCodeAt(0))),Array.from(f,w=>_.setUint8(j++,w.charCodeAt(0)));var N=new Uint8Array(b.byteLength+x.byteLength);return N.set(new Uint8Array(b),0),N.set(new Uint8Array(x),b.byteLength),N.buffer}decode(t,s){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return s(a)}if(typeof t=="string"){const a=JSON.parse(t),[l,c,d,f,p]=a;return s({join_ref:l,ref:c,topic:d,event:f,payload:p})}return s({})}_binaryDecode(t){const s=new DataView(t),a=s.getUint8(0),l=new TextDecoder;switch(a){case this.KINDS.push:return this._decodePush(t,s,l);case this.KINDS.reply:return this._decodeReply(t,s,l);case this.KINDS.broadcast:return this._decodeBroadcast(t,s,l);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,l)}}_decodePush(t,s,a){const l=s.getUint8(1),c=s.getUint8(2),d=s.getUint8(3);let f=this.HEADER_LENGTH+this.META_LENGTH-1;const p=a.decode(t.slice(f,f+l));f=f+l;const m=a.decode(t.slice(f,f+c));f=f+c;const x=a.decode(t.slice(f,f+d));f=f+d;const y=JSON.parse(a.decode(t.slice(f,t.byteLength)));return{join_ref:p,ref:null,topic:m,event:x,payload:y}}_decodeReply(t,s,a){const l=s.getUint8(1),c=s.getUint8(2),d=s.getUint8(3),f=s.getUint8(4);let p=this.HEADER_LENGTH+this.META_LENGTH;const m=a.decode(t.slice(p,p+l));p=p+l;const x=a.decode(t.slice(p,p+c));p=p+c;const y=a.decode(t.slice(p,p+d));p=p+d;const b=a.decode(t.slice(p,p+f));p=p+f;const _=JSON.parse(a.decode(t.slice(p,t.byteLength))),j={status:b,response:_};return{join_ref:m,ref:x,topic:y,event:At.reply,payload:j}}_decodeBroadcast(t,s,a){const l=s.getUint8(1),c=s.getUint8(2);let d=this.HEADER_LENGTH+2;const f=a.decode(t.slice(d,d+l));d=d+l;const p=a.decode(t.slice(d,d+c));d=d+c;const m=JSON.parse(a.decode(t.slice(d,t.byteLength)));return{join_ref:null,ref:null,topic:f,event:p,payload:m}}_decodeUserBroadcast(t,s,a){const l=s.getUint8(1),c=s.getUint8(2),d=s.getUint8(3),f=s.getUint8(4);let p=this.HEADER_LENGTH+4;const m=a.decode(t.slice(p,p+l));p=p+l;const x=a.decode(t.slice(p,p+c));p=p+c;const y=a.decode(t.slice(p,p+d));p=p+d;const b=t.slice(p,t.byteLength),_=f===this.JSON_ENCODING?JSON.parse(a.decode(b)):b,j={type:this.BROADCAST,event:x,payload:_};return d>0&&(j.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST,payload:j}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}}class rp{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Oe||(Oe={}));const Cf=(i,t,s={})=>{var a;const l=(a=s.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((c,d)=>(c[d]=Ty(d,i,t,l),c),{}):{}},Ty=(i,t,s,a)=>{const l=t.find(f=>f.name===i),c=l==null?void 0:l.type,d=s[i];return c&&!a.includes(c)?np(c,d):Nc(d)},np=(i,t)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return Ay(t,s)}switch(i){case Oe.bool:return Ry(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return Py(t);case Oe.json:case Oe.jsonb:return Oy(t);case Oe.timestamp:return Iy(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Nc(t);default:return Nc(t)}},Nc=i=>i,Ry=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Py=i=>{if(typeof i=="string"){const t=parseFloat(i);if(!Number.isNaN(t))return t}return i},Oy=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(t){return console.log(`JSON parse error: ${t}`),i}return i},Ay=(i,t)=>{if(typeof i!="string")return i;const s=i.length-1,a=i[s];if(i[0]==="{"&&a==="}"){let c;const d=i.slice(1,s);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(f=>np(t,f))}return i},Iy=i=>typeof i=="string"?i.replace(" ","T"):i,sp=i=>{const t=new URL(i);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class nc{constructor(t,s,a={},l=wc){this.channel=t,this.event=s,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var a;return this._hasReceived(t)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Tf;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Tf||(Tf={}));class Hs{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hs.syncState(this.state,l,c,d),this.pendingDiffs.forEach(p=>{this.state=Hs.syncDiff(this.state,p,c,d)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},l=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Hs.syncDiff(this.state,l,c,d),f())}),this.onJoin((l,c,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:d})}),this.onLeave((l,c,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,a,l){const c=this.cloneDeep(t),d=this.transformState(s),f={},p={};return this.map(c,(m,x)=>{d[m]||(p[m]=x)}),this.map(d,(m,x)=>{const y=c[m];if(y){const b=x.map(w=>w.presence_ref),_=y.map(w=>w.presence_ref),j=x.filter(w=>_.indexOf(w.presence_ref)<0),N=y.filter(w=>b.indexOf(w.presence_ref)<0);j.length>0&&(f[m]=j),N.length>0&&(p[m]=N)}else f[m]=x}),this.syncDiff(c,{joins:f,leaves:p},a,l)}static syncDiff(t,s,a,l){const{joins:c,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(c,(f,p)=>{var m;const x=(m=t[f])!==null&&m!==void 0?m:[];if(t[f]=this.cloneDeep(p),x.length>0){const y=t[f].map(_=>_.presence_ref),b=x.filter(_=>y.indexOf(_.presence_ref)<0);t[f].unshift(...b)}a(f,x,p)}),this.map(d,(f,p)=>{let m=t[f];if(!m)return;const x=p.map(y=>y.presence_ref);m=m.filter(y=>x.indexOf(y.presence_ref)<0),t[f]=m,l(f,m,p),m.length===0&&delete t[f]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(a=>s(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,a)=>{const l=t[a];return"metas"in l?s[a]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[a]=l,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rf;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Rf||(Rf={}));var Gs;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Gs||(Gs={}));var ur;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(ur||(ur={}));class Kc{constructor(t,s={config:{}},a){var l,c;if(this.topic=t,this.params=s,this.socket=a,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new nc(this,At.join,this.params,this.timeout),this.rejoinTimer=new rp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(At.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new Hs(this),this.broadcastEndpointURL=sp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var a,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,m=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(_=>_.filter))!==null&&l!==void 0?l:[],x=!!this.bindings[Gs.PRESENCE]&&this.bindings[Gs.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,y={},b={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:x}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(_=>t==null?void 0:t(ur.CHANNEL_ERROR,_)),this._onClose(()=>t==null?void 0:t(ur.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:_})=>{var j;if(this.socket.setAuth(),_===void 0){t==null||t(ur.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,w=(j=N==null?void 0:N.length)!==null&&j!==void 0?j:0,R=[];for(let U=0;U<w;U++){const O=N[U],{filter:{event:P,schema:I,table:F,filter:H}}=O,te=_&&_[U];if(te&&te.event===P&&te.schema===I&&te.table===F&&te.filter===H)R.push(Object.assign(Object.assign({},O),{id:te.id}));else{this.unsubscribe(),this.state=Je.errored,t==null||t(ur.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,t&&t(ur.SUBSCRIBED);return}}).receive("error",_=>{this.state=Je.errored,t==null||t(ur.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ur.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,a){return this.state===Je.joined&&t===Gs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,s,a)}async httpSend(t,s,a={}){var l;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const m=await f.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(t,s={}){var a,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,f,p;const m=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),m.receive("ok",()=>c("ok")),m.receive("error",()=>c("error")),m.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Je.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(At.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new nc(this,At.leave,{},t),a.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(t,s,a){const l=new AbortController,c=setTimeout(()=>l.abort(),a),d=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(c),d}_push(t,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new nc(this,t,s,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Ey){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,a){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,a){var l,c;const d=t.toLocaleLowerCase(),{close:f,error:p,leave:m,join:x}=At;if(a&&[f,p,m,x].indexOf(d)>=0&&a!==this._joinRef())return;let b=this._onMessage(d,s,a);if(s&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(_=>{var j,N,w;return((j=_.filter)===null||j===void 0?void 0:j.event)==="*"||((w=(N=_.filter)===null||N===void 0?void 0:N.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===d}).map(_=>_.callback(b,a)):(c=this.bindings[d])===null||c===void 0||c.filter(_=>{var j,N,w,R,U,O;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in _){const P=_.id,I=(j=_.filter)===null||j===void 0?void 0:j.event;return P&&((N=s.ids)===null||N===void 0?void 0:N.includes(P))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((w=s.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const P=(U=(R=_==null?void 0:_.filter)===null||R===void 0?void 0:R.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return P==="*"||P===((O=s==null?void 0:s.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===d}).map(_=>{if(typeof b=="object"&&"ids"in b){const j=b.data,{schema:N,table:w,commit_timestamp:R,type:U,errors:O}=j;b=Object.assign(Object.assign({},{schema:N,table:w,commit_timestamp:R,eventType:U,new:{},old:{},errors:O}),this._getPayloadRecords(j))}_.callback(b,a)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,a){const l=t.toLocaleLowerCase(),c={type:l,filter:s,callback:a};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(t,s){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&Kc.isEqual(l.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const a in t)if(t[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(At.close,{},t)}_onError(t){this._on(At.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Cf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Cf(t.columns,t.old_record)),s}}const sc=()=>{},ka={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ly=[1e3,2e3,5e3,1e4],Uy=1e4,$y=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dy{constructor(t,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wc,this.transport=null,this.heartbeatIntervalMs=ka.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sc,this.ref=0,this.reconnectTimer=null,this.vsn=Ef,this.logger=sc,this.conn=null,this.sendBuffer=[],this.serializer=new Cy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((a=s==null?void 0:s.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${jc.websocket}`,this.httpEndpoint=sp(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jy.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,a){this.logger(t,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ln.connecting:return cn.Connecting;case ln.open:return cn.Open;case ln.closing:return cn.Closing;default:return cn.Closed}}isConnected(){return this.connectionState()===cn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const a=`realtime:${t}`,l=this.getChannels().find(c=>c.topic===a);if(l)return l;{const c=new Kc(`realtime:${t}`,s,this);return this.channels.push(c),c}}push(t){const{topic:s,event:a,payload:l,ref:c}=t,d=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${s} ${a} (${c})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Sy,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ka.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:c,ref:d}=s,f=d?`(${d})`:"",p=c.status||"";this.log("receive",`${p} ${a} ${l} ${f}`.trim(),c),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(l,c,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ln.open||this.conn.readyState===ln.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(At.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const a=t.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${t}${a}${l}`}_workerObjectUrl(t){let s;if(t)s=t;else{const a=new Blob([$y],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s;t?s=t:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const l={access_token:s,version:_y};s&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(At.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(s)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new rp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ka.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,a,l,c,d,f,p,m,x,y,b,_;switch(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:wc,this.heartbeatIntervalMs=(l=t==null?void 0:t.heartbeatIntervalMs)!==null&&l!==void 0?l:ka.HEARTBEAT_INTERVAL,this.worker=(c=t==null?void 0:t.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=t==null?void 0:t.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=t==null?void 0:t.heartbeatCallback)!==null&&f!==void 0?f:sc,this.vsn=(p=t==null?void 0:t.vsn)!==null&&p!==void 0?p:Ef,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t==null?void 0:t.reconnectAfterMs)!==null&&m!==void 0?m:j=>Ly[j-1]||Uy,this.vsn){case tp:this.encode=(x=t==null?void 0:t.encode)!==null&&x!==void 0?x:(j,N)=>N(JSON.stringify(j)),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:(j,N)=>N(JSON.parse(j));break;case ky:this.encode=(b=t==null?void 0:t.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(_=t==null?void 0:t.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Jc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function De(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class My extends Jc{constructor(t,s,a){super(t),this.name="StorageApiError",this.status=s,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _c extends Jc{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}const Qc=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),By=()=>Response,kc=i=>{if(Array.isArray(i))return i.map(s=>kc(s));if(typeof i=="function"||i!==Object(i))return i;const t={};return Object.entries(i).forEach(([s,a])=>{const l=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[l]=kc(a)}),t},zy=i=>{if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},ic=i=>{var t;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(t=i.error)===null||t===void 0?void 0:t.message)||JSON.stringify(i)},Fy=(i,t,s)=>de(void 0,void 0,void 0,function*(){const a=yield By();i instanceof a&&!(s!=null&&s.noResolveJson)?i.json().then(l=>{const c=i.status||500,d=(l==null?void 0:l.statusCode)||c+"";t(new My(ic(l),c,d))}).catch(l=>{t(new _c(ic(l),l))}):t(new _c(ic(i),i))}),qy=(i,t,s,a)=>{const l={method:i,headers:(t==null?void 0:t.headers)||{}};return i==="GET"||!a?l:(zy(a)?(l.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),l.body=JSON.stringify(a)):l.body=a,t!=null&&t.duplex&&(l.duplex=t.duplex),Object.assign(Object.assign({},l),s))};function ni(i,t,s,a,l,c){return de(this,void 0,void 0,function*(){return new Promise((d,f)=>{i(s,qy(t,a,l,c)).then(p=>{if(!p.ok)throw p;return a!=null&&a.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>Fy(p,f,a))})})}function Ys(i,t,s,a){return de(this,void 0,void 0,function*(){return ni(i,"GET",t,s,a)})}function qt(i,t,s,a,l){return de(this,void 0,void 0,function*(){return ni(i,"POST",t,a,l,s)})}function Sc(i,t,s,a,l){return de(this,void 0,void 0,function*(){return ni(i,"PUT",t,a,l,s)})}function Wy(i,t,s,a){return de(this,void 0,void 0,function*(){return ni(i,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function Yc(i,t,s,a,l){return de(this,void 0,void 0,function*(){return ni(i,"DELETE",t,a,l,s)})}class Vy{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s}then(t,s){return this.execute().then(t,s)}execute(){return de(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(De(t))return{data:null,error:t};throw t}})}}var ip;class Hy{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s,this[ip]="BlobDownloadBuilder",this.promise=null}asStream(){return new Vy(this.downloadFn,this.shouldThrowOnError)}then(t,s){return this.getPromise().then(t,s)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return de(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(De(t))return{data:null,error:t};throw t}})}}ip=Symbol.toStringTag;const Gy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ky{constructor(t,s={},a,l){this.shouldThrowOnError=!1,this.url=t,this.headers=s,this.bucketId=a,this.fetch=Qc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,s,a,l){return de(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},Pf),l);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.has("cacheControl")||c.append("cacheControl",d.cacheControl),p&&!c.has("metadata")&&c.append("metadata",this.encodeMetadata(p))):(c=a,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!d.duplex&&(d.duplex="half")),l!=null&&l.headers&&(f=Object.assign(Object.assign({},f),l.headers));const m=this._removeEmptyFolders(s),x=this._getFinalPath(m),y=yield(t=="PUT"?Sc:qt)(this.fetch,`${this.url}/object/${x}`,c,Object.assign({headers:f},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(De(c))return{data:null,error:c};throw c}})}upload(t,s,a){return de(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,a)})}uploadToSignedUrl(t,s,a,l){return de(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(t),d=this._getFinalPath(c),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",s);try{let p;const m=Object.assign({upsert:Pf.upsert},l),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",a)):typeof FormData<"u"&&a instanceof FormData?(p=a,p.append("cacheControl",m.cacheControl)):(p=a,x["cache-control"]=`max-age=${m.cacheControl}`,x["content-type"]=m.contentType);const y=yield Sc(this.fetch,f.toString(),p,{headers:x});return{data:{path:c,fullPath:y.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(De(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,s){return de(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const l=Object.assign({},this.headers);s!=null&&s.upsert&&(l["x-upsert"]="true");const c=yield qt(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),d=new URL(this.url+c.url),f=d.searchParams.get("token");if(!f)throw new Jc("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:f},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}})}update(t,s,a){return de(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,a)})}move(t,s,a){return de(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}})}copy(t,s,a){return de(this,void 0,void 0,function*(){try{return{data:{path:(yield qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}})}createSignedUrl(t,s,a){return de(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),c=yield qt(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:s},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const d=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}})}createSignedUrls(t,s,a){return de(this,void 0,void 0,function*(){try{const l=yield qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),c=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}})}download(t,s){const l=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),d=c?`?${c}`:"",f=this._getFinalPath(t),p=()=>Ys(this.fetch,`${this.url}/${l}/${f}${d}`,{headers:this.headers,noResolveJson:!0});return new Hy(p,this.shouldThrowOnError)}info(t){return de(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const a=yield Ys(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:kc(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}})}exists(t){return de(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield Wy(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(De(a)&&a instanceof _c){const l=a.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,s){const a=this._getFinalPath(t),l=[],c=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&l.push(c);const f=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});p!==""&&l.push(p);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${a}${m}`)}}}remove(t){return de(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}list(t,s,a){return de(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Gy),s),{prefix:t||""});return{data:yield qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}})}listV2(t,s){return de(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield qt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const ap="2.81.1",op={"X-Client-Info":`storage-js/${ap}`};class Jy{constructor(t,s={},a,l){this.shouldThrowOnError=!1;const c=new URL(t);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},op),s),this.fetch=Qc(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return de(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(t);return{data:yield Ys(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}getBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}createBucket(t){return de(this,arguments,void 0,function*(s,a={public:!1}){try{return{data:yield qt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}})}updateBucket(t,s){return de(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}})}emptyBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}deleteBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(t){const s={};return t&&("limit"in t&&(s.limit=String(t.limit)),"offset"in t&&(s.offset=String(t.offset)),t.search&&(s.search=t.search),t.sortColumn&&(s.sortColumn=t.sortColumn),t.sortOrder&&(s.sortOrder=t.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}class Qy{constructor(t,s={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},op),s),this.fetch=Qc(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}listBuckets(t){return de(this,void 0,void 0,function*(){try{const s=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&s.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&s.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&s.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&s.set("sortOrder",t.sortOrder),t!=null&&t.search&&s.set("search",t.search);const a=s.toString(),l=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield Ys(this.fetch,l,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}deleteBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}}const Xc={"X-Client-Info":`storage-js/${ap}`,"Content-Type":"application/json"};class lp extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function _t(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class ac extends lp{constructor(t,s,a){super(t),this.name="StorageVectorsApiError",this.status=s,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yy extends lp{constructor(t,s){super(t),this.name="StorageVectorsUnknownError",this.originalError=s}}var Of;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Of||(Of={}));const Zc=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),Xy=i=>{if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Af=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Zy=(i,t,s)=>de(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(s!=null&&s.noResolveJson)){const l=i.status||500,c=i;if(typeof c.json=="function")c.json().then(d=>{const f=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||l+"";t(new ac(Af(d),l,f))}).catch(()=>{const d=l+"",f=c.statusText||`HTTP ${l} error`;t(new ac(f,l,d))});else{const d=l+"",f=c.statusText||`HTTP ${l} error`;t(new ac(f,l,d))}}else t(new Yy(Af(i),i))}),ev=(i,t,s,a)=>{const l={method:i,headers:(t==null?void 0:t.headers)||{}};return a?(Xy(a)?(l.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),l.body=JSON.stringify(a)):l.body=a,Object.assign(Object.assign({},l),s)):l};function tv(i,t,s,a,l,c){return de(this,void 0,void 0,function*(){return new Promise((d,f)=>{i(s,ev(t,a,l,c)).then(p=>{if(!p.ok)throw p;if(a!=null&&a.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>d(p)).catch(p=>Zy(p,f,a))})})}function kt(i,t,s,a,l){return de(this,void 0,void 0,function*(){return tv(i,"POST",t,a,l,s)})}class rv{constructor(t,s={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xc),s),this.fetch=Zc(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return de(this,void 0,void 0,function*(){try{return{data:(yield kt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_t(s))return{data:null,error:s};throw s}})}getIndex(t,s){return de(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:s},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_t(a))return{data:null,error:a};throw a}})}listIndexes(t){return de(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_t(s))return{data:null,error:s};throw s}})}deleteIndex(t,s){return de(this,void 0,void 0,function*(){try{return{data:(yield kt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:s},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_t(a))return{data:null,error:a};throw a}})}}class nv{constructor(t,s={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xc),s),this.fetch=Zc(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return de(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield kt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_t(s))return{data:null,error:s};throw s}})}getVectors(t){return de(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_t(s))return{data:null,error:s};throw s}})}listVectors(t){return de(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield kt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_t(s))return{data:null,error:s};throw s}})}queryVectors(t){return de(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_t(s))return{data:null,error:s};throw s}})}deleteVectors(t){return de(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield kt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_t(s))return{data:null,error:s};throw s}})}}class sv{constructor(t,s={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xc),s),this.fetch=Zc(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return de(this,void 0,void 0,function*(){try{return{data:(yield kt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_t(s))return{data:null,error:s};throw s}})}getBucket(t){return de(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_t(s))return{data:null,error:s};throw s}})}listBuckets(){return de(this,arguments,void 0,function*(t={}){try{return{data:yield kt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_t(s))return{data:null,error:s};throw s}})}deleteBucket(t){return de(this,void 0,void 0,function*(){try{return{data:(yield kt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_t(s))return{data:null,error:s};throw s}})}}class iv extends sv{constructor(t,s={}){super(t,s.headers||{},s.fetch)}from(t){return new av(this.url,this.headers,t,this.fetch)}}class av extends rv{constructor(t,s,a,l){super(t,s,l),this.vectorBucketName=a}createIndex(t){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return de(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return de(this,arguments,void 0,function*(s={}){return t.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return de(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return de(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new ov(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class ov extends nv{constructor(t,s,a,l,c){super(t,s,c),this.vectorBucketName=a,this.indexName=l}putVectors(t){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return de(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return de(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return de(this,arguments,void 0,function*(s={}){return t.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return de(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return de(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class lv extends Jy{constructor(t,s={},a,l){super(t,s,a,l)}from(t){return new Ky(this.url,this.headers,t,this.fetch)}get vectors(){return new iv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Qy(this.url+"/iceberg",this.headers,this.fetch)}}const cv="2.81.1";let Vs="";typeof Deno<"u"?Vs="deno":typeof document<"u"?Vs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vs="react-native":Vs="node";const uv={"X-Client-Info":`supabase-js-${Vs}/${cv}`},dv={headers:uv},hv={schema:"public"},fv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mv={},pv=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),gv=()=>Headers,xv=(i,t,s)=>{const a=pv(s),l=gv();return async(c,d)=>{var f;const p=(f=await t())!==null&&f!==void 0?f:i;let m=new l(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",i),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),a(c,Object.assign(Object.assign({},d),{headers:m}))}};function yv(i){return i.endsWith("/")?i:i+"/"}function vv(i,t){var s,a;const{db:l,auth:c,realtime:d,global:f}=i,{db:p,auth:m,realtime:x,global:y}=t,b={db:Object.assign(Object.assign({},p),l),auth:Object.assign(Object.assign({},m),c),realtime:Object.assign(Object.assign({},x),d),storage:{},global:Object.assign(Object.assign(Object.assign({},y),f),{headers:Object.assign(Object.assign({},(s=y==null?void 0:y.headers)!==null&&s!==void 0?s:{}),(a=f==null?void 0:f.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return i.accessToken?b.accessToken=i.accessToken:delete b.accessToken,b}function bv(i){const t=i==null?void 0:i.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yv(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const cp="2.81.1",Hn=30*1e3,Ec=3,oc=Ec*Hn,wv="http://localhost:9999",jv="supabase.auth.token",Nv={"X-Client-Info":`gotrue-js/${cp}`},Cc="X-Supabase-Api-Version",up={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_v=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kv=10*60*1e3;class Xs extends Error{constructor(t,s,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function fe(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Sv extends Xs{constructor(t,s,a){super(t,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function Ev(i){return fe(i)&&i.name==="AuthApiError"}class un extends Xs{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Wr extends Xs{constructor(t,s,a,l){super(t,a,l),this.name=s,this.status=a}}class zt extends Wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cv(i){return fe(i)&&i.name==="AuthSessionMissingError"}class zn extends Wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sa extends Wr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ea extends Wr{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tv(i){return fe(i)&&i.name==="AuthImplicitGrantRedirectError"}class If extends Wr{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tc extends Wr{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function lc(i){return fe(i)&&i.name==="AuthRetryableFetchError"}class Lf extends Wr{constructor(t,s,a){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class Rc extends Wr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ua="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uf=` 	
\r=`.split(""),Rv=(()=>{const i=new Array(128);for(let t=0;t<i.length;t+=1)i[t]=-1;for(let t=0;t<Uf.length;t+=1)i[Uf[t].charCodeAt(0)]=-2;for(let t=0;t<Ua.length;t+=1)i[Ua[t].charCodeAt(0)]=t;return i})();function $f(i,t,s){if(i!==null)for(t.queue=t.queue<<8|i,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;s(Ua[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;s(Ua[a]),t.queuedBits-=6}}function dp(i,t,s){const a=Rv[i];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Df(i){const t=[],s=d=>{t.push(String.fromCodePoint(d))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=d=>{Av(d,a,s)};for(let d=0;d<i.length;d+=1)dp(i.charCodeAt(d),l,c);return t.join("")}function Pv(i,t){if(i<=127){t(i);return}else if(i<=2047){t(192|i>>6),t(128|i&63);return}else if(i<=65535){t(224|i>>12),t(128|i>>6&63),t(128|i&63);return}else if(i<=1114111){t(240|i>>18),t(128|i>>12&63),t(128|i>>6&63),t(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Ov(i,t){for(let s=0;s<i.length;s+=1){let a=i.charCodeAt(s);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(i.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}Pv(a,t)}}function Av(i,t,s){if(t.utf8seq===0){if(i<=127){s(i);return}for(let a=1;a<6;a+=1)if((i>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=i&31;else if(t.utf8seq===3)t.codepoint=i&15;else if(t.utf8seq===4)t.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|i&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Kn(i){const t=[],s={queue:0,queuedBits:0},a=l=>{t.push(l)};for(let l=0;l<i.length;l+=1)dp(i.charCodeAt(l),s,a);return new Uint8Array(t)}function Iv(i){const t=[];return Ov(i,s=>t.push(s)),new Uint8Array(t)}function dn(i){const t=[],s={queue:0,queuedBits:0},a=l=>{t.push(l)};return i.forEach(l=>$f(l,s,a)),$f(null,s,a),t.join("")}function Lv(i){return Math.round(Date.now()/1e3)+i}function Uv(){return Symbol("auth-callback")}const tt=()=>typeof window<"u"&&typeof document<"u",sn={tested:!1,writable:!1},hp=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sn.tested)return sn.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),sn.tested=!0,sn.writable=!0}catch{sn.tested=!0,sn.writable=!1}return sn.writable};function $v(i){const t={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,c)=>{t[c]=l})}catch{}return s.searchParams.forEach((a,l)=>{t[l]=a}),t}const fp=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),Dv=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Gn=async(i,t,s)=>{await i.setItem(t,JSON.stringify(s))},an=async(i,t)=>{const s=await i.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Or=async(i,t)=>{await i.removeItem(t)};class Va{constructor(){this.promise=new Va.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Va.promiseConstructor=Promise;function cc(i){const t=i.split(".");if(t.length!==3)throw new Rc("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!_v.test(t[a]))throw new Rc("JWT not in base64url format");return{header:JSON.parse(Df(t[0])),payload:JSON.parse(Df(t[1])),signature:Kn(t[2]),raw:{header:t[0],payload:t[1]}}}async function Mv(i){return await new Promise(t=>{setTimeout(()=>t(null),i)})}function Bv(i,t){return new Promise((a,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await i(c);if(!t(c,null,d)){a(d);return}}catch(d){if(!t(c,d)){l(d);return}}})()})}function zv(i){return("0"+i.toString(16)).substr(-2)}function Fv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let l="";for(let c=0;c<56;c++)l+=s.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(t),Array.from(t,zv).join("")}async function qv(i){const s=new TextEncoder().encode(i),a=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(a);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function Wv(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await qv(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fn(i,t,s=!1){const a=Fv();let l=a;s&&(l+="/PASSWORD_RECOVERY"),await Gn(i,`${t}-code-verifier`,l);const c=await Wv(a);return[c,a===c?"plain":"s256"]}const Vv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hv(i){const t=i.headers.get(Cc);if(!t||!t.match(Vv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Gv(i){if(!i)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(i<=t)throw new Error("JWT has expired")}function Kv(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Jv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qn(i){if(!Jv.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function uc(){const i={};return new Proxy(i,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qv(i,t){return new Proxy(i,{get:(s,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const c=a.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,a,l)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,a,l)}})}function Mf(i){return JSON.parse(JSON.stringify(i))}const on=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Yv=[502,503,504];async function Bf(i){var t;if(!Dv(i))throw new Tc(on(i),0);if(Yv.includes(i.status))throw new Tc(on(i),i.status);let s;try{s=await i.json()}catch(c){throw new un(on(c),c)}let a;const l=Hv(i);if(l&&l.getTime()>=up["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new Lf(on(s),i.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new zt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new Lf(on(s),i.status,s.weak_password.reasons);throw new Sv(on(s),i.status||500,a)}const Xv=(i,t,s,a)=>{const l={method:i,headers:(t==null?void 0:t.headers)||{}};return i==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),s))};async function xe(i,t,s,a){var l;const c=Object.assign({},a==null?void 0:a.headers);c[Cc]||(c[Cc]=up["2024-01-01"].name),a!=null&&a.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const d=(l=a==null?void 0:a.query)!==null&&l!==void 0?l:{};a!=null&&a.redirectTo&&(d.redirect_to=a.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await Zv(i,t,s+f,{headers:c,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(p):{data:Object.assign({},p),error:null}}async function Zv(i,t,s,a,l,c){const d=Xv(t,a,l,c);let f;try{f=await i(s,Object.assign({},d))}catch(p){throw console.error(p),new Tc(on(p),0)}if(f.ok||await Bf(f),a!=null&&a.noResolveJson)return f;try{return await f.json()}catch(p){await Bf(p)}}function Ft(i){var t;let s=null;rb(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=Lv(i.expires_in)));const a=(t=i.user)!==null&&t!==void 0?t:i;return{data:{session:s,user:a},error:null}}function zf(i){const t=Ft(i);return!t.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(t.data.weak_password=i.weak_password),t}function Lr(i){var t;return{data:{user:(t=i.user)!==null&&t!==void 0?t:i},error:null}}function eb(i){return{data:i,error:null}}function tb(i){const{action_link:t,email_otp:s,hashed_token:a,redirect_to:l,verification_type:c}=i,d=Zn(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:s,hashed_token:a,redirect_to:l,verification_type:c},p=Object.assign({},d);return{data:{properties:f,user:p},error:null}}function Ff(i){return i}function rb(i){return i.access_token&&i.refresh_token&&i.expires_in}const dc=["global","local","others"];class nb{constructor({url:t="",headers:s={},fetch:a}){this.url=t,this.headers=s,this.fetch=fp(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=dc[0]){if(dc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dc.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(fe(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,s={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Lr})}catch(a){if(fe(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:s}=t,a=Zn(t,["options"]),l=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(l.new_email=a==null?void 0:a.newEmail,delete l.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:tb,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(fe(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Lr})}catch(s){if(fe(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,a,l,c,d,f,p;try{const m={nextPage:null,lastPage:0,total:0},x=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Ff});if(x.error)throw x.error;const y=await x.json(),b=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,_=(p=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(j.split(";")[1].split("=")[1]);m[`${w}Page`]=N}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(fe(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){qn(t);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Lr})}catch(s){if(fe(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){qn(t);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Lr})}catch(a){if(fe(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,s=!1){qn(t);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Lr})}catch(a){if(fe(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){qn(t.userId);try{const{data:s,error:a}=await xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:a}}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _deleteFactor(t){qn(t.userId),qn(t.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,a,l,c,d,f,p;try{const m={nextPage:null,lastPage:0,total:0},x=await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Ff});if(x.error)throw x.error;const y=await x.json(),b=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,_=(p=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(j.split(";")[1].split("=")[1]);m[`${w}Page`]=N}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(fe(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(fe(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(fe(s))return{data:null,error:s};throw s}}}function qf(i={}){return{getItem:t=>i[t]||null,setItem:(t,s)=>{i[t]=s},removeItem:t=>{delete i[t]}}}const Wn={debug:!!(globalThis&&hp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class sb extends mp{}async function ib(i,t,s){Wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Wn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){Wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,l.name);try{return await s()}finally{Wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,l.name)}}else{if(t===0)throw Wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new sb(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Wn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function ab(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pp(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function ob(i){return parseInt(i,16)}function lb(i){const t=new TextEncoder().encode(i);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function cb(i){var t;const{chainId:s,domain:a,expirationTime:l,issuedAt:c=new Date,nonce:d,notBefore:f,requestId:p,resources:m,scheme:x,uri:y,version:b}=i;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=i.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const _=pp(i.address),j=x?`${x}://${a}`:a,N=i.statement?`${i.statement}
`:"",w=`${j} wants you to sign in with your Ethereum account:
${_}

${N}`;let R=`URI: ${y}
Version: ${b}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(l&&(R+=`
Expiration Time: ${l.toISOString()}`),f&&(R+=`
Not Before: ${f.toISOString()}`),p&&(R+=`
Request ID: ${p}`),m){let U=`
Resources:`;for(const O of m){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);U+=`
- ${O}`}R+=U}return`${w}
${R}`}class He extends Error{constructor({message:t,code:s,cause:a,name:l}){var c;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(c=l??(a instanceof Error?a.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class $a extends He{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function ub({error:i,options:t}){var s,a,l;const{publicKey:c}=t;if(!c)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new He({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new He({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(t.mediation==="conditional"&&((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new He({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new He({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new He({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new He({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return c.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new He({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new He({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const d=window.location.hostname;if(gp(d)){if(c.rp.id!==d)return new He({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new He({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new He({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new He({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new He({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function db({error:i,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new He({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new He({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const a=window.location.hostname;if(gp(a)){if(s.rpId!==a)return new He({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new He({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new He({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new He({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class hb{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const fb=new hb;function mb(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:t,user:s,excludeCredentials:a}=i,l=Zn(i,["challenge","user","excludeCredentials"]),c=Kn(t).buffer,d=Object.assign(Object.assign({},s),{id:Kn(s.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:c,user:d});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let p=0;p<a.length;p++){const m=a[p];f.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:Kn(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function pb(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:t,allowCredentials:s}=i,a=Zn(i,["challenge","allowCredentials"]),l=Kn(t).buffer,c=Object.assign(Object.assign({},a),{challenge:l});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const f=s[d];c.allowCredentials[d]=Object.assign(Object.assign({},f),{id:Kn(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function gb(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i;return{id:i.id,rawId:i.id,response:{attestationObject:dn(new Uint8Array(i.response.attestationObject)),clientDataJSON:dn(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xb(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i,a=i.getClientExtensionResults(),l=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:dn(new Uint8Array(l.authenticatorData)),clientDataJSON:dn(new Uint8Array(l.clientDataJSON)),signature:dn(new Uint8Array(l.signature)),userHandle:l.userHandle?dn(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function gp(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Wf(){var i,t;return!!(tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function yb(i){try{const t=await navigator.credentials.create(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $a("Browser returned unexpected credential type",t)}:{data:null,error:new $a("Empty credential response",t)}}catch(t){return{data:null,error:ub({error:t,options:i})}}}async function vb(i){try{const t=await navigator.credentials.get(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $a("Browser returned unexpected credential type",t)}:{data:null,error:new $a("Empty credential response",t)}}catch(t){return{data:null,error:db({error:t,options:i})}}}const bb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},wb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Da(...i){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),s=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of i)if(l)for(const c in l){const d=l[c];if(d!==void 0)if(Array.isArray(d))a[c]=d;else if(s(d))a[c]=d;else if(t(d)){const f=a[c];t(f)?a[c]=Da(f,d):a[c]=Da(d)}else a[c]=d}return a}function jb(i,t){return Da(bb,i,t||{})}function Nb(i,t){return Da(wb,i,t||{})}class _b{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:a,signal:l},c){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!d)return{data:null,error:f};const p=l??fb.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:m}=d.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(d.webauthn.type){case"create":{const m=jb(d.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:x,error:y}=await yb({publicKey:m,signal:p});return x?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:y}}case"request":{const m=Nb(d.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:x,error:y}=await vb(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:m,signal:p}));return x?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:y}}}}catch(d){return fe(d)?{data:null,error:d}:{data:null,error:new un("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:s,webauthn:a}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!s)return{data:null,error:new Xs("rpId is required for WebAuthn authentication")};try{if(!Wf())return{data:null,error:new un("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:a},signal:l},{request:c});if(!d)return{data:null,error:f};const{webauthn:p}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:a,credential_response:p.credential_response}})}catch(d){return fe(d)?{data:null,error:d}:{data:null,error:new un("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!s)return{data:null,error:new Xs("rpId is required for WebAuthn registration")};try{if(!Wf())return{data:null,error:new un("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(x=>{var y;return(y=x.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:f};const{data:p,error:m}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:a},signal:l},{create:c});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:a,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(d){return fe(d)?{data:null,error:d}:{data:null,error:new un("Unexpected error in register",d)}}}}ab();const kb={url:wv,storageKey:jv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Nv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Vf(i,t,s){return await s()}const Vn={};class Zs{get jwks(){var t,s;return(s=(t=Vn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Vn[this.storageKey]=Object.assign(Object.assign({},Vn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Vn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vn[this.storageKey]=Object.assign(Object.assign({},Vn[this.storageKey]),{cachedAt:t})}constructor(t){var s,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},kb),t);if(this.storageKey=c.storageKey,this.instanceID=(s=Zs.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Zs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&tt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new nb({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=fp(c.fetch),this.lock=c.lock||Vf,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:tt()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=ib:this.lock=Vf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _b(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:hp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qf(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=qf(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${cp}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},a="none";if(tt()&&(s=$v(window.location.href),this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce")),tt()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:c}=await this._getSessionFromURL(s,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Tv(c)){const p=(t=c.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return fe(s)?this._returnResult({error:s}):this._returnResult({error:new un("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,a,l;try{const c=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=t==null?void 0:t.options)===null||l===void 0?void 0:l.captchaToken}},xform:Ft}),{data:d,error:f}=c;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const p=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(c){if(fe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(t){var s,a,l;try{let c;if("email"in t){const{email:x,password:y,options:b}=t;let _=null,j=null;this.flowType==="pkce"&&([_,j]=await Fn(this.storage,this.storageKey)),c=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:x,password:y,data:(s=b==null?void 0:b.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:_,code_challenge_method:j},xform:Ft})}else if("phone"in t){const{phone:x,password:y,options:b}=t;c=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(a=b==null?void 0:b.data)!==null&&a!==void 0?a:{},channel:(l=b==null?void 0:b.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Ft})}else throw new Sa("You must provide either an email or phone number and a password");const{data:d,error:f}=c;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const p=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(c){if(fe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(t){try{let s;if("email"in t){const{email:c,password:d,options:f}=t;s=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:zf})}else if("phone"in t){const{phone:c,password:d,options:f}=t;s=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:zf})}else throw new Sa("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const c=new zn;return this._returnResult({data:{user:null,session:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(s){if(fe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,a,l,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,a,l,c,d,f,p,m,x,y,b;let _,j;if("message"in t)_=t.message,j=t.signature;else{const{chain:N,wallet:w,statement:R,options:U}=t;let O;if(tt())if(typeof w=="object")O=w;else{const re=window;if("ethereum"in re&&typeof re.ethereum=="object"&&"request"in re.ethereum&&typeof re.ethereum.request=="function")O=re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=w}const P=new URL((s=U==null?void 0:U.url)!==null&&s!==void 0?s:window.location.href),I=await O.request({method:"eth_requestAccounts"}).then(re=>re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=pp(I[0]);let H=(a=U==null?void 0:U.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!H){const re=await O.request({method:"eth_chainId"});H=ob(re)}const te={domain:P.host,address:F,statement:R,uri:P.href,version:"1",chainId:H,nonce:(l=U==null?void 0:U.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(c=U==null?void 0:U.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=U==null?void 0:U.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=U==null?void 0:U.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=U==null?void 0:U.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(x=U==null?void 0:U.signInWithEthereum)===null||x===void 0?void 0:x.resources};_=cb(te),j=await O.request({method:"personal_sign",params:[lb(_),F]})}try{const{data:N,error:w}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:j},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ft});if(w)throw w;if(!N||!N.session||!N.user){const R=new zn;return this._returnResult({data:{user:null,session:null},error:R})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:w})}catch(N){if(fe(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(t){var s,a,l,c,d,f,p,m,x,y,b,_;let j,N;if("message"in t)j=t.message,N=t.signature;else{const{chain:w,wallet:R,statement:U,options:O}=t;let P;if(tt())if(typeof R=="object")P=R;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))P=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=R}const I=new URL((s=O==null?void 0:O.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in P&&P.signIn){const F=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),U?{statement:U}:null));let H;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")H=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)H=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)j=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),N=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${I.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(l=(a=O==null?void 0:O.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=O==null?void 0:O.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((d=O==null?void 0:O.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((f=O==null?void 0:O.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((p=O==null?void 0:O.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((m=O==null?void 0:O.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((y=(x=O==null?void 0:O.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...O.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const F=await P.signMessage(new TextEncoder().encode(j),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=F}}try{const{data:w,error:R}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:dn(N)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Ft});if(R)throw R;if(!w||!w.session||!w.user){const U=new zn;return this._returnResult({data:{user:null,session:null},error:U})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:R})}catch(w){if(fe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const s=await an(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(s??"").split("/");try{const{data:c,error:d}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Ft});if(await Or(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!c||!c.session||!c.user){const f=new zn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:d})}catch(c){if(fe(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(t){try{const{options:s,provider:a,token:l,access_token:c,nonce:d}=t,f=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ft}),{data:p,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const x=new zn;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(s){if(fe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,a,l,c,d;try{if("email"in t){const{email:f,options:p}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Fn(this.storage,this.storageKey));const{error:y}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in t){const{phone:f,options:p}=t,{data:m,error:x}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=p==null?void 0:p.data)!==null&&l!==void 0?l:{},create_user:(c=p==null?void 0:p.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:x})}throw new Sa("You must provide either an email or phone number.")}catch(f){if(fe(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var s,a;try{let l,c;"options"in t&&(l=(s=t.options)===null||s===void 0?void 0:s.redirectTo,c=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:d,error:f}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Ft});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,m=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(l){if(fe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var s,a,l,c,d;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Fn(this.storage,this.storageKey));const m=await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=t==null?void 0:t.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:eb});return!((c=m.data)===null||c===void 0)&&c.url&&tt()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(fe(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;if(a)throw a;if(!s)throw new zt;const{error:l}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(fe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:a,type:l,options:c}=t,{error:d}=await xe(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:a,type:l,options:c}=t,{data:d,error:f}=await xe(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new Sa("You must provide either an email or phone number and a type")}catch(s){if(fe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await an(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<oc:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const d=await an(this.userStorage,this.storageKey+"-user");d!=null&&d.user?t.user=d.user:t.user=uc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=Qv(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Lr}):await this._useSession(async s=>{var a,l,c;const{data:d,error:f}=s;if(f)throw f;return!(!((a=d.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zt}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:Lr})})}catch(s){if(fe(s))return Cv(s)&&(await this._removeSession(),await Or(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async a=>{const{data:l,error:c}=a;if(c)throw c;if(!l.session)throw new zt;const d=l.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await Fn(this.storage,this.storageKey));const{data:m,error:x}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:Lr});if(x)throw x;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(a){if(fe(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new zt;const s=Date.now()/1e3;let a=s,l=!0,c=null;const{payload:d}=cc(t.access_token);if(d.exp&&(a=d.exp,l=a<=s),l){const{data:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)throw p;c={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(fe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var a;if(!t){const{data:d,error:f}=s;if(f)throw f;t=(a=d.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new zt;const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(fe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!tt())throw new Ea("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ea(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new If("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ea("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new If("No code detected.");const{data:U,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:c,refresh_token:d,expires_in:f,expires_at:p,token_type:m}=t;if(!c||!f||!d||!m)throw new Ea("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(f);let b=x+y;p&&(b=parseInt(p));const _=b-x;_*1e3<=Hn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const j=b-y;x-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,b,x):x-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,b,x);const{data:N,error:w}=await this._getUser(c);if(w)throw w;const R={provider_token:a,provider_refresh_token:l,access_token:c,expires_in:y,expires_at:b,refresh_token:d,token_type:m,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:t.type},error:null})}catch(a){if(fe(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await an(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:l,error:c}=s;if(c)return this._returnResult({error:c});const d=(a=l.session)===null||a===void 0?void 0:a.access_token;if(d){const{error:f}=await this.admin.signOut(d,t);if(f&&!(Ev(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await Or(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=Uv(),a={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async s=>{var a,l;try{const{data:{session:c},error:d}=s;if(d)throw d;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,s={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Fn(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(fe(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var t;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(fe(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:a,error:l}=await this._useSession(async c=>{var d,f,p,m,x;const{data:y,error:b}=c;if(b)throw b;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",_,{headers:this.headers,jwt:(x=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0})});if(l)throw l;return tt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:t.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(fe(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var a;try{const{error:l,data:{session:c}}=s;if(l)throw l;const{options:d,provider:f,token:p,access_token:m,nonce:x}=t,y=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=c==null?void 0:c.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:p,access_token:m,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ft}),{data:b,error:_}=y;return _?this._returnResult({data:{user:null,session:null},error:_}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new zn}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:_}))}catch(l){if(fe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var a,l;const{data:c,error:d}=s;if(d)throw d;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(fe(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await Bv(async l=>(l>0&&await Mv(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ft})),(l,c)=>{const d=200*Math.pow(2,l);return c&&lc(c)&&Date.now()+d-a<Hn})}catch(a){if(this._debug(s,"error",a),fe(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",a),tt()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await an(this.storage,this.storageKey);if(l&&this.userStorage){let d=await an(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await Gn(this.userStorage,this.storageKey+"-user",d)),l.user=(t=d==null?void 0:d.user)!==null&&t!==void 0?t:uc()}else if(l&&!l.user&&!l.user){const d=await an(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(l.user=d.user,await Or(this.storage,this.storageKey+"-user"),await Gn(this.storage,this.storageKey,l)):l.user=uc()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const c=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<oc;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${oc}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),lc(d)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(l.access_token);!f&&(d!=null&&d.user)?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(a,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var s,a;if(!t)throw new zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Va;const{data:c,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!c.session)throw new zt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={data:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(l,"error",c),fe(c)){const d={data:null,error:c};return lc(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,s,a=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:s});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,s)}catch(p){c.push(p)}});if(await Promise.all(d),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const s=Object.assign({},t),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await Gn(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const c=Mf(l);await Gn(this.storage,this.storageKey,c)}else{const l=Mf(s);await Gn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Or(this.storage,this.storageKey),await Or(this.storage,this.storageKey+"-code-verifier"),await Or(this.storage,this.storageKey+"-user"),this.userStorage&&await Or(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Hn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-t)/Hn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Hn}ms, refresh threshold is ${Ec} ticks`),l<=Ec&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof mp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,a){const l=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,d]=await Fn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(f.toString())}if(a!=null&&a.queryParams){const c=new URLSearchParams(a.queryParams);l.push(c.toString())}return a!=null&&a.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var a;const{data:l,error:c}=s;return c?this._returnResult({data:null,error:c}):await xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(fe(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var a,l;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:m}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&p.type==="totp"&&(!((l=p==null?void 0:p.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(s){if(fe(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:l,error:c}=s;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?gb(t.webauthn.credential_response):xb(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:p}=await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(s){if(fe(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:l,error:c}=s;if(c)return this._returnResult({data:null,error:c});const d=await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:mb(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:pb(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(fe(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(t=s==null?void 0:s.factors)!==null&&t!==void 0?t:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=cc(a.access_token);let d=null;c.aal&&(d=c.aal);let f=d;((s=(t=a.user.factors)===null||t===void 0?void 0:t.filter(x=>x.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const m=c.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:a},error:l}=s;return l?this._returnResult({data:null,error:l}):a?await xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new zt})})}catch(s){if(fe(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async a=>{const{data:{session:l},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new zt});const d=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&tt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(a){if(fe(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,s){try{return await this._useSession(async a=>{const{data:{session:l},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new zt});const d=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&tt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(a){if(fe(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,s={keys:[]}){let a=s.keys.find(f=>f.kid===t);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(f=>f.kid===t),a&&this.jwks_cached_at+kv>l)return a;const{data:c,error:d}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,a=c.keys.find(f=>f.kid===t),!a)?null:a}async getClaims(t,s={}){try{let a=t;if(!a){const{data:_,error:j}=await this.getSession();if(j||!_.session)return this._returnResult({data:null,error:j});a=_.session.access_token}const{header:l,payload:c,signature:d,raw:{header:f,payload:p}}=cc(a);s!=null&&s.allowExpired||Gv(c.exp);const m=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!m){const{error:_}=await this.getUser(a);if(_)throw _;return{data:{claims:c,header:l,signature:d},error:null}}const x=Kv(l.alg),y=await crypto.subtle.importKey("jwk",m,x,!0,["verify"]);if(!await crypto.subtle.verify(x,y,d,Iv(`${f}.${p}`)))throw new Rc("Invalid JWT signature");return{data:{claims:c,header:l,signature:d},error:null}}catch(a){if(fe(a))return this._returnResult({data:null,error:a});throw a}}}Zs.nextInstanceID={};const Sb=Zs;class Eb extends Sb{constructor(t){super(t)}}class Cb{constructor(t,s,a){var l,c,d;this.supabaseUrl=t,this.supabaseKey=s;const f=bv(t);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,m={db:hv,realtime:mv,auth:Object.assign(Object.assign({},fv),{storageKey:p}),global:dv},x=vv(a??{},m);this.storageKey=(l=x.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=x.global.headers)!==null&&c!==void 0?c:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=x.auth)!==null&&d!==void 0?d:{},this.headers,x.global.fetch),this.fetch=xv(s,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new wy(new URL("rest/v1",f).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new lv(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new xy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,s,a)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,s;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(s=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:a,storage:l,userStorage:c,storageKey:d,flowType:f,lock:p,debug:m,throwOnError:x},y,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Eb({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),y),storageKey:d,autoRefreshToken:t,persistSession:s,detectSessionInUrl:a,storage:l,userStorage:c,flowType:f,lock:p,debug:m,throwOnError:x,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Dy(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,s,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Tb=(i,t,s)=>new Cb(i,t,s);function Rb(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const t=i.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Rb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Pb="https://lnyovzkokmdavkqomkhq.supabase.co",Ob="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxueW92emtva21kYXZrcW9ta2hxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyNDg4NDcsImV4cCI6MjA3ODgyNDg0N30.5IkIR4wPit5wzABj2sEzjir022QM3ECsF87pFSn9bFs",Ab=Tb(Pb,Ob);function Re(){return Ab}const xp=k.createContext(void 0),Ib=({children:i})=>{const t=Re(),[s,a]=k.useState(null),[l,c]=k.useState(!0);k.useEffect(()=>{const p=localStorage.getItem("admin_session");if(p)try{const m=JSON.parse(p);a(m.user||null)}catch{a(null)}c(!1)},[]);const d=async(p,m)=>{try{const{data:x,error:y}=await t.from("admins").select("*").eq("username",p).maybeSingle();if(y)return{ok:!1,message:y.message};if(!x)return{ok:!1,message:"Invalid credentials"};const b=x.password_hash;if(!b)return{ok:!1,message:"Invalid credentials"};let _=!1;if(typeof b=="string"&&/^\$2[aby]\$/.test(b)?_=await(await Nm(async()=>{const{default:w}=await import("./bcrypt-CBpq5zRG.js").then(R=>R.b);return{default:w}},[])).default.compare(m,b):_=m===b,!_)return{ok:!1,message:"Invalid credentials"};const j={id:x.id,username:x.username};return localStorage.setItem("admin_session",JSON.stringify({user:j})),a(j),{ok:!0}}catch(x){return{ok:!1,message:String(x.message||x)}}},f=()=>{localStorage.removeItem("admin_session"),a(null)};return n.jsx(xp.Provider,{value:{user:s,login:d,logout:f,isAuthenticated:!!s,loading:l},children:i})};function eu(){const i=k.useContext(xp);if(!i)throw new Error("useAuth must be used within AuthProvider");return i}const Ar=({children:i})=>{const{isAuthenticated:t,loading:s}=eu(),a=dr();return s?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):t?i:n.jsx(Gx,{to:`/admin-login?redirect=${encodeURIComponent(a.pathname)}`,replace:!0})},Lb=()=>{const{login:i,isAuthenticated:t}=eu(),[s,a]=k.useState(""),[l,c]=k.useState(""),[d,f]=k.useState(null),[p,m]=k.useState(!1),x=hr(),y=dr(),_=new URLSearchParams(y.search).get("redirect")||"/admin";k.useEffect(()=>{t&&x(_,{replace:!0})},[t,x,_]);const j=async N=>{N.preventDefault(),m(!0),f(null);const w=await i(s.trim(),l);m(!1),w.ok?x(_):f(w.message||"Login failed")};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded shadow",children:[n.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Admin Login"}),n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Username"}),n.jsx("input",{value:s,onChange:N=>a(N.target.value),className:"w-full p-2 border rounded"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Password"}),n.jsx("input",{type:"password",value:l,onChange:N=>c(N.target.value),className:"w-full p-2 border rounded"})]}),d&&n.jsx("div",{className:"text-sm text-red-600",children:d}),n.jsx("div",{className:"flex justify-between items-center",children:n.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-teal-600 text-white rounded",children:p?"Signing in...":"Sign in"})})]})]})})};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ub={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(i,t)=>{const s=k.forwardRef(({color:a="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:f="",children:p,...m},x)=>k.createElement("svg",{ref:x,...Ub,width:l,height:l,stroke:a,strokeWidth:d?Number(c)*24/Number(l):c,className:["lucide",`lucide-${$b(i)}`,f].join(" "),...m},[...t.map(([y,b])=>k.createElement(y,b)),...Array.isArray(p)?p:[p]]));return s.displayName=`${i}`,s};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=ye("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=ye("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ye("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=ye("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=ye("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=ye("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=ye("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=ye("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=ye("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=ye("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=ye("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=ye("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=ye("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=ye("TreePalm",[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=ye("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ew=()=>{const{logout:i}=eu(),t=Re(),[s,a]=k.useState({totalTours:0,totalGalleryImages:0,recentActivity:0}),[l,c]=k.useState(!0);k.useEffect(()=>{d()},[]);const d=async()=>{try{const[p,m]=await Promise.all([t.from("paquetes").select("id",{count:"exact",head:!0}),t.from("gallery").select("id",{count:"exact",head:!0})]);a({totalTours:p.count||0,totalGalleryImages:m.count||0,recentActivity:24})}catch(p){console.error("Error loading stats:",p)}finally{c(!1)}},f=[{title:"Site Settings",description:"Edit site images, contact details and branding",icon:Gf,href:"/admin/settings",color:"from-blue-500 to-indigo-600",bgColor:"bg-blue-50",iconColor:"text-blue-600"},{title:"Manage Tours",description:"Add, edit or remove tour packages",icon:Hf,href:"/paquetes",color:"from-teal-500 to-green-600",bgColor:"bg-teal-50",iconColor:"text-teal-600"},{title:"Gallery Manager",description:"Upload and organize public gallery images",icon:fn,href:"/admingallery",color:"from-purple-500 to-pink-600",bgColor:"bg-purple-50",iconColor:"text-purple-600"},{title:"Video Manager",description:"Upload and manage homepage videos",icon:Ba,href:"/admin/videos",color:"from-orange-500 to-red-600",bgColor:"bg-orange-50",iconColor:"text-orange-600"},{title:"Meeting Points",description:"Manage pickup locations and meeting zones",icon:Mr,href:"/admin/meeting-points",color:"from-green-500 to-emerald-600",bgColor:"bg-green-50",iconColor:"text-green-600"},{title:"Private Tours",description:"Manage private tour packages and bookings",icon:Xb,href:"/admin/private-tours",color:"from-pink-500 to-rose-600",bgColor:"bg-pink-50",iconColor:"text-pink-600"},{title:"Additional Options",description:"Manage tour additional options",icon:qb,href:"/admin/additional-options",color:"from-indigo-500 to-purple-600",bgColor:"bg-indigo-50",iconColor:"text-indigo-600"}];return s.totalTours,s.totalGalleryImages,`${s.recentActivity}`,n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"p-2 bg-gradient-to-br from-teal-500 to-blue-600 rounded-xl shadow-lg",children:n.jsx(Pc,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Welcome back, Administrator"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Se,{to:"/",className:"flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-all duration-200",children:[n.jsx(Fb,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"View Site"})]}),n.jsxs("button",{onClick:i,className:"flex items-center px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[n.jsx(Wb,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Gf,{className:"w-5 h-5 mr-2 text-teal-600"}),"Quick Actions"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:f.map((p,m)=>n.jsxs(Se,{to:p.href,className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden transform hover:-translate-y-1",children:[n.jsx("div",{className:`h-2 bg-gradient-to-r ${p.color}`}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:`p-4 ${p.bgColor} rounded-xl group-hover:scale-110 transition-transform duration-300`,children:n.jsx(p.icon,{className:`w-8 h-8 ${p.iconColor}`})}),n.jsx(ii,{className:"w-5 h-5 text-gray-400 group-hover:text-gray-600 group-hover:translate-x-1 transition-all duration-200"})]}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-teal-600 transition-colors duration-200",children:p.title}),n.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:p.description})]})]},m))})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(lt,{className:"w-5 h-5 mr-2 text-green-600"}),"System Status"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-xl border border-green-100",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:n.jsx(lt,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:"Database Connection"}),n.jsx("p",{className:"text-sm text-gray-600",children:"All systems operational"})]})]}),n.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-semibold",children:"Online"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-xl border border-blue-100",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:n.jsx(Pc,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:"Security"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Protected and encrypted"})]})]}),n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-semibold",children:"Secure"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-xl border border-purple-100",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg mr-3",children:n.jsx(fn,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:"Media Storage"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Available and ready"})]})]}),n.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-semibold",children:"Active"})]})]})]})]})]})},tw=()=>{const[i,t]=k.useState(!1),[s,a]=k.useState(!1),[l,c]=k.useState(!1),{t:d}=Wt(),f=dr(),p=Re(),[m,x]=k.useState(null),[y,b]=k.useState([]),[_,j]=k.useState([]),N="/",w=[`${N}logo.webp`,`${N}images/logo.webp`,"/logo.webp","/images/logo.webp"],[R,U]=k.useState(w[0]),O=k.useRef(null),P=k.useRef(null),I=(q=300)=>{O.current&&window.clearTimeout(O.current),O.current=window.setTimeout(()=>a(!1),q)},F=()=>{O.current&&(window.clearTimeout(O.current),O.current=null)},H=(q=300)=>{P.current&&window.clearTimeout(P.current),P.current=window.setTimeout(()=>c(!1),q)},te=()=>{P.current&&(window.clearTimeout(P.current),P.current=null)};k.useEffect(()=>()=>{O.current&&window.clearTimeout(O.current),P.current&&window.clearTimeout(P.current)},[]),k.useEffect(()=>{let q=!0;return(async()=>{try{const{data:Y,error:ce}=await p.from("admin").select("*").maybeSingle();if(ce)throw ce;q&&x(Y||null)}catch(Y){console.error("Error loading admin for header:",Y)}})(),()=>{q=!1}},[]),k.useEffect(()=>{let q=!0;return(async()=>{try{console.log("Header: Starting to load tours...");const{data:Y,error:ce}=await p.from("paquetes").select("*").order("id",{ascending:!0});if(console.log("Header: paquetes query result:",{data:Y,error:ce,length:Y==null?void 0:Y.length}),ce)throw console.error("Header: paquetes error:",ce),ce;q&&b(Y||[]);const{data:V,error:G}=await p.from("private_tours").select("*").order("id",{ascending:!0});if(console.log("Header: private_tours query result:",{data:V,error:G,length:V==null?void 0:V.length}),G)throw console.error("Header: private_tours error:",G),G;q&&j(V||[]),console.log("Header:  Successfully loaded tours!"),console.log("Header: tours state will be:",(Y==null?void 0:Y.length)||0),console.log("Header: privateTours state will be:",(V==null?void 0:V.length)||0)}catch(Y){console.error(" Header: Error loading tours for header dropdown:",Y)}})(),()=>{q=!1}},[]),k.useEffect(()=>{let q=!1;const Y=V=>{q||U(V)},ce=V=>{if(V.length===0)return;const G=V[0],se=new Image;se.src=G,se.onload=()=>Y(G),se.onerror=()=>ce(V.slice(1))};if(m!=null&&m.logo){const V=new Image;V.src=m.logo,V.onload=()=>Y(m.logo),V.onerror=()=>ce(w)}else ce(w);return()=>{q=!0}},[m==null?void 0:m.logo]);const re=[{key:"home",href:"/",label:d.nav.home},{key:"private-tour",href:"/private-tour",label:"Private Tour",hasDropdown:!0},{key:"gallery",href:"/gallery",label:d.nav.gallery},{key:"contact",href:"/contact",label:d.nav.contact}];k.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[f.pathname]);const Z=q=>!!(q==="/"&&f.pathname==="/"||q!=="/"&&f.pathname.startsWith(q));return n.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-white/95 backdrop-blur-md shadow-lg",children:n.jsxs("div",{className:"container mx-auto px-6 sm:px-6 lg:px-10",children:[n.jsxs("div",{className:"flex justify-between items-center py-4",children:[n.jsxs(Se,{to:"/",className:"flex items-center space-x-2 group",onClick:()=>t(!1),children:[n.jsx("img",{src:R,alt:`${(m==null?void 0:m.nombre_web)??"Roatan Robert Tours"} Logo`,className:"w-19 h-11 rounded-full shadow-lg border-9 border-white bg-white object-cover group-hover:scale-110 transition-transform duration-200",style:{background:"white"}}),n.jsx("div",{className:"hidden sm:block",children:n.jsx("h1",{className:"font-bold text-lg text-gray-800",children:(m==null?void 0:m.nombre_web)??"Roatan Robert Tours"})})]}),n.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:re.map(q=>q.key==="services"&&q.hasDropdown?n.jsxs("div",{className:"relative group",onMouseEnter:()=>{F(),a(!0)},onMouseLeave:()=>{I(350)},children:[n.jsxs(Se,{to:q.href,className:`font-medium transition-colors duration-200 hover:text-teal-500 flex items-center gap-2 ${Z(q.href)?"text-teal-500":"text-gray-800"}`,children:[q.label,n.jsx(Ca,{className:`w-4 h-4 transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&y.length>0&&n.jsx("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden animate-fade-in z-[100]",onMouseEnter:()=>F(),onMouseLeave:()=>I(350),children:n.jsx("div",{className:"py-2 max-h-96 overflow-y-auto",children:y.map(Y=>n.jsx(Se,{to:`/service/${Y.id}`,className:"block px-4 py-3 text-gray-700 hover:bg-teal-50 hover:text-teal-600 transition-colors duration-200 text-sm font-medium border-b border-gray-50 last:border-0",onClick:()=>a(!1),children:Y.titulo||Y.title},Y.id))})})]},q.key):q.key==="private-tour"&&q.hasDropdown?n.jsxs("div",{className:"relative group",onMouseEnter:()=>{te(),c(!0)},onMouseLeave:()=>{H(350)},children:[n.jsxs(Se,{to:q.href,className:`font-medium transition-colors duration-200 hover:text-teal-500 flex items-center gap-2 ${Z(q.href)?"text-teal-500":"text-gray-800"}`,children:[q.label,n.jsx(Ca,{className:`w-4 h-4 transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&_.length>0&&n.jsx("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden animate-fade-in z-[100]",onMouseEnter:()=>te(),onMouseLeave:()=>H(350),children:n.jsx("div",{className:"py-2 max-h-96 overflow-y-auto",children:_.map(Y=>n.jsx(Se,{to:`/private-tour/${Y.id}`,className:"block px-4 py-3 text-gray-700 hover:bg-teal-50 hover:text-teal-600 transition-colors duration-200 text-sm font-medium border-b border-gray-50 last:border-0",onClick:()=>c(!1),children:Y.titulo||Y.title},Y.id))})})]},q.key):n.jsx(Se,{to:q.href,className:`font-medium transition-colors duration-200 hover:text-teal-500 ${Z(q.href)?"text-teal-500":"text-gray-800"}`,children:q.label},q.key))}),n.jsx("div",{className:"flex items-center",children:n.jsx("button",{onClick:()=>t(!i),className:"md:hidden p-2 rounded-lg transition-colors duration-200 text-gray-800 hover:bg-gray-100",children:i?n.jsx(St,{className:"w-6 h-6"}):n.jsx(Vb,{className:"w-6 h-6"})})})]}),i&&n.jsx("div",{className:"md:hidden bg-white/95 backdrop-blur-md rounded-lg shadow-lg mb-4 overflow-hidden",children:n.jsx("nav",{className:"py-4",children:re.map(q=>q.key==="services"&&q.hasDropdown?n.jsxs("div",{children:[n.jsxs(Se,{to:q.href,onClick:()=>{a(!s)},className:`flex items-center justify-between px-6 py-3 font-medium transition-colors duration-200 hover:bg-teal-50 hover:text-teal-600 ${Z(q.href)?"text-teal-600 bg-teal-50":"text-gray-800"}`,children:[q.label,n.jsx(Ca,{className:`w-4 h-4 transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&y.length>0&&n.jsx("div",{className:"bg-gray-50 border-l-4 border-teal-500 max-h-60 overflow-y-auto",children:y.map(Y=>n.jsx(Se,{to:`/service/${Y.id}`,onClick:()=>{t(!1),a(!1)},className:"block px-10 py-2 text-sm text-gray-700 hover:bg-teal-50 hover:text-teal-600 transition-colors",children:Y.titulo},Y.id))})]},q.key):q.key==="private-tour"&&q.hasDropdown?n.jsxs("div",{children:[n.jsxs(Se,{to:q.href,onClick:()=>{c(!l)},className:`flex items-center justify-between px-6 py-3 font-medium transition-colors duration-200 hover:bg-teal-50 hover:text-teal-600 ${Z(q.href)?"text-teal-600 bg-teal-50":"text-gray-800"}`,children:[q.label,n.jsx(Ca,{className:`w-4 h-4 transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&_.length>0&&n.jsx("div",{className:"bg-gray-50 border-l-4 border-teal-500 max-h-60 overflow-y-auto",children:_.map(Y=>n.jsx(Se,{to:`/private-tour/${Y.id}`,onClick:()=>{t(!1),c(!1)},className:"block px-10 py-2 text-sm text-gray-700 hover:bg-teal-50 hover:text-teal-600 transition-colors",children:Y.title},Y.id))})]},q.key):n.jsx(Se,{to:q.href,onClick:()=>t(!1),className:`block px-6 py-3 font-medium transition-colors duration-200 hover:bg-teal-50 hover:text-teal-600 ${Z(q.href)?"text-teal-600 bg-teal-50":"text-gray-800"}`,children:q.label},q.key))})})]})})},rw=()=>{const{t:i}=Wt(),t=Re(),[s,a]=k.useState(null);k.useEffect(()=>{let f=!0;return(async()=>{try{const{data:p,error:m}=await t.from("admin").select("*").maybeSingle();if(m)throw m;f&&a(p||null)}catch(p){console.error("Error loading admin contact data:",p)}})(),()=>{f=!1}},[t]);const l=[{name:"WhatsApp",href:s!=null&&s.celular?`https://wa.me/${s.celular.replace(/[^0-9+]/g,"")}`:"https://wa.me/50432267504",icon:n.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.951 3.506z"})}),color:"hover:text-green-500"},{name:"Instagram",href:s!=null&&s.instagram?s.instagram.startsWith("http")?s.instagram:`https://${s.instagram}`:"https://instagram.com/roataneasthiddengem",icon:n.jsx(Ga,{className:"w-6 h-6"}),color:"hover:text-pink-500"},{name:"Facebook",href:s!=null&&s.facebook?s.facebook.startsWith("http")?s.facebook:`https://${s.facebook}`:"https://facebook.com/roataneasthiddengem",icon:n.jsx(Ha,{className:"w-6 h-6"}),color:"hover:text-blue-500"}],c=[{icon:n.jsx(Qn,{className:"w-5 h-5"}),label:i.contact.phone,value:(s==null?void 0:s.celular)??"+504 3226-7504",href:s!=null&&s.celular?`tel:${s.celular.replace(/\s+/g,"")}`:"tel:+50432267504"},{icon:n.jsx(Ka,{className:"w-5 h-5"}),label:i.contact.email,value:(s==null?void 0:s.correo)??"rteastendexp@gmail.com",href:s!=null&&s.correo?`mailto:${s.correo}`:"mailto:rteastendexp@gmail.com"},{icon:n.jsx(Mr,{className:"w-5 h-5"}),label:"Roatn, Honduras",value:(s==null?void 0:s.direccion)??"East End, Bay Islands",href:"https://maps.google.com/?q=Roatan+East+End+Honduras"}],d=[{label:i.nav.home,href:"/"},{label:i.nav.gallery,href:"/gallery"},{label:i.nav.contact,href:"/contact"},{label:"Poltica de Cancelacin",href:"/politica-de-cancelacion"}];return n.jsx("footer",{className:"relative z-20 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-teal-500 to-blue-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-xl",children:"R"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold",children:(s==null?void 0:s.nombre_web)??"Roatan Robert Tours"}),n.jsx("p",{className:"text-gray-300 text-sm",children:i.hero.subtitle})]})]}),n.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:i.hero.description}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("span",{className:"text-gray-300 font-medium",children:[i.contact.social,":"]}),l.map(f=>n.jsx("a",{href:f.href,target:"_blank",rel:"noopener noreferrer",className:`text-gray-400 transition-colors duration-200 ${f.color}`,title:f.name,children:f.icon},f.name))]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold mb-6",children:"Quick Links"}),n.jsx("ul",{className:"space-y-3",children:d.map(f=>n.jsx("li",{children:n.jsx(Se,{to:f.href,className:"text-gray-300 hover:text-teal-400 transition-colors duration-200",children:f.label})},f.href))})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold mb-6",children:i.contact.title}),n.jsx("ul",{className:"space-y-4",children:c.map((f,p)=>n.jsxs("li",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"text-teal-400 mt-1 flex-shrink-0",children:f.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-400",children:f.label}),n.jsx("a",{href:f.href,target:f.href.startsWith("http")?"_blank":void 0,rel:f.href.startsWith("http")?"noopener noreferrer":void 0,className:"text-gray-300 hover:text-teal-400 transition-colors duration-200",children:f.value})]})]},p))})]})]}),n.jsx("div",{className:"border-t border-gray-700 mt-12 pt-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[n.jsxs("p",{className:"text-gray-400 text-sm",children:[" ",new Date().getFullYear()," ",(s==null?void 0:s.nombre_web)??"Roatan Robert Tours",". All rights reserved."]}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Made with  for the conservation of Roatn"})]})})]})})},nw=()=>{const[i,t]=k.useState(!1),s=Re(),[a,l]=k.useState(null);k.useEffect(()=>{const f=()=>{t(window.scrollY>300)};return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]),k.useEffect(()=>{let f=!0;return(async()=>{try{const{data:p,error:m}=await s.from("admin").select("*").maybeSingle();if(m)throw m;f&&l(p||null)}catch(p){console.error("Error loading admin in FloatingSocial",p)}})(),()=>{f=!1}},[s]);const c=()=>{window.scrollTo({top:0,behavior:"smooth"})},d=[];return a!=null&&a.celular&&d.push({name:"WhatsApp",href:`https://wa.me/${a.celular.replace(/[^0-9+]/g,"")}`,icon:n.jsx(Ma,{className:"w-6 h-6"}),bgColor:"bg-green-500 hover:bg-green-600",pulse:!0}),a!=null&&a.instagram&&d.push({name:"Instagram",href:a.instagram.startsWith("http")?a.instagram:`https://${a.instagram}`,icon:n.jsx(Ga,{className:"w-6 h-6"}),bgColor:"bg-pink-500 hover:bg-pink-600",pulse:!1}),a!=null&&a.facebook&&d.push({name:"Facebook",href:a.facebook.startsWith("http")?a.facebook:`https://${a.facebook}`,icon:n.jsx(Ha,{className:"w-6 h-6"}),bgColor:"bg-blue-500 hover:bg-blue-600",pulse:!1}),n.jsxs("div",{className:"fixed right-4 sm:right-6 bottom-4 sm:bottom-6 z-40 flex flex-col items-end space-y-3",children:[d.map((f,p)=>n.jsxs("a",{href:f.href,target:"_blank",rel:"noopener noreferrer",className:`
            group ${f.bgColor} text-white p-3 rounded-full shadow-lg 
            transform transition-all duration-300 hover:scale-110 hover:shadow-xl
            ${f.pulse?"animate-pulse":""}
          `,style:{animationDelay:`${p*.1}s`},title:f.name,children:[f.icon,n.jsxs("div",{className:"absolute right-full mr-3 top-1/2 transform -translate-y-1/2 bg-gray-900 text-white px-2 py-1 rounded text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:[f.name,n.jsx("div",{className:"absolute left-full top-1/2 transform -translate-y-1/2 border-4 border-transparent border-l-gray-900"})]})]},f.name)),i&&n.jsx("button",{onClick:c,className:"bg-teal-500 hover:bg-teal-600 text-white p-3 rounded-full shadow-lg transform transition-all duration-300 hover:scale-110 hover:shadow-xl animate-fadeInUp",title:"Volver al inicio",children:n.jsx(Db,{className:"w-6 h-6"})})]})},sw=()=>{const i=Re(),[t,s]=k.useState("/video/v2.mp4");return k.useEffect(()=>{let a=!0;return(async()=>{try{const{data:l,error:c}=await i.from("admin").select("video_principal").limit(1).maybeSingle();if(c)throw c;a&&(l!=null&&l.video_principal)&&s(l.video_principal)}catch(l){console.error("Error loading main video:",l)}})(),()=>{a=!1}},[i]),n.jsxs("div",{className:"min-h-screen flex flex-col",children:[n.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none",children:n.jsx("video",{src:t,className:"w-full h-full object-cover object-center",autoPlay:!0,muted:!0,loop:!0,playsInline:!0},t)}),n.jsx(tw,{}),n.jsx("main",{className:"flex-1 pt-28 md:pt-32 bg-transparent relative z-10",children:n.jsx(Kx,{})}),n.jsx(rw,{}),n.jsx(nw,{})]})},bp=({isOpen:i,onClose:t,selectedTour:s})=>{const{t:a}=Wt(),[l,c]=k.useState([]),d=Re(),[f,p]=k.useState(null),[m,x]=k.useState(!1),[y,b]=k.useState(1),[_,j]=k.useState({serviceId:(s==null?void 0:s.id)||"",date:"",numberOfPeople:1,fullName:"",email:"",phone:"",specialRequests:""});k.useEffect(()=>{i&&N()},[i]),k.useEffect(()=>{let F=!0;return(async()=>{try{const{data:H,error:te}=await d.from("admin").select("*").maybeSingle();if(te)throw te;F&&p(H||null)}catch(H){console.error("Error loading admin in BookingModal",H)}})(),()=>{F=!1}},[d]),k.useEffect(()=>{s&&j(F=>({...F,serviceId:s.id}))},[s]);const N=async()=>{x(!0);try{const{data:F,error:H}=await d.from("paquetes").select("*");if(H)throw H;const te=(F||[]).map(re=>{const q=Array.from({length:10}).map((ce,V)=>re[`imagen${V+1}`]).find(ce=>ce)||"";let Y;try{if(re.incluye){const ce=JSON.parse(re.incluye);Array.isArray(ce)&&(Y=ce.map(String))}}catch{Y=void 0}return{id:String(re.id),name:re.titulo||"",description:re.descripcion||"",personPrice:re.precio_por_persona??re.precio??0,price:re.precio_por_persona??re.precio??0,image:q,duration:re.duracion||"",included:Y,max_personas:re.max_personas??void 0,category:re.categoria||"adventure"}});c(te)}catch(F){console.error("Error loading tours from Supabase:",F)}finally{x(!1)}},w=l.find(F=>F.id===_.serviceId),R=w?w.price*_.numberOfPeople:0,U=F=>{const{name:H,value:te}=F.target;j(re=>({...re,[H]:H==="numberOfPeople"?parseInt(te)||1:te}))},O=F=>{F.preventDefault(),y<3&&b(y+1)},P=()=>`Hello! I'd like to book a tour.

*Tour:* ${(w==null?void 0:w.name)||""}
*Date:* ${_.date}
*People:* ${_.numberOfPeople}
*Price per person:* $${(w==null?void 0:w.personPrice)||(w==null?void 0:w.price)||""}
*Total:* $${R}
*Name:* ${_.fullName}
*Email:* ${_.email}
*Phone:* ${_.phone}
`+(_.specialRequests?`*Special requests:* ${_.specialRequests}
`:""),I=()=>{const F=new Date;return F.setDate(F.getDate()+1),F.toISOString().split("T")[0]};return i?n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[n.jsx(ei,{className:"w-6 h-6 mr-2 text-teal-500"}),a.booking.title]}),n.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200",children:n.jsx(St,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"px-6 py-4 bg-gray-50",children:[n.jsx("div",{className:"flex items-center justify-between",children:[1,2,3].map(F=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${y>=F?"bg-teal-500 text-white":"bg-gray-200 text-gray-500"}`,children:F}),F<3&&n.jsx("div",{className:`w-12 h-1 mx-2 ${y>F?"bg-teal-500":"bg-gray-200"}`})]},F))}),n.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-600",children:[n.jsx("span",{children:"Service"}),n.jsx("span",{children:"Details"}),n.jsx("span",{children:"Confirm"})]})]}),n.jsxs("form",{onSubmit:O,className:"p-6",children:[y===1&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a.booking.selectService}),n.jsxs("select",{name:"serviceId",value:_.serviceId,onChange:U,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Select a tour..."}),l.map(F=>n.jsxs("option",{value:F.id,children:[F.name," - $",F.price]},F.id))]})]}),w&&n.jsx("div",{className:"bg-gradient-to-r from-teal-50 to-blue-50 p-4 rounded-lg border border-teal-200",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("img",{src:w.image,alt:w.name,className:"w-20 h-20 object-cover rounded-lg"}),n.jsx("div",{className:"flex-1",children:n.jsx("h3",{className:"font-semibold text-gray-800",children:w.name})})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a.booking.selectDate}),n.jsx("input",{type:"date",name:"date",value:_.date,onChange:U,min:I(),required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a.booking.numberOfPeople}),n.jsx("select",{name:"numberOfPeople",value:_.numberOfPeople,onChange:U,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[...Array(10)].map((F,H)=>n.jsxs("option",{value:H+1,children:[H+1," ",H===0?"person":"people"]},H))})]})]})]}),y===2&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:a.booking.customerInfo}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a.booking.fullName}),n.jsx("input",{type:"text",name:"fullName",value:_.fullName,onChange:U,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a.booking.email}),n.jsx("input",{type:"email",name:"email",value:_.email,onChange:U,required:!0,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"you@example.com"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a.booking.phone}),n.jsx("input",{type:"tel",name:"phone",value:_.phone,onChange:U,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"+504 0000-0000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a.booking.specialRequests}),n.jsx("textarea",{name:"specialRequests",value:_.specialRequests,onChange:U,rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Any special requests or additional information..."})]})]}),y===3&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Summary"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:"Booking Summary"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Tour:"}),n.jsx("span",{className:"font-medium",children:w==null?void 0:w.name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Date:"}),n.jsx("span",{children:_.date})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"People:"}),n.jsx("span",{children:_.numberOfPeople})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Price per person:"}),n.jsxs("span",{children:["$",w==null?void 0:w.personPrice]})]}),n.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[n.jsxs("span",{children:[a.booking.total,":"]}),n.jsxs("span",{children:["$",R]})]})]})]})]}),n.jsxs("div",{className:"flex space-x-4 mt-8",children:[y>1&&n.jsx("button",{type:"button",onClick:()=>b(y-1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:a.common.back}),y<3?n.jsx("button",{type:"submit",disabled:m||y===1&&!_.serviceId,className:"flex-1 bg-gradient-to-r from-teal-500 to-blue-600 text-white px-6 py-3 rounded-lg hover:from-teal-600 hover:to-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:a.common.next}):n.jsxs("button",{type:"button",onClick:()=>{const H=`https://wa.me/${f!=null&&f.celular?f.celular.replace(/[^0-9+]/g,""):"0"}?text=${encodeURIComponent(P())}`;try{window.open(H,"_blank","noopener")}catch{window.location.href=H}},className:"flex-1 bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-all duration-200 text-center font-semibold text-lg flex items-center justify-center gap-2",children:[n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 mr-2",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 12c0 4.556-3.694 8.25-8.25 8.25A8.207 8.207 0 0 1 4.5 18.364L3 21l2.636-1.5A8.207 8.207 0 0 1 3.75 12c0-4.556 3.694-8.25 8.25-8.25s8.25 3.694 8.25 8.25Z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a3.375 3.375 0 0 0 5.25 4.5l.375-.375"})]}),"Confirm via WhatsApp"]})]})]})]})}):null},iw=()=>{const{t:i}=Wt(),[t,s]=k.useState(!1),a=[{icon:n.jsx($r,{className:"w-6 h-6"}),value:"500+",label:"Aventureros Felices"},{icon:n.jsx(vp,{className:"w-6 h-6"}),value:"4.9",label:"Calificacin Promedio"},{icon:n.jsx(ei,{className:"w-6 h-6"}),value:"3+",label:"Aos de Experiencia"}];return n.jsxs("section",{className:"relative w-full flex items-center justify-center overflow-hidden pt-40 md:pt-56",style:{height:"100vh"},children:[n.jsx("div",{className:"absolute top-20 left-10 w-20 h-20 bg-teal-500/20 rounded-full animate-float"}),n.jsx("div",{className:"absolute bottom-32 right-20 w-16 h-16 bg-blue-500/20 rounded-full animate-float",style:{animationDelay:"2s"}}),n.jsx("div",{className:"absolute top-1/3 right-10 w-12 h-12 bg-green-500/20 rounded-full animate-float",style:{animationDelay:"4s"}}),n.jsx("div",{className:"relative z-10 container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-6 leading-tight animate-fadeInUp",style:{animationDelay:"0.2s"},children:i.hero.title}),n.jsx("p",{className:"text-xl sm:text-2xl text-gray-200 mb-8 animate-fadeInUp",style:{animationDelay:"0.4s"},children:i.hero.subtitle}),n.jsx("p",{className:"text-lg text-gray-300 mb-12 max-w-2xl mx-auto leading-relaxed animate-fadeInUp",style:{animationDelay:"0.6s"},children:i.hero.description}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-16 animate-fadeInUp",style:{animationDelay:"0.8s"},children:n.jsx("button",{onClick:()=>s(!0),className:"group bg-gradient-to-r from-teal-500 to-blue-600 text-white px-8 py-4 rounded-xl font-semibold text-lg transform transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:from-teal-400 hover:to-blue-500",children:n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsx(ei,{className:"w-5 h-5 mr-2 group-hover:animate-bounce"}),i.hero.cta]})})}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 max-w-2xl mx-auto animate-fadeInUp",style:{animationDelay:"1s"},children:a.map((l,c)=>n.jsxs("div",{className:"text-center group",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full text-teal-300 mb-4 group-hover:scale-110 transition-transform duration-300",children:l.icon}),n.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:l.value}),n.jsx("div",{className:"text-gray-300 text-sm",children:l.label})]},c))})]})}),t&&n.jsx(bp,{isOpen:t,onClose:()=>s(!1)})]})},aw=()=>{const{t:i}=Wt(),[t,s]=k.useState([]),[a,l]=k.useState(!0),[c,d]=k.useState(void 0),f=Re();k.useEffect(()=>{(async()=>{l(!0);try{const{data:y,error:b}=await f.from("paquetes").select("*");if(b)throw b;const _=(y||[]).map(j=>{const w=Array.from({length:10}).map((U,O)=>j[`imagen${O+1}`]).find(U=>U)||"";let R;try{if(j.incluye){const U=JSON.parse(j.incluye);Array.isArray(U)&&(R=U.map(String))}}catch{R=void 0}return{id:String(j.id),name:j.titulo||"",description:j.descripcion||"",personPrice:j.precio_por_persona??j.price??0,price:j.precio_por_persona??j.price??0,image:w,duration:j.duracion||"",included:R,max_personas:j.max_personas??void 0,category:j.categoria||"adventure"}});s(_)}catch(y){console.error("Error loading paquetes from Supabase:",y)}finally{l(!1)}})()},[]);const p=x=>{switch(x){case"water-adventure":return"";case"nature":return"";case"romantic":return"";default:return""}},m=x=>{switch(x){case"water-adventure":return"from-blue-500 to-cyan-500";case"nature":return"from-green-500 to-emerald-500";case"romantic":return"from-pink-500 to-rose-500";default:return"from-teal-500 to-blue-500"}};return a?n.jsx("section",{className:"py-20 bg-gray-50",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"text-center mb-16",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-64 mx-auto mb-4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-96 mx-auto"})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((x,y)=>n.jsx("div",{className:"animate-pulse",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"h-48 bg-gray-200"}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4"}),n.jsx("div",{className:"h-16 bg-gray-200 rounded mb-4"}),n.jsx("div",{className:"h-10 bg-gray-200 rounded"})]})]})},y))})]})}):n.jsx("section",{id:"services",className:"py-20 bg-transparent",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:i.services.title}),n.jsx("p",{className:"text-xl text-white/90 max-w-3xl mx-auto leading-relaxed",children:i.services.subtitle})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:t.map((x,y)=>n.jsx("div",{className:"group overflow-hidden rounded-2xl transition-all duration-500 transform hover:-translate-y-2",style:{animationDelay:`${y*.1}s`},children:n.jsxs("div",{className:"relative h-64 md:h-72 lg:h-80 overflow-hidden",children:[n.jsx("img",{src:x.image,alt:x.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),n.jsx("div",{className:"absolute top-4 left-4",children:n.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-white text-sm font-medium bg-gradient-to-r ${m(x.category||"default")}`,children:[n.jsx("span",{className:"mr-1",children:p(x.category||"default")}),x.category==="water-adventure"?"Agua":x.category==="nature"?"Naturaleza":x.category==="romantic"?"Romntico":"Aventura"]})}),n.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-4 bg-gradient-to-t from-black/70 via-black/30 to-transparent",children:[n.jsx("h3",{className:"text-sm md:text-base font-semibold text-white mb-1 group-hover:text-teal-200 transition-colors duration-200",children:x.name}),n.jsx("div",{className:"flex items-center text-sm text-white/90 mb-2",children:x.duration&&n.jsxs("div",{className:"flex items-center mr-4",children:[n.jsx(Xt,{className:"w-4 h-4 mr-2 text-white/90"}),n.jsx("span",{className:"text-sm",children:x.duration})]})}),n.jsx("div",{className:"mb-3",children:n.jsxs("span",{className:"text-base font-bold text-white",children:["$",x.price]})}),n.jsx("div",{className:"flex",children:n.jsxs(Se,{to:`/service/${x.id}`,className:"flex items-center justify-center px-3 py-2 border border-white text-white rounded-md text-sm hover:bg-white/10 transition-colors duration-200 w-full",children:[n.jsx("span",{className:"text-sm font-medium mr-2",children:i.services.viewDetails}),n.jsx(yp,{className:"w-4 h-4"})]})})]})]})},x.id))})]})})};function wp(i,t){return function(){return i.apply(t,arguments)}}const{toString:ow}=Object.prototype,{getPrototypeOf:ru}=Object,{iterator:Qa,toStringTag:jp}=Symbol,Ya=(i=>t=>{const s=ow.call(t);return i[s]||(i[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Vt=i=>(i=i.toLowerCase(),t=>Ya(t)===i),Xa=i=>t=>typeof t===i,{isArray:rs}=Array,ri=Xa("undefined");function lw(i){return i!==null&&!ri(i)&&i.constructor!==null&&!ri(i.constructor)&&xt(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const Np=Vt("ArrayBuffer");function cw(i){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(i):t=i&&i.buffer&&Np(i.buffer),t}const uw=Xa("string"),xt=Xa("function"),_p=Xa("number"),Za=i=>i!==null&&typeof i=="object",dw=i=>i===!0||i===!1,Ra=i=>{if(Ya(i)!=="object")return!1;const t=ru(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(jp in i)&&!(Qa in i)},hw=Vt("Date"),fw=Vt("File"),mw=Vt("Blob"),pw=Vt("FileList"),gw=i=>Za(i)&&xt(i.pipe),xw=i=>{let t;return i&&(typeof FormData=="function"&&i instanceof FormData||xt(i.append)&&((t=Ya(i))==="formdata"||t==="object"&&xt(i.toString)&&i.toString()==="[object FormData]"))},yw=Vt("URLSearchParams"),[vw,bw,ww,jw]=["ReadableStream","Request","Response","Headers"].map(Vt),Nw=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ai(i,t,{allOwnKeys:s=!1}={}){if(i===null||typeof i>"u")return;let a,l;if(typeof i!="object"&&(i=[i]),rs(i))for(a=0,l=i.length;a<l;a++)t.call(null,i[a],a,i);else{const c=s?Object.getOwnPropertyNames(i):Object.keys(i),d=c.length;let f;for(a=0;a<d;a++)f=c[a],t.call(null,i[f],f,i)}}function kp(i,t){t=t.toLowerCase();const s=Object.keys(i);let a=s.length,l;for(;a-- >0;)if(l=s[a],t===l.toLowerCase())return l;return null}const hn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sp=i=>!ri(i)&&i!==hn;function Ac(){const{caseless:i}=Sp(this)&&this||{},t={},s=(a,l)=>{const c=i&&kp(t,l)||l;Ra(t[c])&&Ra(a)?t[c]=Ac(t[c],a):Ra(a)?t[c]=Ac({},a):rs(a)?t[c]=a.slice():t[c]=a};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&ai(arguments[a],s);return t}const _w=(i,t,s,{allOwnKeys:a}={})=>(ai(t,(l,c)=>{s&&xt(l)?i[c]=wp(l,s):i[c]=l},{allOwnKeys:a}),i),kw=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),Sw=(i,t,s,a)=>{i.prototype=Object.create(t.prototype,a),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:t.prototype}),s&&Object.assign(i.prototype,s)},Ew=(i,t,s,a)=>{let l,c,d;const f={};if(t=t||{},i==null)return t;do{for(l=Object.getOwnPropertyNames(i),c=l.length;c-- >0;)d=l[c],(!a||a(d,i,t))&&!f[d]&&(t[d]=i[d],f[d]=!0);i=s!==!1&&ru(i)}while(i&&(!s||s(i,t))&&i!==Object.prototype);return t},Cw=(i,t,s)=>{i=String(i),(s===void 0||s>i.length)&&(s=i.length),s-=t.length;const a=i.indexOf(t,s);return a!==-1&&a===s},Tw=i=>{if(!i)return null;if(rs(i))return i;let t=i.length;if(!_p(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=i[t];return s},Rw=(i=>t=>i&&t instanceof i)(typeof Uint8Array<"u"&&ru(Uint8Array)),Pw=(i,t)=>{const a=(i&&i[Qa]).call(i);let l;for(;(l=a.next())&&!l.done;){const c=l.value;t.call(i,c[0],c[1])}},Ow=(i,t)=>{let s;const a=[];for(;(s=i.exec(t))!==null;)a.push(s);return a},Aw=Vt("HTMLFormElement"),Iw=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,l){return a.toUpperCase()+l}),Jf=(({hasOwnProperty:i})=>(t,s)=>i.call(t,s))(Object.prototype),Lw=Vt("RegExp"),Ep=(i,t)=>{const s=Object.getOwnPropertyDescriptors(i),a={};ai(s,(l,c)=>{let d;(d=t(l,c,i))!==!1&&(a[c]=d||l)}),Object.defineProperties(i,a)},Uw=i=>{Ep(i,(t,s)=>{if(xt(i)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=i[s];if(xt(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},$w=(i,t)=>{const s={},a=l=>{l.forEach(c=>{s[c]=!0})};return rs(i)?a(i):a(String(i).split(t)),s},Dw=()=>{},Mw=(i,t)=>i!=null&&Number.isFinite(i=+i)?i:t;function Bw(i){return!!(i&&xt(i.append)&&i[jp]==="FormData"&&i[Qa])}const zw=i=>{const t=new Array(10),s=(a,l)=>{if(Za(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[l]=a;const c=rs(a)?[]:{};return ai(a,(d,f)=>{const p=s(d,l+1);!ri(p)&&(c[f]=p)}),t[l]=void 0,c}}return a};return s(i,0)},Fw=Vt("AsyncFunction"),qw=i=>i&&(Za(i)||xt(i))&&xt(i.then)&&xt(i.catch),Cp=((i,t)=>i?setImmediate:t?((s,a)=>(hn.addEventListener("message",({source:l,data:c})=>{l===hn&&c===s&&a.length&&a.shift()()},!1),l=>{a.push(l),hn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",xt(hn.postMessage)),Ww=typeof queueMicrotask<"u"?queueMicrotask.bind(hn):typeof process<"u"&&process.nextTick||Cp,Vw=i=>i!=null&&xt(i[Qa]),W={isArray:rs,isArrayBuffer:Np,isBuffer:lw,isFormData:xw,isArrayBufferView:cw,isString:uw,isNumber:_p,isBoolean:dw,isObject:Za,isPlainObject:Ra,isReadableStream:vw,isRequest:bw,isResponse:ww,isHeaders:jw,isUndefined:ri,isDate:hw,isFile:fw,isBlob:mw,isRegExp:Lw,isFunction:xt,isStream:gw,isURLSearchParams:yw,isTypedArray:Rw,isFileList:pw,forEach:ai,merge:Ac,extend:_w,trim:Nw,stripBOM:kw,inherits:Sw,toFlatObject:Ew,kindOf:Ya,kindOfTest:Vt,endsWith:Cw,toArray:Tw,forEachEntry:Pw,matchAll:Ow,isHTMLForm:Aw,hasOwnProperty:Jf,hasOwnProp:Jf,reduceDescriptors:Ep,freezeMethods:Uw,toObjectSet:$w,toCamelCase:Iw,noop:Dw,toFiniteNumber:Mw,findKey:kp,global:hn,isContextDefined:Sp,isSpecCompliantForm:Bw,toJSONObject:zw,isAsyncFn:Fw,isThenable:qw,setImmediate:Cp,asap:Ww,isIterable:Vw};function be(i,t,s,a,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),l&&(this.response=l,this.status=l.status?l.status:null)}W.inherits(be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const Tp=be.prototype,Rp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{Rp[i]={value:i}});Object.defineProperties(be,Rp);Object.defineProperty(Tp,"isAxiosError",{value:!0});be.from=(i,t,s,a,l,c)=>{const d=Object.create(Tp);return W.toFlatObject(i,d,function(p){return p!==Error.prototype},f=>f!=="isAxiosError"),be.call(d,i.message,t,s,a,l),d.cause=i,d.name=i.name,c&&Object.assign(d,c),d};const Hw=null;function Ic(i){return W.isPlainObject(i)||W.isArray(i)}function Pp(i){return W.endsWith(i,"[]")?i.slice(0,-2):i}function Qf(i,t,s){return i?i.concat(t).map(function(l,c){return l=Pp(l),!s&&c?"["+l+"]":l}).join(s?".":""):t}function Gw(i){return W.isArray(i)&&!i.some(Ic)}const Kw=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function eo(i,t,s){if(!W.isObject(i))throw new TypeError("target must be an object");t=t||new FormData,s=W.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,w){return!W.isUndefined(w[N])});const a=s.metaTokens,l=s.visitor||x,c=s.dots,d=s.indexes,p=(s.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(l))throw new TypeError("visitor must be a function");function m(j){if(j===null)return"";if(W.isDate(j))return j.toISOString();if(!p&&W.isBlob(j))throw new be("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(j)||W.isTypedArray(j)?p&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function x(j,N,w){let R=j;if(j&&!w&&typeof j=="object"){if(W.endsWith(N,"{}"))N=a?N:N.slice(0,-2),j=JSON.stringify(j);else if(W.isArray(j)&&Gw(j)||(W.isFileList(j)||W.endsWith(N,"[]"))&&(R=W.toArray(j)))return N=Pp(N),R.forEach(function(O,P){!(W.isUndefined(O)||O===null)&&t.append(d===!0?Qf([N],P,c):d===null?N:N+"[]",m(O))}),!1}return Ic(j)?!0:(t.append(Qf(w,N,c),m(j)),!1)}const y=[],b=Object.assign(Kw,{defaultVisitor:x,convertValue:m,isVisitable:Ic});function _(j,N){if(!W.isUndefined(j)){if(y.indexOf(j)!==-1)throw Error("Circular reference detected in "+N.join("."));y.push(j),W.forEach(j,function(R,U){(!(W.isUndefined(R)||R===null)&&l.call(t,R,W.isString(U)?U.trim():U,N,b))===!0&&_(R,N?N.concat(U):[U])}),y.pop()}}if(!W.isObject(i))throw new TypeError("data must be an object");return _(i),t}function Yf(i){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function nu(i,t){this._pairs=[],i&&eo(i,this,t)}const Op=nu.prototype;Op.append=function(t,s){this._pairs.push([t,s])};Op.toString=function(t){const s=t?function(a){return t.call(this,a,Yf)}:Yf;return this._pairs.map(function(l){return s(l[0])+"="+s(l[1])},"").join("&")};function Jw(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ap(i,t,s){if(!t)return i;const a=s&&s.encode||Jw;W.isFunction(s)&&(s={serialize:s});const l=s&&s.serialize;let c;if(l?c=l(t,s):c=W.isURLSearchParams(t)?t.toString():new nu(t,s).toString(a),c){const d=i.indexOf("#");d!==-1&&(i=i.slice(0,d)),i+=(i.indexOf("?")===-1?"?":"&")+c}return i}class Xf{constructor(){this.handlers=[]}use(t,s,a){return this.handlers.push({fulfilled:t,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(a){a!==null&&t(a)})}}const Ip={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qw=typeof URLSearchParams<"u"?URLSearchParams:nu,Yw=typeof FormData<"u"?FormData:null,Xw=typeof Blob<"u"?Blob:null,Zw={isBrowser:!0,classes:{URLSearchParams:Qw,FormData:Yw,Blob:Xw},protocols:["http","https","file","blob","url","data"]},su=typeof window<"u"&&typeof document<"u",Lc=typeof navigator=="object"&&navigator||void 0,ej=su&&(!Lc||["ReactNative","NativeScript","NS"].indexOf(Lc.product)<0),tj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rj=su&&window.location.href||"http://localhost",nj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:su,hasStandardBrowserEnv:ej,hasStandardBrowserWebWorkerEnv:tj,navigator:Lc,origin:rj},Symbol.toStringTag,{value:"Module"})),ot={...nj,...Zw};function sj(i,t){return eo(i,new ot.classes.URLSearchParams,Object.assign({visitor:function(s,a,l,c){return ot.isNode&&W.isBuffer(s)?(this.append(a,s.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},t))}function ij(i){return W.matchAll(/\w+|\[(\w*)]/g,i).map(t=>t[0]==="[]"?"":t[1]||t[0])}function aj(i){const t={},s=Object.keys(i);let a;const l=s.length;let c;for(a=0;a<l;a++)c=s[a],t[c]=i[c];return t}function Lp(i){function t(s,a,l,c){let d=s[c++];if(d==="__proto__")return!0;const f=Number.isFinite(+d),p=c>=s.length;return d=!d&&W.isArray(l)?l.length:d,p?(W.hasOwnProp(l,d)?l[d]=[l[d],a]:l[d]=a,!f):((!l[d]||!W.isObject(l[d]))&&(l[d]=[]),t(s,a,l[d],c)&&W.isArray(l[d])&&(l[d]=aj(l[d])),!f)}if(W.isFormData(i)&&W.isFunction(i.entries)){const s={};return W.forEachEntry(i,(a,l)=>{t(ij(a),l,s,0)}),s}return null}function oj(i,t,s){if(W.isString(i))try{return(t||JSON.parse)(i),W.trim(i)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(i)}const oi={transitional:Ip,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const a=s.getContentType()||"",l=a.indexOf("application/json")>-1,c=W.isObject(t);if(c&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return l?JSON.stringify(Lp(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(c){if(a.indexOf("application/x-www-form-urlencoded")>-1)return sj(t,this.formSerializer).toString();if((f=W.isFileList(t))||a.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return eo(f?{"files[]":t}:t,p&&new p,this.formSerializer)}}return c||l?(s.setContentType("application/json",!1),oj(t)):t}],transformResponse:[function(t){const s=this.transitional||oi.transitional,a=s&&s.forcedJSONParsing,l=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(a&&!this.responseType||l)){const d=!(s&&s.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(f){if(d)throw f.name==="SyntaxError"?be.from(f,be.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ot.classes.FormData,Blob:ot.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],i=>{oi.headers[i]={}});const lj=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cj=i=>{const t={};let s,a,l;return i&&i.split(`
`).forEach(function(d){l=d.indexOf(":"),s=d.substring(0,l).trim().toLowerCase(),a=d.substring(l+1).trim(),!(!s||t[s]&&lj[s])&&(s==="set-cookie"?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)}),t},Zf=Symbol("internals");function Ws(i){return i&&String(i).trim().toLowerCase()}function Pa(i){return i===!1||i==null?i:W.isArray(i)?i.map(Pa):String(i)}function uj(i){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(i);)t[a[1]]=a[2];return t}const dj=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function hc(i,t,s,a,l){if(W.isFunction(a))return a.call(this,t,s);if(l&&(t=s),!!W.isString(t)){if(W.isString(a))return t.indexOf(a)!==-1;if(W.isRegExp(a))return a.test(t)}}function hj(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,a)=>s.toUpperCase()+a)}function fj(i,t){const s=W.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(i,a+s,{value:function(l,c,d){return this[a].call(this,t,l,c,d)},configurable:!0})})}let yt=class{constructor(t){t&&this.set(t)}set(t,s,a){const l=this;function c(f,p,m){const x=Ws(p);if(!x)throw new Error("header name must be a non-empty string");const y=W.findKey(l,x);(!y||l[y]===void 0||m===!0||m===void 0&&l[y]!==!1)&&(l[y||p]=Pa(f))}const d=(f,p)=>W.forEach(f,(m,x)=>c(m,x,p));if(W.isPlainObject(t)||t instanceof this.constructor)d(t,s);else if(W.isString(t)&&(t=t.trim())&&!dj(t))d(cj(t),s);else if(W.isObject(t)&&W.isIterable(t)){let f={},p,m;for(const x of t){if(!W.isArray(x))throw TypeError("Object iterator must return a key-value pair");f[m=x[0]]=(p=f[m])?W.isArray(p)?[...p,x[1]]:[p,x[1]]:x[1]}d(f,s)}else t!=null&&c(s,t,a);return this}get(t,s){if(t=Ws(t),t){const a=W.findKey(this,t);if(a){const l=this[a];if(!s)return l;if(s===!0)return uj(l);if(W.isFunction(s))return s.call(this,l,a);if(W.isRegExp(s))return s.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Ws(t),t){const a=W.findKey(this,t);return!!(a&&this[a]!==void 0&&(!s||hc(this,this[a],a,s)))}return!1}delete(t,s){const a=this;let l=!1;function c(d){if(d=Ws(d),d){const f=W.findKey(a,d);f&&(!s||hc(a,a[f],f,s))&&(delete a[f],l=!0)}}return W.isArray(t)?t.forEach(c):c(t),l}clear(t){const s=Object.keys(this);let a=s.length,l=!1;for(;a--;){const c=s[a];(!t||hc(this,this[c],c,t,!0))&&(delete this[c],l=!0)}return l}normalize(t){const s=this,a={};return W.forEach(this,(l,c)=>{const d=W.findKey(a,c);if(d){s[d]=Pa(l),delete s[c];return}const f=t?hj(c):String(c).trim();f!==c&&delete s[c],s[f]=Pa(l),a[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return W.forEach(this,(a,l)=>{a!=null&&a!==!1&&(s[l]=t&&W.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const a=new this(t);return s.forEach(l=>a.set(l)),a}static accessor(t){const a=(this[Zf]=this[Zf]={accessors:{}}).accessors,l=this.prototype;function c(d){const f=Ws(d);a[f]||(fj(l,d),a[f]=!0)}return W.isArray(t)?t.forEach(c):c(t),this}};yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(yt.prototype,({value:i},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>i,set(a){this[s]=a}}});W.freezeMethods(yt);function fc(i,t){const s=this||oi,a=t||s,l=yt.from(a.headers);let c=a.data;return W.forEach(i,function(f){c=f.call(s,c,l.normalize(),t?t.status:void 0)}),l.normalize(),c}function Up(i){return!!(i&&i.__CANCEL__)}function ns(i,t,s){be.call(this,i??"canceled",be.ERR_CANCELED,t,s),this.name="CanceledError"}W.inherits(ns,be,{__CANCEL__:!0});function $p(i,t,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?i(s):t(new be("Request failed with status code "+s.status,[be.ERR_BAD_REQUEST,be.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function mj(i){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return t&&t[1]||""}function pj(i,t){i=i||10;const s=new Array(i),a=new Array(i);let l=0,c=0,d;return t=t!==void 0?t:1e3,function(p){const m=Date.now(),x=a[c];d||(d=m),s[l]=p,a[l]=m;let y=c,b=0;for(;y!==l;)b+=s[y++],y=y%i;if(l=(l+1)%i,l===c&&(c=(c+1)%i),m-d<t)return;const _=x&&m-x;return _?Math.round(b*1e3/_):void 0}}function gj(i,t){let s=0,a=1e3/t,l,c;const d=(m,x=Date.now())=>{s=x,l=null,c&&(clearTimeout(c),c=null),i.apply(null,m)};return[(...m)=>{const x=Date.now(),y=x-s;y>=a?d(m,x):(l=m,c||(c=setTimeout(()=>{c=null,d(l)},a-y)))},()=>l&&d(l)]}const za=(i,t,s=3)=>{let a=0;const l=pj(50,250);return gj(c=>{const d=c.loaded,f=c.lengthComputable?c.total:void 0,p=d-a,m=l(p),x=d<=f;a=d;const y={loaded:d,total:f,progress:f?d/f:void 0,bytes:p,rate:m||void 0,estimated:m&&f&&x?(f-d)/m:void 0,event:c,lengthComputable:f!=null,[t?"download":"upload"]:!0};i(y)},s)},em=(i,t)=>{const s=i!=null;return[a=>t[0]({lengthComputable:s,total:i,loaded:a}),t[1]]},tm=i=>(...t)=>W.asap(()=>i(...t)),xj=ot.hasStandardBrowserEnv?((i,t)=>s=>(s=new URL(s,ot.origin),i.protocol===s.protocol&&i.host===s.host&&(t||i.port===s.port)))(new URL(ot.origin),ot.navigator&&/(msie|trident)/i.test(ot.navigator.userAgent)):()=>!0,yj=ot.hasStandardBrowserEnv?{write(i,t,s,a,l,c){const d=[i+"="+encodeURIComponent(t)];W.isNumber(s)&&d.push("expires="+new Date(s).toGMTString()),W.isString(a)&&d.push("path="+a),W.isString(l)&&d.push("domain="+l),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(i){const t=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vj(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function bj(i,t){return t?i.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):i}function Dp(i,t,s){let a=!vj(t);return i&&(a||s==!1)?bj(i,t):t}const rm=i=>i instanceof yt?{...i}:i;function pn(i,t){t=t||{};const s={};function a(m,x,y,b){return W.isPlainObject(m)&&W.isPlainObject(x)?W.merge.call({caseless:b},m,x):W.isPlainObject(x)?W.merge({},x):W.isArray(x)?x.slice():x}function l(m,x,y,b){if(W.isUndefined(x)){if(!W.isUndefined(m))return a(void 0,m,y,b)}else return a(m,x,y,b)}function c(m,x){if(!W.isUndefined(x))return a(void 0,x)}function d(m,x){if(W.isUndefined(x)){if(!W.isUndefined(m))return a(void 0,m)}else return a(void 0,x)}function f(m,x,y){if(y in t)return a(m,x);if(y in i)return a(void 0,m)}const p={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:f,headers:(m,x,y)=>l(rm(m),rm(x),y,!0)};return W.forEach(Object.keys(Object.assign({},i,t)),function(x){const y=p[x]||l,b=y(i[x],t[x],x);W.isUndefined(b)&&y!==f||(s[x]=b)}),s}const Mp=i=>{const t=pn({},i);let{data:s,withXSRFToken:a,xsrfHeaderName:l,xsrfCookieName:c,headers:d,auth:f}=t;t.headers=d=yt.from(d),t.url=Ap(Dp(t.baseURL,t.url,t.allowAbsoluteUrls),i.params,i.paramsSerializer),f&&d.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let p;if(W.isFormData(s)){if(ot.hasStandardBrowserEnv||ot.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((p=d.getContentType())!==!1){const[m,...x]=p?p.split(";").map(y=>y.trim()).filter(Boolean):[];d.setContentType([m||"multipart/form-data",...x].join("; "))}}if(ot.hasStandardBrowserEnv&&(a&&W.isFunction(a)&&(a=a(t)),a||a!==!1&&xj(t.url))){const m=l&&c&&yj.read(c);m&&d.set(l,m)}return t},wj=typeof XMLHttpRequest<"u",jj=wj&&function(i){return new Promise(function(s,a){const l=Mp(i);let c=l.data;const d=yt.from(l.headers).normalize();let{responseType:f,onUploadProgress:p,onDownloadProgress:m}=l,x,y,b,_,j;function N(){_&&_(),j&&j(),l.cancelToken&&l.cancelToken.unsubscribe(x),l.signal&&l.signal.removeEventListener("abort",x)}let w=new XMLHttpRequest;w.open(l.method.toUpperCase(),l.url,!0),w.timeout=l.timeout;function R(){if(!w)return;const O=yt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),I={data:!f||f==="text"||f==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:O,config:i,request:w};$p(function(H){s(H),N()},function(H){a(H),N()},I),w=null}"onloadend"in w?w.onloadend=R:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(R)},w.onabort=function(){w&&(a(new be("Request aborted",be.ECONNABORTED,i,w)),w=null)},w.onerror=function(){a(new be("Network Error",be.ERR_NETWORK,i,w)),w=null},w.ontimeout=function(){let P=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const I=l.transitional||Ip;l.timeoutErrorMessage&&(P=l.timeoutErrorMessage),a(new be(P,I.clarifyTimeoutError?be.ETIMEDOUT:be.ECONNABORTED,i,w)),w=null},c===void 0&&d.setContentType(null),"setRequestHeader"in w&&W.forEach(d.toJSON(),function(P,I){w.setRequestHeader(I,P)}),W.isUndefined(l.withCredentials)||(w.withCredentials=!!l.withCredentials),f&&f!=="json"&&(w.responseType=l.responseType),m&&([b,j]=za(m,!0),w.addEventListener("progress",b)),p&&w.upload&&([y,_]=za(p),w.upload.addEventListener("progress",y),w.upload.addEventListener("loadend",_)),(l.cancelToken||l.signal)&&(x=O=>{w&&(a(!O||O.type?new ns(null,i,w):O),w.abort(),w=null)},l.cancelToken&&l.cancelToken.subscribe(x),l.signal&&(l.signal.aborted?x():l.signal.addEventListener("abort",x)));const U=mj(l.url);if(U&&ot.protocols.indexOf(U)===-1){a(new be("Unsupported protocol "+U+":",be.ERR_BAD_REQUEST,i));return}w.send(c||null)})},Nj=(i,t)=>{const{length:s}=i=i?i.filter(Boolean):[];if(t||s){let a=new AbortController,l;const c=function(m){if(!l){l=!0,f();const x=m instanceof Error?m:this.reason;a.abort(x instanceof be?x:new ns(x instanceof Error?x.message:x))}};let d=t&&setTimeout(()=>{d=null,c(new be(`timeout ${t} of ms exceeded`,be.ETIMEDOUT))},t);const f=()=>{i&&(d&&clearTimeout(d),d=null,i.forEach(m=>{m.unsubscribe?m.unsubscribe(c):m.removeEventListener("abort",c)}),i=null)};i.forEach(m=>m.addEventListener("abort",c));const{signal:p}=a;return p.unsubscribe=()=>W.asap(f),p}},_j=function*(i,t){let s=i.byteLength;if(s<t){yield i;return}let a=0,l;for(;a<s;)l=a+t,yield i.slice(a,l),a=l},kj=async function*(i,t){for await(const s of Sj(i))yield*_j(s,t)},Sj=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const t=i.getReader();try{for(;;){const{done:s,value:a}=await t.read();if(s)break;yield a}}finally{await t.cancel()}},nm=(i,t,s,a)=>{const l=kj(i,t);let c=0,d,f=p=>{d||(d=!0,a&&a(p))};return new ReadableStream({async pull(p){try{const{done:m,value:x}=await l.next();if(m){f(),p.close();return}let y=x.byteLength;if(s){let b=c+=y;s(b)}p.enqueue(new Uint8Array(x))}catch(m){throw f(m),m}},cancel(p){return f(p),l.return()}},{highWaterMark:2})},to=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Bp=to&&typeof ReadableStream=="function",Ej=to&&(typeof TextEncoder=="function"?(i=>t=>i.encode(t))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),zp=(i,...t)=>{try{return!!i(...t)}catch{return!1}},Cj=Bp&&zp(()=>{let i=!1;const t=new Request(ot.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!t}),sm=64*1024,Uc=Bp&&zp(()=>W.isReadableStream(new Response("").body)),Fa={stream:Uc&&(i=>i.body)};to&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Fa[t]&&(Fa[t]=W.isFunction(i[t])?s=>s[t]():(s,a)=>{throw new be(`Response type '${t}' is not supported`,be.ERR_NOT_SUPPORT,a)})})})(new Response);const Tj=async i=>{if(i==null)return 0;if(W.isBlob(i))return i.size;if(W.isSpecCompliantForm(i))return(await new Request(ot.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(W.isArrayBufferView(i)||W.isArrayBuffer(i))return i.byteLength;if(W.isURLSearchParams(i)&&(i=i+""),W.isString(i))return(await Ej(i)).byteLength},Rj=async(i,t)=>{const s=W.toFiniteNumber(i.getContentLength());return s??Tj(t)},Pj=to&&(async i=>{let{url:t,method:s,data:a,signal:l,cancelToken:c,timeout:d,onDownloadProgress:f,onUploadProgress:p,responseType:m,headers:x,withCredentials:y="same-origin",fetchOptions:b}=Mp(i);m=m?(m+"").toLowerCase():"text";let _=Nj([l,c&&c.toAbortSignal()],d),j;const N=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let w;try{if(p&&Cj&&s!=="get"&&s!=="head"&&(w=await Rj(x,a))!==0){let I=new Request(t,{method:"POST",body:a,duplex:"half"}),F;if(W.isFormData(a)&&(F=I.headers.get("content-type"))&&x.setContentType(F),I.body){const[H,te]=em(w,za(tm(p)));a=nm(I.body,sm,H,te)}}W.isString(y)||(y=y?"include":"omit");const R="credentials"in Request.prototype;j=new Request(t,{...b,signal:_,method:s.toUpperCase(),headers:x.normalize().toJSON(),body:a,duplex:"half",credentials:R?y:void 0});let U=await fetch(j);const O=Uc&&(m==="stream"||m==="response");if(Uc&&(f||O&&N)){const I={};["status","statusText","headers"].forEach(re=>{I[re]=U[re]});const F=W.toFiniteNumber(U.headers.get("content-length")),[H,te]=f&&em(F,za(tm(f),!0))||[];U=new Response(nm(U.body,sm,H,()=>{te&&te(),N&&N()}),I)}m=m||"text";let P=await Fa[W.findKey(Fa,m)||"text"](U,i);return!O&&N&&N(),await new Promise((I,F)=>{$p(I,F,{data:P,headers:yt.from(U.headers),status:U.status,statusText:U.statusText,config:i,request:j})})}catch(R){throw N&&N(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new be("Network Error",be.ERR_NETWORK,i,j),{cause:R.cause||R}):be.from(R,R&&R.code,i,j)}}),$c={http:Hw,xhr:jj,fetch:Pj};W.forEach($c,(i,t)=>{if(i){try{Object.defineProperty(i,"name",{value:t})}catch{}Object.defineProperty(i,"adapterName",{value:t})}});const im=i=>`- ${i}`,Oj=i=>W.isFunction(i)||i===null||i===!1,Fp={getAdapter:i=>{i=W.isArray(i)?i:[i];const{length:t}=i;let s,a;const l={};for(let c=0;c<t;c++){s=i[c];let d;if(a=s,!Oj(s)&&(a=$c[(d=String(s)).toLowerCase()],a===void 0))throw new be(`Unknown adapter '${d}'`);if(a)break;l[d||"#"+c]=a}if(!a){const c=Object.entries(l).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=t?c.length>1?`since :
`+c.map(im).join(`
`):" "+im(c[0]):"as no adapter specified";throw new be("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return a},adapters:$c};function mc(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new ns(null,i)}function am(i){return mc(i),i.headers=yt.from(i.headers),i.data=fc.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),Fp.getAdapter(i.adapter||oi.adapter)(i).then(function(a){return mc(i),a.data=fc.call(i,i.transformResponse,a),a.headers=yt.from(a.headers),a},function(a){return Up(a)||(mc(i),a&&a.response&&(a.response.data=fc.call(i,i.transformResponse,a.response),a.response.headers=yt.from(a.response.headers))),Promise.reject(a)})}const qp="1.9.0",ro={};["object","boolean","number","function","string","symbol"].forEach((i,t)=>{ro[i]=function(a){return typeof a===i||"a"+(t<1?"n ":" ")+i}});const om={};ro.transitional=function(t,s,a){function l(c,d){return"[Axios v"+qp+"] Transitional option '"+c+"'"+d+(a?". "+a:"")}return(c,d,f)=>{if(t===!1)throw new be(l(d," has been removed"+(s?" in "+s:"")),be.ERR_DEPRECATED);return s&&!om[d]&&(om[d]=!0,console.warn(l(d," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(c,d,f):!0}};ro.spelling=function(t){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function Aj(i,t,s){if(typeof i!="object")throw new be("options must be an object",be.ERR_BAD_OPTION_VALUE);const a=Object.keys(i);let l=a.length;for(;l-- >0;){const c=a[l],d=t[c];if(d){const f=i[c],p=f===void 0||d(f,c,i);if(p!==!0)throw new be("option "+c+" must be "+p,be.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new be("Unknown option "+c,be.ERR_BAD_OPTION)}}const Oa={assertOptions:Aj,validators:ro},Yt=Oa.validators;let mn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Xf,response:new Xf}}async request(t,s){try{return await this._request(t,s)}catch(a){if(a instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const c=l.stack?l.stack.replace(/^.+\n/,""):"";try{a.stack?c&&!String(a.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+c):a.stack=c}catch{}}throw a}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=pn(this.defaults,s);const{transitional:a,paramsSerializer:l,headers:c}=s;a!==void 0&&Oa.assertOptions(a,{silentJSONParsing:Yt.transitional(Yt.boolean),forcedJSONParsing:Yt.transitional(Yt.boolean),clarifyTimeoutError:Yt.transitional(Yt.boolean)},!1),l!=null&&(W.isFunction(l)?s.paramsSerializer={serialize:l}:Oa.assertOptions(l,{encode:Yt.function,serialize:Yt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Oa.assertOptions(s,{baseUrl:Yt.spelling("baseURL"),withXsrfToken:Yt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let d=c&&W.merge(c.common,c[s.method]);c&&W.forEach(["delete","get","head","post","put","patch","common"],j=>{delete c[j]}),s.headers=yt.concat(d,c);const f=[];let p=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(s)===!1||(p=p&&N.synchronous,f.unshift(N.fulfilled,N.rejected))});const m=[];this.interceptors.response.forEach(function(N){m.push(N.fulfilled,N.rejected)});let x,y=0,b;if(!p){const j=[am.bind(this),void 0];for(j.unshift.apply(j,f),j.push.apply(j,m),b=j.length,x=Promise.resolve(s);y<b;)x=x.then(j[y++],j[y++]);return x}b=f.length;let _=s;for(y=0;y<b;){const j=f[y++],N=f[y++];try{_=j(_)}catch(w){N.call(this,w);break}}try{x=am.call(this,_)}catch(j){return Promise.reject(j)}for(y=0,b=m.length;y<b;)x=x.then(m[y++],m[y++]);return x}getUri(t){t=pn(this.defaults,t);const s=Dp(t.baseURL,t.url,t.allowAbsoluteUrls);return Ap(s,t.params,t.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(t){mn.prototype[t]=function(s,a){return this.request(pn(a||{},{method:t,url:s,data:(a||{}).data}))}});W.forEach(["post","put","patch"],function(t){function s(a){return function(c,d,f){return this.request(pn(f||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}mn.prototype[t]=s(),mn.prototype[t+"Form"]=s(!0)});let Ij=class Wp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(c){s=c});const a=this;this.promise.then(l=>{if(!a._listeners)return;let c=a._listeners.length;for(;c-- >0;)a._listeners[c](l);a._listeners=null}),this.promise.then=l=>{let c;const d=new Promise(f=>{a.subscribe(f),c=f}).then(l);return d.cancel=function(){a.unsubscribe(c)},d},t(function(c,d,f){a.reason||(a.reason=new ns(c,d,f),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=a=>{t.abort(a)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Wp(function(l){t=l}),cancel:t}}};function Lj(i){return function(s){return i.apply(null,s)}}function Uj(i){return W.isObject(i)&&i.isAxiosError===!0}const Dc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dc).forEach(([i,t])=>{Dc[t]=i});function Vp(i){const t=new mn(i),s=wp(mn.prototype.request,t);return W.extend(s,mn.prototype,t,{allOwnKeys:!0}),W.extend(s,t,null,{allOwnKeys:!0}),s.create=function(l){return Vp(pn(i,l))},s}const We=Vp(oi);We.Axios=mn;We.CanceledError=ns;We.CancelToken=Ij;We.isCancel=Up;We.VERSION=qp;We.toFormData=eo;We.AxiosError=be;We.Cancel=We.CanceledError;We.all=function(t){return Promise.all(t)};We.spread=Lj;We.isAxiosError=Uj;We.mergeConfig=pn;We.AxiosHeaders=yt;We.formToJSON=i=>Lp(W.isHTMLForm(i)?new FormData(i):i);We.getAdapter=Fp.getAdapter;We.HttpStatusCode=Dc;We.default=We;const{Axios:w1,AxiosError:j1,CanceledError:N1,isCancel:_1,CancelToken:k1,VERSION:S1,all:E1,Cancel:C1,isAxiosError:T1,spread:R1,toFormData:P1,AxiosHeaders:O1,HttpStatusCode:A1,formToJSON:I1,getAdapter:L1,mergeConfig:U1}=We,$j="AIzaSyCEJHF8faiqlEzqDc-IKR9Xpsol9VMOFjI",Dj="1wjVwbCJ8p3l-WAJ7s2fMqK5uHBEatodgVc6wJoW7ksg",Mj=`https://sheets.googleapis.com/v4/spreadsheets/${Dj}/values`,Bj=(i,t="")=>{const s=t?`${i}!${t}`:i;return`${Mj}/${s}?key=${$j}`},zj=i=>{if(!i||i.length<2)return[];const t=i[0].map(a=>a.toLowerCase());return i.slice(1).map((a,l)=>({id:a[t.indexOf("id")]||`exp-${l+1}`,title:a[t.indexOf("title")]||a[t.indexOf("titulo")]||"",description:a[t.indexOf("description")]||a[t.indexOf("descripcion")]||"",image:a[t.indexOf("image")]||a[t.indexOf("imagen")]||"",rating:parseFloat(a[t.indexOf("rating")]||a[t.indexOf("calificacion")]||"5"),testimonial:a[t.indexOf("testimonial")]||a[t.indexOf("testimonio")]||"",author:a[t.indexOf("author")]||a[t.indexOf("autor")]||""})).filter(a=>a.title)},Fj=async()=>{try{const t=(await We.get(Bj("Experience"))).data.values;return zj(t)}catch(i){return console.error("Error fetching experiences:",i),qj()}},qj=()=>[{id:"exp1",title:"Una experiencia increble",description:"El tour de manglares fue absolutamente mgico. Nuestro gua fue muy conocedor y nos mostr lugares que nunca hubiramos encontrado solos.",image:"/images/tropical-wildlife.jpg",rating:5,testimonial:"Una aventura que recordar para siempre. El equipo fue profesional y la naturaleza, simplemente espectacular.",author:"Mara Gonzlez - Espaa"},{id:"exp2",title:"Perfecto para familias",description:"Llev a mis hijos y todos disfrutamos muchsimo. Las actividades estn perfectamente organizadas para todas las edades.",image:"/images/roatan-paradise.jpg",rating:5,testimonial:"Mis hijos no paran de hablar de los peces tropicales que vieron. Definitivamente volveremos!",author:"John Smith - Estados Unidos"},{id:"exp3",title:"Naturaleza pura",description:"Como bilogo marino, qued impresionado con la biodiversidad y el compromiso con la conservacin.",image:"/images/aerial-beach-view.jpeg",rating:5,testimonial:"Roatan Robert Tours realmente cuida y respeta el ecosistema. Una empresa responsable.",author:"Dr. Ana Rodrguez - Mxico"}],Wj=()=>{const{t:i}=Wt(),[t,s]=k.useState([]),[a,l]=k.useState(!0),[c,d]=k.useState(0);k.useEffect(()=>{f()},[]),k.useEffect(()=>{if(t.length>1){const b=setInterval(()=>{d(_=>(_+1)%t.length)},5e3);return()=>clearInterval(b)}},[t.length]);const f=async()=>{try{const b=await Fj();s(b)}catch(b){console.error("Error loading experiences:",b)}finally{l(!1)}},p=()=>{d(b=>(b+1)%t.length)},m=()=>{d(b=>(b-1+t.length)%t.length)},x=b=>[...Array(5)].map((_,j)=>n.jsx(vp,{className:`w-5 h-5 ${j<b?"text-yellow-400 fill-current":"text-gray-300"}`},j));if(a)return n.jsx("section",{className:"py-20 bg-transparent relative z-10",style:{backgroundColor:"transparent",backgroundImage:"none"},children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"text-center mb-16",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-64 mx-auto mb-4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-96 mx-auto"})]})}),n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"animate-pulse bg-transparent backdrop-blur-sm rounded-2xl shadow-none p-8",children:[n.jsx("div",{className:"h-32 bg-gray-200/30 rounded mb-4"}),n.jsx("div",{className:"h-6 bg-gray-200/30 rounded w-48 mx-auto"})]})})]})});if(t.length===0)return null;const y=t[c];return n.jsx("section",{id:"experiences",className:"py-20 bg-transparent relative z-10",style:{backgroundColor:"transparent",backgroundImage:"none"},children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:i.experiences.title}),n.jsx("p",{className:"text-xl text-white/90 max-w-3xl mx-auto",children:i.experiences.subtitle})]}),n.jsxs("div",{className:"max-w-4xl mx-auto relative",children:[n.jsxs("div",{className:"bg-transparent rounded-2xl shadow-none overflow-hidden",children:[n.jsxs("div",{className:"relative h-64 sm:h-80",children:[n.jsx("img",{src:y.image,alt:y.title,className:"w-full h-full object-cover opacity-0 pointer-events-none"}),n.jsx("div",{className:"absolute inset-0 bg-transparent"})]}),n.jsxs("div",{className:"p-8 relative",children:[n.jsx("div",{className:"absolute -top-6 left-8",children:n.jsx("div",{className:"w-12 h-12 bg-teal-500 rounded-full flex items-center justify-center",children:n.jsx(Kb,{className:"w-6 h-6 text-white"})})}),n.jsx("div",{className:"flex justify-center mb-6 mt-4",children:n.jsx("div",{className:"flex space-x-1",children:x(y.rating||5)})}),n.jsxs("blockquote",{className:"text-center mb-8",children:[n.jsxs("p",{className:"text-lg sm:text-xl text-gray-700 leading-relaxed mb-6 italic",children:['"',y.testimonial||y.description,'"']}),n.jsx("footer",{children:n.jsxs("cite",{className:"text-gray-500 font-medium not-italic",children:[" ",y.author||"Cliente Satisfecho"]})})]}),t.length>1&&n.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[n.jsx("button",{onClick:m,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors duration-200","aria-label":"Testimonio anterior",children:n.jsx(si,{className:"w-5 h-5 text-gray-600"})}),n.jsx("div",{className:"flex space-x-2",children:t.map((b,_)=>n.jsx("button",{onClick:()=>d(_),className:`w-3 h-3 rounded-full transition-colors duration-200 ${_===c?"bg-teal-500":"bg-gray-300"}`,"aria-label":`Ir al testimonio ${_+1}`},_))}),n.jsx("button",{onClick:p,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors duration-200","aria-label":"Siguiente testimonio",children:n.jsx(ii,{className:"w-5 h-5 text-gray-600"})})]})]})]}),n.jsx("div",{className:"absolute -top-4 -left-4 w-24 h-24 bg-gradient-to-br from-teal-200 to-blue-200 rounded-full opacity-50 animate-float"}),n.jsx("div",{className:"absolute -bottom-4 -right-4 w-32 h-32 bg-gradient-to-br from-blue-200 to-purple-200 rounded-full opacity-50 animate-float",style:{animationDelay:"2s"}})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mt-16",children:[{number:"500+",label:"Aventureros Felices"},{number:"4.9/5",label:"Calificacin Promedio"},{number:"100%",label:"Satisfaccin Garantizada"},{number:"3+",label:"Aos de Experiencia"}].map((b,_)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl md:text-4xl font-bold text-teal-600 mb-2",children:b.number}),n.jsx("div",{className:"text-gray-600 text-sm md:text-base",children:b.label})]},_))})]})})};function Zt(i){if(!i)return"";let s=(a=>a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"))(i);return s=s.replace(/\[([^\]]+)\]\((https?:\/\/[^)\s]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>'),s=s.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>"),s=s.replace(/__(.+?)__/g,"<u>$1</u>"),s=s.replace(/\*(.+?)\*/g,"<em>$1</em>"),s=s.replace(/~~(.+?)~~/g,"<del>$1</del>"),s=s.replace(/`([^`]+)`/g,'<code class="bg-gray-100 px-1 rounded text-sm">$1</code>'),s=s.replace(/\r?\n/g,"<br/>"),s}const Vj=()=>{const{t:i}=Wt(),[t,s]=k.useState([]),[a,l]=k.useState(!0),[c,d]=k.useState(!1),[f,p]=k.useState([]),[m,x]=k.useState(0),y=Re();k.useEffect(()=>{b()},[]);const b=async()=>{l(!0);try{const{data:w,error:R}=await y.from("gallery").select("*").order("id",{ascending:!1}).limit(6);if(R)throw R;const U=(w||[]).map(O=>({id:String(O.id),image:O.portada||O.imagen1||O.imagen2||O.imagen3||O.imagen4||"",title:O.title||O.titulo||"",description:O.description||O.descripcion||"",category:O.category||"general",images:[O.portada,O.imagen1,O.imagen2,O.imagen3,O.imagen4].filter(Boolean)}));s(U.slice(0,6))}catch(w){console.error("Error loading gallery from Supabase:",w)}finally{l(!1)}},_=()=>{d(!1),p([]),x(0),document.body.style.overflow="unset"};Ks.useEffect(()=>{if(!c)return;const w=R=>{R.key==="Escape"&&_(),R.key==="ArrowLeft"&&x(U=>Math.max(0,U-1)),R.key==="ArrowRight"&&x(U=>Math.min(f.length-1,U+1))};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[c,f.length]);const j=w=>{switch(w){case"mangroves":return"bg-green-500";case"underwater":return"bg-blue-500";case"nature":return"bg-emerald-500";case"sunset":return"bg-orange-500";case"wildlife":return"bg-yellow-500";case"aerial":return"bg-purple-500";default:return"bg-teal-500"}},N=w=>{switch(w){case"mangroves":return"Manglares";case"underwater":return"Submarino";case"nature":return"Naturaleza";case"sunset":return"Atardeceres";case"wildlife":return"Fauna";case"aerial":return"Areas";default:return"General"}};return a?n.jsx("section",{className:"py-20 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("div",{className:"text-center mb-16",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-64 mx-auto mb-4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-96 mx-auto"})]})}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((w,R)=>n.jsx("div",{className:"animate-pulse",children:n.jsx("div",{className:"bg-gray-200 rounded-2xl h-64"})},R))})]})}):n.jsxs("section",{id:"gallery",className:"py-20 bg-transparent",children:[n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:i.gallery.title}),n.jsx("p",{className:"text-xl text-white/90 max-w-3xl mx-auto",children:i.gallery.subtitle})]}),n.jsx("div",{className:"columns-1 sm:columns-2 lg:columns-3 gap-6 space-y-6 mb-12",children:t.map((w,R)=>n.jsx("div",{className:"group relative break-inside-avoid overflow-hidden rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-500 cursor-pointer",onClick:()=>{const U=w.images||[w.image];!U||U.length===0||(p(U),x(0),d(!0),document.body.style.overflow="hidden")},style:{animationDelay:`${R*.1}s`},children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:w.image,alt:w.title,className:"w-full h-auto object-cover group-hover:scale-105 transition-transform duration-700 ease-out"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-60 group-hover:opacity-80 transition-opacity duration-500"}),n.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-6 translate-y-2 group-hover:translate-y-0 transition-transform duration-500",children:[n.jsx("div",{className:"mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-100 transform translate-y-4 group-hover:translate-y-0",children:n.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium backdrop-blur-md bg-white/20 text-white border border-white/20 ${j(w.category||"general").replace("bg-","bg-opacity-80 ")}`,children:N(w.category||"general")})}),n.jsx("h3",{className:"text-white font-bold text-xl md:text-2xl mb-2 drop-shadow-md",children:w.title}),w.description&&n.jsx("div",{className:"text-gray-200 text-sm line-clamp-2 opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-200",dangerouslySetInnerHTML:{__html:Zt(w.description)}})]}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:n.jsx("div",{className:"w-14 h-14 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center border border-white/30 transform scale-50 group-hover:scale-100 transition-transform duration-500 cubic-bezier(0.34, 1.56, 0.64, 1)",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})})]})},w.id))}),n.jsx("div",{className:"text-center",children:n.jsxs(Se,{to:"/gallery",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-teal-500 to-blue-600 text-white rounded-xl font-semibold text-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl hover:from-teal-400 hover:to-blue-500",children:[i.gallery.viewAll,n.jsx(yp,{className:"w-5 h-5 ml-2"})]})})]}),c&&n.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:_,children:[n.jsx("button",{onClick:w=>{w.stopPropagation(),_()},className:"absolute top-4 right-4 z-10 w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors duration-200",children:n.jsx(St,{className:"w-6 h-6"})}),f.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:w=>{w.stopPropagation(),x(R=>Math.max(0,R-1))},className:"absolute left-4 z-10 w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors duration-200",children:n.jsx(si,{className:"w-6 h-6"})}),n.jsx("button",{onClick:w=>{w.stopPropagation(),x(R=>Math.min(f.length-1,R+1))},className:"absolute right-16 z-10 w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors duration-200",children:n.jsx(ii,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"relative max-w-5xl max-h-[90vh] w-full h-full flex items-center justify-center",onClick:w=>w.stopPropagation(),children:n.jsx("img",{src:f[m],alt:`Imagen ${m+1}`,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl"})}),n.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white/20 backdrop-blur-sm rounded-full px-4 py-2 text-white",children:[m+1," / ",f.length]})]})]})},Hj=()=>{const i=Re(),[t,s]=k.useState({video1:null,video2:null}),[a,l]=k.useState(!0);k.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:f,error:p}=await i.from("videos").select("*").maybeSingle();if(p&&p.code!=="PGRST116")throw p;f&&s({video1:f.video1||null,video2:f.video2||null})}catch(f){console.error("Error loading videos:",f)}finally{l(!1)}},d=[t.video1,t.video2].filter(Boolean);return a||d.length===0?null:n.jsx("section",{className:"py-16 bg-transparent",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl shadow-lg mb-4",children:n.jsx(Ba,{className:"w-8 h-8 text-white"})}),n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Experience Our Tours"}),n.jsx("p",{className:"text-lg text-white/90 max-w-2xl mx-auto",children:"Watch our adventure videos and get a glimpse of the amazing experiences waiting for you"})]}),n.jsx("div",{className:`grid grid-cols-1 ${d.length>1?"md:grid-cols-2":""} gap-8 max-w-6xl mx-auto`,children:d.map((f,p)=>n.jsxs("div",{className:"group relative bg-transparent backdrop-blur-sm rounded-2xl shadow-none overflow-hidden hover:shadow-none transition-all duration-300 transform hover:-translate-y-0",children:[n.jsxs("div",{className:"relative",children:[n.jsx("video",{src:f,controls:!0,className:"w-full h-full object-cover rounded-t-2xl bg-transparent",style:{maxHeight:"400px",backgroundColor:"transparent"},poster:"",children:"Your browser does not support the video tag."}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none rounded-t-2xl"})]}),n.jsx("div",{className:"p-6 bg-transparent",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center text-gray-100",children:[n.jsx(Gb,{className:"w-5 h-5 mr-2 text-orange-300"}),n.jsxs("span",{className:"font-semibold text-white",children:["Tour Video ",p+1]})]}),n.jsx("span",{className:"px-3 py-1 bg-orange-600/80 text-white rounded-full text-sm font-semibold",children:"Watch Now"})]})})]},p))})]})})},Hp=()=>{const{t:i}=Wt(),t=Re(),[s,a]=k.useState(null);k.useEffect(()=>{let m=!0;return(async()=>{try{const{data:x,error:y}=await t.from("admin").select("*").maybeSingle();if(y)throw y;m&&a(x||null)}catch(x){console.error("Error loading admin contact data in Contact component",x)}})(),()=>{m=!1}},[t]);const l=[{icon:n.jsx(Qn,{className:"w-6 h-6"}),title:i.contact.phone,value:(s==null?void 0:s.celular)??"+504 3226-7504",href:s!=null&&s.celular?`tel:${s.celular.replace(/\s+/g,"")}`:"tel:+50432267504",description:"Call us directly"},{icon:n.jsx(Ma,{className:"w-6 h-6"}),title:i.contact.whatsapp,value:(s==null?void 0:s.celular)??"+504 3226-7504",href:s!=null&&s.celular?`https://wa.me/${s.celular.replace(/[^0-9+]/g,"")}`:"https://wa.me/50432267504?text=Hola!%20Me%20interesa%20informacin%20sobre%20sus%20tours",description:"Immediate response"},{icon:n.jsx(Ka,{className:"w-6 h-6"}),title:i.contact.email,value:(s==null?void 0:s.correo)??"rteastendexp@gmail.com",href:s!=null&&s.correo?`mailto:${s.correo}`:"mailto:rteastendexp@gmail.com",description:"Send us an email"},{icon:n.jsx(Mr,{className:"w-6 h-6"}),title:"Location",value:(s==null?void 0:s.direccion)??"Roatn East, Honduras",href:"https://maps.google.com/?q=Roatan+East+End+Honduras",description:"Bay Islands, Honduras"}],c=[{name:"WhatsApp",href:s!=null&&s.celular?`https://wa.me/${s.celular.replace(/[^0-9+]/g,"")}`:"https://wa.me/50432267504",icon:n.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.951 3.506z"})}),color:"hover:text-green-500"},{name:"Instagram",href:s!=null&&s.instagram?s.instagram.startsWith("http")?s.instagram:`https://${s.instagram}`:"https://instagram.com/roataneasthiddengem",icon:n.jsx(Ga,{className:"w-6 h-6"}),color:"hover:text-pink-500"},{name:"Facebook",href:s!=null&&s.facebook?s.facebook.startsWith("http")?s.facebook:`https://${s.facebook}`:"https://facebook.com/roataneasthiddengem",icon:n.jsx(Ha,{className:"w-6 h-6"}),color:"hover:text-blue-500"}],d=[{day:"Mon - Fri",hours:"8:00 AM - 6:00 PM"},{day:"Saturday",hours:"8:00 AM - 5:00 PM"},{day:"Sunday",hours:"9:00 AM - 4:00 PM"}],f=()=>{const x=`https://wa.me/${s!=null&&s.celular?s.celular.replace(/[^0-9+]/g,""):"50432267504"}?text=${encodeURIComponent("Hello! I am interested in information about your tours")}`;window.open(x,"_blank")},p=()=>{const m=(s==null?void 0:s.correo)||"rteastendexp@gmail.com";window.location.href=`mailto:${m}`};return n.jsx("section",{id:"contact",className:"py-20 bg-transparent",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:i.contact.title}),n.jsx("p",{className:"text-xl text-white/90 max-w-3xl mx-auto",children:i.contact.subtitle})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:l.map((m,x)=>n.jsx("a",{href:m.href,target:m.href.startsWith("http")?"_blank":void 0,rel:m.href.startsWith("http")?"noopener noreferrer":void 0,className:"group bg-transparent backdrop-blur-sm p-6 rounded-2xl shadow-none transition-all duration-300 transform hover:-translate-y-1",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-teal-500 to-blue-600 rounded-xl flex items-center justify-center text-white group-hover:scale-110 transition-transform duration-200",children:m.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-white mb-1",children:m.title}),n.jsx("p",{className:"text-white text-sm mb-1",children:m.value}),n.jsx("p",{className:"text-white/85 text-xs",children:m.description})]})]})},x))}),n.jsxs("div",{className:"bg-transparent backdrop-blur-sm p-6 rounded-2xl shadow-none",children:[n.jsxs("h3",{className:"flex items-center font-semibold text-white mb-4",children:[n.jsx(Xt,{className:"w-5 h-5 mr-2 text-teal-500"}),i.contact.business_hours_title]}),n.jsx("div",{className:"space-y-2",children:d.map((m,x)=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-white/85",children:m.day}),n.jsx("span",{className:"font-medium text-white",children:m.hours})]},x))})]}),n.jsxs("div",{className:"bg-transparent backdrop-blur-sm p-6 rounded-2xl shadow-none",children:[n.jsx("h3",{className:"font-semibold text-white mb-4",children:i.contact.social}),n.jsx("div",{className:"flex space-x-4",children:c.map(m=>n.jsx("a",{href:m.href,target:"_blank",rel:"noopener noreferrer",className:`flex items-center justify-center w-12 h-12 bg-white/10 rounded-xl text-white transition-all duration-200 ${m.color} hover:scale-110 hover:shadow-md`,title:m.name,children:m.icon},m.name))})]})]}),n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"bg-transparent backdrop-blur-sm p-8 rounded-2xl shadow-none w-full",children:n.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[(s==null?void 0:s.logo)&&n.jsx("img",{src:s.logo,alt:s.nombre_web||"Logo",className:"w-88 h-88 object-contain rounded-md"}),n.jsx("h3",{className:"text-2xl font-bold text-white",children:i.contact.title}),n.jsx("p",{className:"text-white/90",children:i.contact.cta}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4",children:[n.jsx("button",{onClick:f,className:"px-6 py-3 bg-green-500 text-white rounded-lg font-semibold",children:"WhatsApp"}),n.jsx("button",{onClick:p,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold",children:"Email"}),n.jsx("a",{href:s!=null&&s.celular?`tel:${s.celular.replace(/\s+/g,"")}`:"tel:+50432267504",className:"px-6 py-3 bg-white/10 rounded-lg text-white flex items-center justify-center",children:"Call"})]}),n.jsx("a",{href:s!=null&&s.direccion?`https://maps.google.com/?q=${encodeURIComponent(s.direccion)}`:"https://maps.google.com/?q=Roatan+East+End+Honduras",target:"_blank",rel:"noreferrer",className:"text-sm text-white/90 underline mt-3",children:"View location on Google Maps"})]})})})]})]})})},Gj=({images:i=[],title:t="Roatn Paradise Tour",location:s="Roatn, Honduras",rating:a=4.8,ratingCount:l=123,views:c="1.2k",ctaText:d="TripAdvisor",ctaHref:f="https://www.tripadvisor.com/Attraction_Review-g292019-d19846218-Reviews-Roatan_Robert_Tour-Roatan_Bay_Islands.html",autoPlay:p=!0,autoPlayInterval:m=4e3,reviewsApiEndpoint:x="/reviews"})=>{const[y,b]=k.useState(null),[_,j]=k.useState(null),[N,w]=k.useState(!1),[R,U]=k.useState(!1),[O,P]=k.useState(0),I=Math.max(1,i.length||1),F=k.useRef(null),H=k.useRef(null);k.useEffect(()=>{if(p)return te(),F.current=window.setInterval(()=>{P(q=>(q+1)%I)},m),te},[I,p,m]);const te=()=>{F.current&&window.clearInterval(F.current),F.current=null},re=()=>P(q=>(q-1+I)%I),Z=()=>P(q=>(q+1)%I);return k.useEffect(()=>{const q=H.current;if(!q)return;const Y=()=>te(),ce=()=>{p&&(F.current=window.setInterval(()=>P(V=>(V+1)%I),m))};return q.addEventListener("mouseenter",Y),q.addEventListener("mouseleave",ce),()=>{q.removeEventListener("mouseenter",Y),q.removeEventListener("mouseleave",ce)}},[p,m,I]),k.useEffect(()=>{let q=!0;return(async()=>{try{const Y=`${x}?url=${encodeURIComponent(f)}&max=1`,ce=await fetch(Y);if(!q)return;if(!ce.ok)throw new Error(`Status ${ce.status}`);const V=await ce.json();V&&typeof V.count=="number"?b(V.count):Array.isArray(V.reviews)&&b(V.reviews.length)}catch{}})(),()=>{q=!1}},[f,x]),n.jsxs("div",{className:"trip-widget",role:"region","aria-label":"TripAdvisor widget",children:[n.jsxs("div",{className:"carousel-container",ref:H,children:[n.jsx("div",{className:"carousel",style:{transform:`translateX(-${O*100}%)`},children:(i.length>0?i.filter((q,Y)=>Y===0||Y===2):["/logo.webp"]).map((q,Y)=>n.jsx("div",{className:"carousel-slide",children:n.jsx("img",{src:q,alt:`${t} ${Y+1}`})},Y))}),I>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{"aria-label":"Previous",className:"carousel-btn prev-btn",onClick:re,children:""}),n.jsx("button",{"aria-label":"Next",className:"carousel-btn next-btn",onClick:Z,children:""}),n.jsx("div",{className:"carousel-indicators","aria-hidden":!0,children:Array.from({length:I}).map((q,Y)=>n.jsx("div",{className:`indicator ${Y===O?"active":""}`,onClick:()=>P(Y)},Y))})]})]}),n.jsxs("div",{className:"content",children:[n.jsxs("div",{className:"header",children:[n.jsx("div",{className:"stars","aria-hidden":!0,children:Array.from({length:Math.round(a)}).map((q,Y)=>"")}),n.jsxs("div",{className:"rating-count",children:[a.toFixed(1),"  ",l]})]}),n.jsx("h4",{className:"title",children:t}),n.jsxs("div",{className:"location",children:[" ",s]}),n.jsx("div",{className:"views",role:"button",tabIndex:0,onClick:async()=>{if(U(!0),!(_||N)){w(!0);try{const q=`${x}?url=${encodeURIComponent(f)}&max=20`,Y=await fetch(q);if(!Y.ok)throw new Error(`Status ${Y.status}`);const ce=await Y.json();ce&&Array.isArray(ce.reviews)?j(ce.reviews):Array.isArray(ce)&&j(ce),ce&&typeof ce.count=="number"&&b(ce.count)}catch(q){console.error("Error fetching reviews",q)}finally{w(!1)}}},onKeyDown:q=>{(q.key==="Enter"||q.key===" ")&&q.target.click()},children:y!=null?`(${y}) reviews`:` ${c} views`}),n.jsx("a",{className:"cta-btn",href:f,children:d})]}),R&&n.jsxs("div",{className:"ta-modal",role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"ta-modal-backdrop",onClick:()=>U(!1)}),n.jsxs("div",{className:"ta-modal-content",children:[n.jsxs("div",{className:"ta-modal-header",children:[n.jsx("h3",{children:"TripAdvisor Reviews"}),n.jsx("button",{className:"ta-modal-close",onClick:()=>U(!1),children:""})]}),n.jsxs("div",{className:"ta-modal-body",children:[N&&n.jsx("div",{children:"Loading reviews"}),!N&&!_&&n.jsx("div",{className:"text-muted",children:"No reviews available."}),!N&&_&&_.length>0&&n.jsx("ul",{className:"ta-reviews-list",children:_.map((q,Y)=>n.jsxs("li",{className:"ta-review",children:[n.jsxs("div",{className:"ta-review-head",children:[n.jsx("strong",{children:q.title||q.author||"Review"}),n.jsxs("span",{className:"ta-review-meta",children:[q.rating?`${q.rating} `:""," ",q.date?` ${q.date}`:""]})]}),q.text&&n.jsx("p",{className:"ta-review-text",children:q.text}),n.jsx("div",{className:"ta-review-author",children:q.author})]},Y))})]})]})]})]})},Kj=({profileImage:i="/images/logo.webp",name:t="Roatan Robert Tours",followers:s="12.3k",likes:a="8.4k",info:l="Tours, snorkeling, and island adventures in Roatn. Contact us for private tours and group discounts.",link:c="https://www.facebook.com/share/17UcBueTar/",image:d="/images/fbroa.jpg",images:f=void 0,profile:p="/images/logo.webp"})=>(f&&f.length>0&&f[0],n.jsxs("div",{className:"fb-widget",role:"region","aria-label":"Facebook widget",children:[n.jsx("div",{className:"fb-image",children:n.jsx("img",{src:d,alt:`${t} main`})}),n.jsxs("div",{className:"fb-top",children:[n.jsx("div",{className:"fb-avatar",children:n.jsx("img",{src:p,alt:`${t} profile`})}),n.jsxs("div",{className:"fb-info",children:[n.jsx("div",{className:"fb-name",children:t}),n.jsx("div",{className:"fb-meta",children:"Official page  Local business"})]})]}),n.jsxs("div",{className:"fb-stats",children:[n.jsxs("div",{className:"fb-stat",children:[n.jsx("div",{className:"num",children:s}),n.jsx("div",{className:"label",children:"Followers"})]}),n.jsxs("div",{className:"fb-stat",children:[n.jsx("div",{className:"num",children:a}),n.jsx("div",{className:"label",children:"Likes"})]})]}),n.jsx("div",{className:"fb-body",children:l}),n.jsx("div",{className:"fb-cta",children:n.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:"Share / Visit on Facebook"})})]})),Jj=()=>{const i=Re(),[t,s]=k.useState([]);return k.useEffect(()=>{let a=!0;return(async()=>{try{const{data:l,error:c}=await i.from("private_tours").select("*").order("id",{ascending:!0}).limit(2);if(c)throw c;a&&s(l||[])}catch(l){console.error("Error loading VIP tours:",l)}})(),()=>{a=!1}},[i]),n.jsxs("div",{className:"min-h-screen",children:[n.jsx(iw,{}),n.jsx("section",{className:"py-12 bg-transparent",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-8",children:[n.jsx("h2",{className:"text-3xl font-bold text-white",children:"Tour VIP"}),n.jsx("p",{className:"text-white/90",children:"Exclusive private tours  featured selection"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(a=>n.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl overflow-hidden transform hover:-translate-y-2 transition-all",children:[n.jsx("div",{className:"relative h-44",children:n.jsx("img",{src:a.image1||a.image2||a.image3||"/placeholder.jpg",alt:a.title,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold mb-2",children:a.title}),n.jsx("div",{className:"text-gray-600 mb-4 line-clamp-2",dangerouslySetInnerHTML:{__html:Zt(a.description)}}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("span",{className:"text-teal-600 font-semibold",children:["From $",a.price_1_person,"/person"]}),n.jsx("span",{className:"text-gray-500 text-sm",children:a.duration})]}),n.jsx("div",{className:"flex gap-3",children:n.jsx(Se,{to:`/private-tour/${a.id}`,className:"flex-1 px-4 py-3 border border-teal-500 text-teal-600 rounded-lg text-center",children:"View Details"})})]})]},a.id))})]})}),n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-transparent",children:[n.jsx(Gj,{images:["/images/hero-mangrove-tour.jpg","/images/snorkeling-adventure.webp","/images/sunset-boat-tour.jpg"],title:"Best of Roatn",ctaText:"TripAdvisor",ctaHref:"https://www.tripadvisor.com/Attraction_Review-g292019-d19846218-Reviews-Roatan_Robert_Tour-Roatan_Bay_Islands.html",reviewsApiEndpoint:"http://localhost:3000/reviews"}),n.jsx(Kj,{profileImage:"/logo.webp",name:"Roatan Robert Tours",followers:"12.3k",likes:"8.4k",info:"Tours, snorkeling, and island adventures in Roatn. Contact us for private tours and group discounts.",link:"https://www.facebook.com/share/17UcBueTar/",images:["https://scontent-gua1-1.xx.fbcdn.net/v/t39.30808-6/473619658_1180197186854935_6151835626484410998_n.jpg?_nc_cat=100&ccb=1-7&_nc_sid=cc71e4&_nc_ohc=GwTtiTWauLQQ7kNvwFdN65w&_nc_oc=AdndoO4lEb-VXycDXe8Mq-taQVyxZbpX67NhGqVD3K8ZqE-cwAP6cNNGQK-tExfONGLjdp4LT3oHmg9MO0zkeOuH&_nc_zt=23&_nc_ht=scontent-gua1-1.xx&_nc_gid=8FJRCGrFL6wwejbo0i3kiw&oh=00_Afi8eLN-BSDMR1spwCLcxqOwVBBOIHQbz3M11-NUny4jVQ&oe=691FBE82","https://scontent-gua1-1.xx.fbcdn.net/v/t39.30808-6/475783064_948523607417191_6398679110474697125_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=833d8c&_nc_ohc=2DvXC7yJQcwQ7kNvwGfOTq8&_nc_oc=AdndOHqJ1CMbM74XyFr5AZklPuaLAqn_NXqdKNqe0J2ioTyLZkQ8Nn02zpWqNjiCVdMBgB1woJFFuOxDfjzrserp&_nc_zt=23&_nc_ht=scontent-gua1-1.xx&_nc_gid=1FIWIQPgXocwg5c0Ezyg3Q&oh=00_AfjNABlKGjmXUn0GWzJpt3QsBKyaXoswQQvnNFt7TAZH8w&oe=691FC4EC","https://scontent-gua1-1.xx.fbcdn.net/v/t39.30808-6/475785953_948523214083897_1279743254271036678_n.jpg?_nc_cat=104&ccb=1-7&_nc_sid=833d8c&_nc_ohc=5H2VPSPoc_kQ7kNvwHYaGkS&_nc_oc=Adk-BkRrKXADwXnC5fqaH1GdmQMPM_XWsFxDtzeakkk3aeV14rg-lUgi1EaSRWIJys_Fw9g3r0x2sw_w4QWoQJmJ&_nc_zt=23&_nc_ht=scontent-gua1-1.xx&_nc_gid=UIZ9bEWMyQ73CUJoOF9CqA&oh=00_Afi8hRMxqFY8FjFiv9rbBGbN6dsJ496BklmXfqCdjAkE_w&oe=691FB972"]})]})}),n.jsx(aw,{}),n.jsx(Wj,{}),n.jsx(Vj,{}),n.jsx(Hj,{}),n.jsx(Hp,{})]})},Qj=()=>{const{t:i}=Wt(),t=Re(),s=hr(),[a,l]=k.useState([]),[c,d]=k.useState(!0);k.useEffect(()=>{f()},[]);const f=async()=>{d(!0);try{const{data:m,error:x}=await t.from("private_tours").select("*").order("id",{ascending:!0});if(x)throw x;l(m||[])}catch(m){console.error("Error loading private tours:",m)}finally{d(!1)}},p=m=>{s(`/private-tour/${m.id}`)};return c?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-transparent relative z-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-500"})}):n.jsx("div",{className:"min-h-screen py-20 bg-transparent relative z-10",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Private Tours"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Experience Roatn with a private, customizable tour. Perfect for families, couples, and groups who want a personalized adventure."})]}),a.length===0?n.jsxs("div",{className:"text-center py-16 animate-fadeInUp",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Private Tours Available"}),n.jsx("p",{className:"text-gray-600",children:"Check back soon for our exclusive private tours!"})]}):n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:a.map((m,x)=>n.jsxs("div",{className:"group relative bg-white/90 backdrop-blur-sm rounded-3xl shadow-xl overflow-hidden hover:shadow-2xl hover:bg-white transition-all duration-500 border border-white/20 animate-fadeInUp",style:{animationDelay:`${x*150}ms`},children:[n.jsxs("div",{className:"grid grid-cols-3 gap-1 h-72 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent z-10 opacity-60 group-hover:opacity-40 transition-opacity duration-500"}),m.image1&&n.jsx("div",{className:"col-span-2 row-span-2 relative overflow-hidden",children:n.jsx("img",{src:m.image1,alt:m.title,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700 ease-out"})}),m.image2&&n.jsx("div",{className:"relative overflow-hidden",children:n.jsx("img",{src:m.image2,alt:m.title,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700 ease-out delay-75"})}),m.image3&&n.jsx("div",{className:"relative overflow-hidden",children:n.jsx("img",{src:m.image3,alt:m.title,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700 ease-out delay-150"})}),n.jsx("div",{className:"absolute bottom-4 left-6 z-20 md:hidden",children:n.jsx("h3",{className:"text-2xl font-bold text-white shadow-sm",children:m.title})})]}),n.jsxs("div",{className:"p-8 relative",children:[n.jsx("div",{className:"hidden md:block",children:n.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4 group-hover:text-teal-600 transition-colors",children:m.title})}),n.jsx("div",{className:"text-gray-600 mb-6 line-clamp-3 text-lg leading-relaxed",children:m.description.length>150?`${m.description.substring(0,150)}...`:m.description}),n.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-teal-50/50 rounded-2xl p-6 mb-6 border border-teal-100/50",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 bg-teal-100 rounded-lg mr-3",children:n.jsx(ti,{className:"w-5 h-5 text-teal-600"})}),n.jsx("span",{className:"font-bold text-gray-800 text-lg",children:"Base Rates"})]}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 pb-2 last:border-0 last:pb-0",children:[n.jsx("span",{className:"text-gray-500 font-medium",children:"1-2 Persons"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"block text-xs text-gray-400",children:"1 Person"}),n.jsxs("span",{className:"font-bold text-gray-900",children:["$",m.price_1_person]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"block text-xs text-gray-400",children:"2 Persons"}),n.jsxs("span",{className:"font-bold text-gray-900",children:["$",m.price_2_persons]})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 pb-2 last:border-0 last:pb-0",children:[n.jsx("span",{className:"text-gray-500 font-medium",children:"Groups"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"block text-xs text-gray-400",children:"3 Persons"}),n.jsxs("span",{className:"font-bold text-gray-900",children:["$",m.price_3_persons]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"block text-xs text-gray-400",children:"+4 Persons"}),n.jsxs("span",{className:"font-bold text-gray-900",children:["$",m.price_4_persons]})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[m.whats_included&&n.jsxs("div",{className:"flex items-start",children:[n.jsx(lt,{className:"w-5 h-5 text-teal-500 mr-2 mt-0.5"}),n.jsxs("div",{children:[n.jsx("span",{className:"block font-semibold text-gray-900 text-sm mb-1",children:"Includes"}),n.jsx("span",{className:"text-xs text-gray-500 line-clamp-2",children:m.whats_included})]})]}),m.duration&&n.jsxs("div",{className:"flex items-start",children:[n.jsx(Xt,{className:"w-5 h-5 text-teal-500 mr-2 mt-0.5"}),n.jsxs("div",{children:[n.jsx("span",{className:"block font-semibold text-gray-900 text-sm mb-1",children:"Duration"}),n.jsx("span",{className:"text-xs text-gray-500",children:m.duration})]})]})]}),n.jsxs("button",{onClick:()=>p(m),className:"w-full py-4 bg-gray-900 text-white rounded-xl font-bold hover:bg-teal-600 transition-all duration-300 transform group-hover:-translate-y-1 shadow-lg hover:shadow-teal-500/30 flex items-center justify-center gap-2",children:[n.jsx("span",{children:"Start Your Adventure"}),n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]},m.id))}),n.jsxs("div",{className:"mt-16 bg-gradient-to-r from-teal-600 to-blue-600 rounded-2xl p-8 text-center text-white",children:[n.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Need a Custom Experience?"}),n.jsx("p",{className:"text-lg mb-6",children:"Tell us what you want to see and do  our team will craft a private tour that fits your schedule and interests."}),n.jsx("a",{href:"/contact",className:"inline-block px-8 py-3 bg-white text-teal-600 rounded-xl font-semibold hover:bg-gray-100 transition-colors",children:"Contact Us"})]})]})})},Yj=({client:i})=>{const t=i??Re(),[s,a]=k.useState([]);if(k.useEffect(()=>{let c=!0;return(async()=>{try{const{data:d,error:f}=await t.from("paquetes").select("*").order("id",{ascending:!0});if(f)throw f;c&&a(d||[])}catch(d){console.error("Error loading paquetes for marquee:",d)}})(),()=>{c=!1}},[t]),!s||s.length===0)return null;const l=[...s,...s];return n.jsxs("section",{className:"mb-8",children:[n.jsx("style",{children:`
        .marquee-wrapper { overflow: hidden; }
        .marquee-track { display: flex; gap: 1rem; align-items: stretch; }
        @keyframes marquee {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
        .marquee-animate { animation: marquee 30s linear infinite; }
        /* Keep animating when hovered */
        .marquee-animate:hover { animation-play-state: running !important; }

        /* Pricing badge animation: visible pill with pulsing appearance */
        .pricing-badge {
          display: inline-block;
          color: #ffffff;
          background: rgba(0,0,0,0.45);
          padding: 0.15rem 0.5rem;
          border-radius: 9999px;
          font-size: 12px;
          font-weight: 700;
          opacity: 0;
          transform: translateY(6px) scale(0.98);
          z-index: 20;
          box-shadow: 0 2px 8px rgba(0,0,0,0.25);
          animation: pricingIn 2.4s cubic-bezier(.2,.9,.2,1) infinite;
        }

        @keyframes pricingIn {
          0% { opacity: 0; transform: translateY(6px) scale(0.98); }
          12% { opacity: 1; transform: translateY(0) scale(1); }
          60% { opacity: 1; transform: translateY(0) scale(1); }
          100% { opacity: 0; transform: translateY(-6px) scale(0.98); }
        }
      `}),n.jsx("div",{className:"marquee-wrapper",children:n.jsx("div",{className:"marquee-track marquee-animate",children:l.map((c,d)=>n.jsx("div",{className:"w-64 flex-shrink-0 rounded-lg overflow-hidden shadow-md relative",children:n.jsxs("div",{className:"h-40 w-full overflow-hidden relative",children:[n.jsx("img",{src:c.imagen1||c.imagen||c.image||c.image1,alt:c.titulo||c.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),n.jsxs("div",{className:"absolute left-0 right-0 bottom-0 p-3",children:[n.jsx("div",{className:"text-xs text-white truncate",children:c.titulo||c.title}),n.jsxs("div",{className:"mt-1 flex items-end justify-between",children:[n.jsx("div",{className:"pricing-badge",style:{animationDelay:`${d%(s.length||1)*.45}s`},children:"Pricing"}),n.jsxs("div",{className:"text-teal-300 font-extrabold text-xl",children:["$",(c.precio_por_persona??c.price??0).toString()]})]})]})]})},`${c.id}-${d}`))})})]})},Gp=({isOpen:i,onClose:t,onAccept:s})=>i?n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold",children:"Cancellation Policy"}),n.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100",children:n.jsx(St,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsx("p",{className:"text-gray-700",children:"Before proceeding with your booking, please review our cancellation policy. By accepting this policy, you confirm that you understand the refund terms and conditions."}),n.jsxs("p",{className:"text-sm text-gray-600",children:["View full policy: ",n.jsx(Se,{to:"/politica-de-cancelacion",className:"text-teal-600 underline",children:"Poltica de Cancelacin"})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 border rounded-lg",children:"Cancelar"}),n.jsx("button",{onClick:s,className:"px-5 py-2 bg-teal-600 text-white rounded-lg",children:"Acepto"})]})]})]})}):null,Xj=()=>{const{id:i}=Wc(),t=hr(),s=Re(),[a,l]=k.useState(null),[c,d]=k.useState(!0),[f,p]=k.useState(0),[m,x]=k.useState(!1),[y,b]=k.useState(!1);k.useEffect(()=>{if(!a)return;const N=[a.image1,a.image2,a.image3].filter(Boolean);if(N.length<=1)return;const w=setInterval(()=>{m||p(R=>(R+1)%N.length)},4e3);return()=>clearInterval(w)},[a,m]),k.useEffect(()=>{i&&_(i)},[i]);const _=async N=>{d(!0);try{const{data:w,error:R}=await s.from("private_tours").select("*").eq("id",Number(N)).single();if(R)throw R;l(w)}catch(w){console.error("Error loading tour:",w)}finally{d(!1)}};if(c)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-transparent relative z-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-500"})});if(!a)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-transparent relative z-10 py-20",children:n.jsxs("div",{className:"text-center bg-white/90 backdrop-blur-sm rounded-2xl p-8 shadow-lg",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Tour not found"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"The tour you're looking for doesn't exist."}),n.jsx("button",{onClick:()=>t("/private-tour"),className:"px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:"Back to Tours"})]})});const j=[a.image1,a.image2,a.image3].filter(Boolean);return n.jsx("div",{className:"min-h-screen bg-transparent relative z-10 py-20",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl",children:[n.jsxs("button",{onClick:()=>t("/private-tour"),className:"flex items-center text-white hover:text-teal-300 mb-8 transition-colors bg-black/30 backdrop-blur-sm px-4 py-2 rounded-lg group",children:[n.jsx(Br,{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Private Tours"]}),n.jsx("div",{className:"mb-8",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:n.jsxs("div",{className:"relative h-[400px] lg:h-[600px] rounded-3xl overflow-hidden shadow-2xl group",children:[n.jsx("style",{children:`
                /* Right-side large pricing panel */
                .pricing-panel {
                  background: linear-gradient(90deg, rgba(2,6,23,0.75), rgba(2,6,23,0.45));
                  color: #fff;
                  padding: 1rem 1.1rem;
                  border-radius: 0.9rem;
                  width: 20rem; /* 320px */
                  max-width: calc(100% - 2rem);
                  opacity: 0;
                  transform: translateX(14px) scale(0.995);
                  box-shadow: 0 20px 40px rgba(2,6,23,0.5);
                }
                .pricing-animate { animation: pricingAppear 680ms cubic-bezier(.2,.9,.2,1) forwards; }
                @keyframes pricingAppear { from { opacity: 0; transform: translateX(14px) scale(0.995); } to { opacity: 1; transform: translateX(0) scale(1); } }

                .pricing-lines { display: flex; flex-direction: column; gap: 8px; }
                .pricing-line { opacity: 0; transform: translateX(10px); }
                .pricing-line.show { animation: lineIn 420ms cubic-bezier(.2,.9,.2,1) forwards; }
                @keyframes lineIn { from { opacity: 0; transform: translateX(10px); } to { opacity: 1; transform: translateX(0); } }

                /* Larger typography inside panel */
                .pricing-panel .title { font-size: 16px; font-weight: 700; }
                .pricing-panel .duration { font-size: 13px; color: #e6eef6; }
                .pricing-panel .line-label { font-size: 15px; color: #f0f9ff; }
                .pricing-panel .line-price { font-size: 17px; font-weight: 800; color: #7ee3c6; }
                /* Carousel title overlay - centered, large, animated in/out */
                .carousel-title { 
                  max-width: 72%;
                  padding: 0.25rem 0.5rem;
                  pointer-events: none;
                  opacity: 0;
                  transform: translateY(-12px) scale(0.98);
                  transition: opacity 420ms cubic-bezier(.2,.9,.2,1), transform 420ms cubic-bezier(.2,.9,.2,1);
                }
                .carousel-title .title-large { font-size: 28px; font-weight: 800; color: #ffffff; text-shadow: 0 10px 30px rgba(2,6,23,0.7); line-height: 1; }
                .carousel-title.show { opacity: 1; transform: translateY(0) scale(1); }
                @media (min-width: 768px) { .carousel-title .title-large { font-size: 48px; } }
                @media (min-width: 1024px) { .carousel-title .title-large { font-size: 64px; } }
              `}),j.map((N,w)=>n.jsxs("div",{className:`absolute inset-0 transition-all duration-1000 ease-in-out ${f===w?"opacity-100 z-10 scale-100":"opacity-0 z-0 scale-110"}`,children:[n.jsx("img",{src:N,alt:`${a.title} ${w+1}`,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-black/20"}),f===w&&n.jsxs("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 z-30 pricing-panel pricing-animate",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("div",{className:"title",children:"Pricing"}),a.duration&&n.jsx("div",{className:"duration",children:a.duration})]}),n.jsxs("div",{className:"pricing-lines",children:[n.jsx("div",{className:"pricing-line show",style:{animationDelay:"0.12s"},children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"line-label",children:"1 Person"}),n.jsxs("div",{className:"line-price",children:["$",a.price_1_person]})]})}),n.jsx("div",{className:"pricing-line show",style:{animationDelay:"0.24s"},children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"line-label",children:"2 Persons"}),n.jsxs("div",{className:"line-price",children:["$",a.price_2_persons]})]})}),n.jsx("div",{className:"pricing-line show",style:{animationDelay:"0.36s"},children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"line-label",children:"3 Persons"}),n.jsxs("div",{className:"line-price",children:["$",a.price_3_persons]})]})}),n.jsx("div",{className:"pricing-line show",style:{animationDelay:"0.48s"},children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"line-label",children:"4+ Persons"}),n.jsxs("div",{className:"line-price",children:["$",a.price_4_persons]})]})}),n.jsx("div",{className:"pricing-line show",style:{animationDelay:"0.6s"},children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("div",{className:"line-label",children:"Children (under 5)"}),n.jsxs("div",{className:"line-price",children:["$",a.price_children_under_5]})]})})]})]}),f===w&&n.jsx("div",{className:"absolute top-8 left-1/2 z-40 -translate-x-1/2 carousel-title show text-center",children:n.jsx("h2",{className:"title-large text-3xl lg:text-6xl",children:a.title})})]},w)),n.jsxs("div",{className:"absolute top-4 right-4 z-20 bg-black/60 backdrop-blur-sm px-3 py-1.5 rounded-full text-white text-sm font-medium",children:[f+1," / ",j.length]}),j.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>p(N=>(N-1+j.length)%j.length),className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-white/20 backdrop-blur-md hover:bg-white/40 rounded-full flex items-center justify-center text-white transition-all transform hover:scale-110 opacity-0 group-hover:opacity-100","aria-label":"Previous",children:n.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 18l-6-6 6-6"})})}),n.jsx("button",{onClick:()=>p(N=>(N+1)%j.length),className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-white/20 backdrop-blur-md hover:bg-white/40 rounded-full flex items-center justify-center text-white transition-all transform hover:scale-110 opacity-0 group-hover:opacity-100","aria-label":"Next",children:n.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6l6 6-6 6"})})})]}),j.length>1&&n.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-20 flex gap-2",children:j.map((N,w)=>n.jsx("button",{onClick:()=>p(w),className:`transition-all rounded-full ${f===w?"w-8 h-2 bg-white":"w-2 h-2 bg-white/50 hover:bg-white/80"}`,"aria-label":`Go to image ${w+1}`},w))})]})}),n.jsx(Yj,{client:s}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-lg p-8",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[n.jsx("span",{className:"w-2 h-8 bg-gradient-to-b from-teal-600 to-blue-600 rounded-full mr-3"}),"About This Tour"]}),n.jsx("div",{className:"text-lg text-gray-700 leading-relaxed prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:Zt(a.description)}})]}),a.whats_included&&n.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-lg p-8",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[n.jsx(lt,{className:"w-6 h-6 text-green-600 mr-3"}),"What's Included"]}),n.jsx("div",{className:"bg-green-50 rounded-lg p-6",children:n.jsx("p",{className:"text-gray-700 whitespace-pre-line leading-relaxed text-base",children:a.whats_included})})]}),a.tour_notes&&n.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 rounded-r-xl p-6 shadow-lg",children:n.jsxs("p",{className:"text-gray-800 font-medium leading-relaxed",children:[n.jsx("span",{className:"font-bold text-yellow-800",children:"Note: "}),a.tour_notes]})})]}),n.jsx("div",{className:"lg:col-span-1 space-y-6",children:n.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-6 lg:sticky lg:top-24",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center",children:[n.jsx(ti,{className:"w-6 h-6 text-teal-600 mr-2"}),"Pricing"]}),a.duration&&n.jsxs("div",{className:"flex items-center text-gray-600 mt-3",children:[n.jsx(Xt,{className:"w-5 h-5 text-blue-600 mr-2"}),n.jsx("span",{className:"text-sm font-medium",children:a.duration})]})]}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-teal-50 to-blue-50 rounded-xl border border-teal-200",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx($r,{className:"w-5 h-5 text-teal-600 mr-2"}),n.jsx("span",{className:"text-gray-700 font-medium",children:"1 Person"})]}),n.jsxs("span",{className:"text-teal-600 font-bold text-xl",children:["$",a.price_1_person]})]}),n.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-teal-50 to-blue-50 rounded-xl border border-teal-200",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx($r,{className:"w-5 h-5 text-teal-600 mr-2"}),n.jsx("span",{className:"text-gray-700 font-medium",children:"2 Persons"})]}),n.jsxs("span",{className:"text-teal-600 font-bold text-xl",children:["$",a.price_2_persons]})]}),n.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-teal-50 to-blue-50 rounded-xl border border-teal-200",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx($r,{className:"w-5 h-5 text-teal-600 mr-2"}),n.jsx("span",{className:"text-gray-700 font-medium",children:"3 Persons"})]}),n.jsxs("span",{className:"text-teal-600 font-bold text-xl",children:["$",a.price_3_persons]})]}),n.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-teal-50 to-blue-50 rounded-xl border border-teal-200",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx($r,{className:"w-5 h-5 text-teal-600 mr-2"}),n.jsx("span",{className:"text-gray-700 font-medium",children:"4+ Persons"})]}),n.jsxs("span",{className:"text-teal-600 font-bold text-xl",children:["$",a.price_4_persons]})]}),n.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-xl border border-gray-300",children:[n.jsx("span",{className:"text-gray-600 text-sm font-medium",children:"Children (under 5)"}),n.jsxs("span",{className:"text-gray-800 font-bold text-lg",children:["$",a.price_children_under_5]})]})]}),n.jsx("button",{onClick:()=>b(!0),className:"w-full py-4 bg-gradient-to-r from-teal-600 to-blue-600 text-white text-lg font-bold rounded-xl hover:from-teal-700 hover:to-blue-700 transition-all transform hover:scale-105 hover:shadow-2xl shadow-lg",children:"Book This Tour Now"}),n.jsx(Gp,{isOpen:y,onClose:()=>b(!1),onAccept:()=>{b(!1),t(`/private-tour/book/${a.id}`)}}),n.jsx("p",{className:"text-center text-gray-500 text-sm mt-4",children:"Instant confirmation  Free cancellation"})]})})]})]})})},Ta={GOOGLE_SCRIPT_URL:"https://script.google.com/macros/s/AKfycbz4sF9nzAqHKJlQzR4ycP7tEmH5LObuBkErRBsBQk7CSCSorsNBvrr0ob-JFhh-UMkW/exec",TIMEOUT:1e4,DEBUG:!0};function Zj(){return!0}const e1=({tourId:i,tourTitle:t,showAdditionalOptions:s,onClose:a,isPage:l=!1})=>{const c=Re(),d=hr(),[f,p]=k.useState(!1),[m,x]=k.useState([]),[y,b]=k.useState([]),j=(()=>{const V=new Date;return V.setMinutes(V.getMinutes()-V.getTimezoneOffset()),V.toISOString().split("T")[0]})(),[N,w]=k.useState({firstName:"",lastName:"",hometownCity:"",hometownState:"",hometownCountry:"United States",numberOfGuestsAge5Up:1,numberOfGuestsUnder5:0,phone:"",email:"",cruiseShipOrResortName:"",requestedTourDate:"",comments:""}),[R,U]=k.useState([]),[O,P]=k.useState(null),[I,F]=k.useState(null),[H,te]=k.useState(null);k.useEffect(()=>{s&&q()},[s]),k.useEffect(()=>{let V=!0;return(async()=>{try{const{data:G,error:se}=await c.from("meeting_points").select("*").eq("is_active",!0).order("id",{ascending:!0});if(se)throw se;V&&U(G||[])}catch(G){console.error("Error loading meeting points:",G)}})(),()=>{V=!1}},[]),k.useEffect(()=>{let V=!0;return(async()=>{try{if(!i)return;const{data:G,error:se}=await c.from("private_tours").select("*").eq("id",Number(i)).single();if(!se&&G){if(!V)return;F(G);const E=Number(N.numberOfGuestsAge5Up)||1;let L=null;if(E>=1&&E<=4){const C=E===1?"price_1_person":`price_${E}_persons`;G[C]!=null&&(L=Number(G[C])/(E||1))}L==null&&(G.price_1_person?L=Number(G.price_1_person):G.price_4_persons&&(L=Number(G.price_4_persons)/4)),te(L??null);return}const{data:ae,error:$}=await c.from("paquetes").select("*").eq("id",Number(i)).single();if(!$&&ae){if(!V)return;F(ae);const E=ae.precio_por_persona??ae.price??null;te(E!=null?Number(E):null);return}}catch(G){console.error("Error loading tour price:",G)}})(),()=>{V=!1}},[i]);const re=Ks.useMemo(()=>{if(!I)return H;const V=Number(N.numberOfGuestsAge5Up)||1;if(I.price_1_person!=null||I.price_2_persons!=null||I.price_3_persons!=null||I.price_4_persons!=null){if(V===1&&I.price_1_person!=null)return Number(I.price_1_person);if(V===2&&I.price_2_persons!=null)return Number(I.price_2_persons);if(V===3&&I.price_3_persons!=null)return Number(I.price_3_persons);if(V>=4&&I.price_4_persons!=null)return Number(I.price_4_persons);if(I.price_1_person!=null)return Number(I.price_1_person);if(I.price_4_persons!=null)return Number(I.price_4_persons)}return I.precio_por_persona!=null?Number(I.precio_por_persona):I.price!=null?Number(I.price):H},[I,N.numberOfGuestsAge5Up,H]),Z=Ks.useMemo(()=>{if(!m||m.length===0)return 0;const V=Number(N.numberOfGuestsAge5Up)||1;return m.filter(ae=>y.includes(ae.id)).reduce((ae,$)=>ae+(Number($.price)||0),0)*V},[m,y,N.numberOfGuestsAge5Up]),q=async()=>{try{const{data:V,error:G}=await c.from("paquetes").select("*").order("id",{ascending:!0});if(G)throw G;const se=(V||[]).map(ae=>{const E=Array.from({length:10}).map((L,C)=>ae[`imagen${C+1}`]).find(L=>L)||"";return{id:ae.id,title:ae.titulo||ae.title||`Tour ${ae.id}`,image:E,price:ae.precio_por_persona??ae.price??0,duration:ae.duracion||"",description:ae.descripcion||ae.description||""}});x(se)}catch(V){console.error("Error loading additional options (paquetes):",V)}},Y=V=>{b(G=>G.includes(V)?G.filter(se=>se!==V):[...G,V])},ce=async V=>{if(V.preventDefault(),!N.firstName||!N.lastName||!N.hometownCity||!N.hometownState||!N.hometownCountry||!N.numberOfGuestsAge5Up||Number(N.numberOfGuestsAge5Up)<1||N.numberOfGuestsUnder5<0||!N.phone||!N.email||!N.cruiseShipOrResortName||!N.requestedTourDate||!N.comments){alert("Por favor complete todos los campos obligatorios antes de enviar.");return}p(!0);try{const G={tour_id:i,first_name:N.firstName,last_name:N.lastName,hometown_city:N.hometownCity,hometown_state:N.hometownState,hometown_country:N.hometownCountry,number_of_guests_age_5_up:N.numberOfGuestsAge5Up,number_of_guests_under_5:N.numberOfGuestsUnder5,phone:N.phone,email:N.email,cruise_ship_or_resort_name:N.cruiseShipOrResortName,requested_tour_date:N.requestedTourDate||null,selected_additional_options:y,comments:N.comments,status:"pending"},{error:se}=await c.from("private_tour_bookings").insert([G]);if(se)throw se;try{const ae=m.filter(E=>y.includes(E.id)).map(E=>({id:E.id,title:E.title,image:E.image,price:E.price,duration:E.duration,description:E.description,subtitle:E.subtitle,features:E.features})),$={tourTitle:t,firstName:N.firstName,lastName:N.lastName,hometownCity:N.hometownCity,hometownState:N.hometownState,hometownCountry:N.hometownCountry,numberOfGuestsAge5Up:N.numberOfGuestsAge5Up,numberOfGuestsUnder5:N.numberOfGuestsUnder5,phone:N.phone,email:N.email,cruiseShipOrResortName:N.cruiseShipOrResortName,requestedTourDate:N.requestedTourDate||"",selectedAdditionalOptions:ae,comments:N.comments,meetingPoint:O?{title:O.title,zone:O.zone,instructions:O.instructions,mapUrl:O.map_url}:null,pricePerPerson:re??0,numberOfGuests:N.numberOfGuestsAge5Up,extrasTotal:Z,estimatedTotal:(re??0)*Number(N.numberOfGuestsAge5Up)+Z,submittedAt:new Date().toISOString()};if(Zj()){Ta.DEBUG&&console.log("Sending booking data to Google Script:",$);const E=new AbortController,L=setTimeout(()=>E.abort(),Ta.TIMEOUT);try{await fetch(Ta.GOOGLE_SCRIPT_URL,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify($),signal:E.signal}),clearTimeout(L),Ta.DEBUG&&console.log(" Booking data sent to Google Script successfully")}catch(C){throw clearTimeout(L),C}}else console.warn(" Google Script not configured - emails will not be sent. Check src/config/googleScript.ts")}catch(ae){console.error(" Error sending to Google Script:",ae)}d("/private-tour/booking-confirmation",{state:{email:N.email,tourDate:N.requestedTourDate||"your selected date",cruiseName:N.cruiseShipOrResortName}})}catch(G){console.error("Error submitting booking:",G),alert("Error submitting booking. Please try again.")}finally{p(!1)}};return n.jsxs("div",{className:l?"py-12":"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 overflow-y-auto",children:[f&&n.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50",children:n.jsx("div",{className:"bg-white/90 px-6 py-4 rounded-md text-lg font-semibold",children:"enviando datos..."})}),n.jsxs("div",{className:l?"bg-white rounded-2xl shadow-none w-full max-w-4xl mx-auto":"bg-white rounded-2xl shadow-2xl w-full max-w-4xl my-8",children:[n.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-blue-600 text-white p-6 rounded-t-2xl",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Book Your Adventure"}),n.jsx("p",{className:"text-teal-100",children:t})]}),!l&&n.jsx("button",{onClick:a,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(St,{className:"w-6 h-6"})})]})}),n.jsxs("form",{onSubmit:ce,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(Zb,{className:"w-5 h-5 mr-2 text-teal-600"}),"Personal Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),n.jsx("input",{type:"text",required:!0,value:N.firstName,onChange:V=>w({...N,firstName:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),n.jsx("input",{type:"text",required:!0,value:N.lastName,onChange:V=>w({...N,lastName:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Hometown *"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),n.jsx("input",{type:"text",required:!0,value:N.hometownCity,onChange:V=>w({...N,hometownCity:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State / Province / Region *"}),n.jsx("input",{type:"text",required:!0,value:N.hometownState,onChange:V=>w({...N,hometownState:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),n.jsx("input",{type:"text",required:!0,value:N.hometownCountry,onChange:V=>w({...N,hometownCountry:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Guests [Age 5 and Up] *"}),n.jsx("input",{type:"number",required:!0,min:"1",value:N.numberOfGuestsAge5Up,onChange:V=>w({...N,numberOfGuestsAge5Up:parseInt(V.target.value)||1}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Guests [Under Age 5] *"}),n.jsx("input",{type:"number",required:!0,min:"0",value:N.numberOfGuestsUnder5,onChange:V=>w({...N,numberOfGuestsUnder5:parseInt(V.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(Qn,{className:"w-5 h-5 mr-2 text-teal-600"}),"Contact Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),n.jsx("input",{type:"tel",required:!0,value:N.phone,onChange:V=>w({...N,phone:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),n.jsx("input",{type:"email",required:!0,value:N.email,onChange:V=>w({...N,email:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[n.jsx(Qb,{className:"w-5 h-5 mr-2 text-teal-600"}),"Travel Details"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cruise Ship Name or Resort Name *"}),n.jsxs("select",{required:!0,value:N.cruiseShipOrResortName,onChange:V=>{const G=V.target.value;w({...N,cruiseShipOrResortName:G});const se=R.find(ae=>String(ae.title)===G||String(ae.id)===G);P(se||null)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent bg-white",children:[n.jsx("option",{value:"",children:"Select a meeting point"}),R.map(V=>n.jsx("option",{value:V.title,children:V.title},V.id))]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose the meeting point where you will be picked up."}),O&&n.jsxs("div",{className:"mt-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[n.jsx("h4",{className:"text-sm font-semibold text-green-800",children:"Meeting Point"}),O.zone&&n.jsxs("div",{className:"text-sm text-green-700 mt-1",children:[n.jsx("strong",{children:"Zone:"})," ",O.zone]}),O.instructions&&n.jsx("div",{className:"text-sm text-gray-700 mt-2",children:O.instructions}),O.map_url&&n.jsx("div",{className:"mt-3",children:n.jsx("a",{href:O.map_url,target:"_blank",rel:"noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors",children:"Map"})})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(ei,{className:"w-4 h-4 mr-1"}),"Requested Tour Date *"]}),n.jsx("input",{type:"date",required:!0,value:N.requestedTourDate,min:j,onChange:V=>w({...N,requestedTourDate:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})]})]}),s&&m.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Additional Options (Optional)"}),n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto border border-gray-200 rounded-lg p-4",children:m.map(V=>{const G=y.includes(V.id);return n.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg transition-colors ${G?"bg-gradient-to-r from-green-50 to-green-100 ring-1 ring-green-200":"hover:bg-gray-50"}`,children:[n.jsx("input",{type:"checkbox",id:`option-${V.id}`,checked:G,onChange:()=>Y(V.id),className:"mt-1 w-5 h-5 text-teal-600 rounded focus:ring-teal-500"}),n.jsx("div",{className:"flex-shrink-0",children:V.image?n.jsx("img",{src:V.image,alt:V.title,className:"w-16 h-12 object-cover rounded-md"}):n.jsx("div",{className:"w-16 h-12 bg-gray-200 rounded-md"})}),n.jsxs("label",{htmlFor:`option-${V.id}`,className:"flex-1 cursor-pointer",children:[n.jsx("div",{className:"font-semibold text-gray-800 text-sm",children:V.title}),V.description&&n.jsx("div",{className:"text-sm mt-1 truncate text-red-500",children:V.description.length>120?V.description.slice(0,117)+"...":V.description}),n.jsxs("div",{className:"flex items-center text-xs text-gray-600 mt-1",children:[n.jsxs("span",{className:"mr-3",children:["$",V.price??0]}),V.duration&&n.jsx("span",{children:V.duration})]})]})]},V.id)})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[n.jsx(Hb,{className:"w-4 h-4 mr-1"}),"Comments or Questions *"]}),n.jsx("textarea",{required:!0,value:N.comments,onChange:V=>w({...N,comments:V.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Any special requests or questions?"})]}),n.jsx("div",{className:"mt-2",children:n.jsxs("div",{className:"flex items-center justify-end space-x-6 pt-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Precio por persona"}),n.jsx("div",{className:"text-lg font-bold text-gray-800",children:re!=null?`$${re.toFixed(2)}`:""})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Invitados (5+)"}),n.jsx("div",{className:"text-lg font-bold text-gray-800",children:Number(N.numberOfGuestsAge5Up)})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Adicionales (total)"}),n.jsxs("div",{className:"text-lg font-bold text-gray-800",children:["$",Z.toFixed(2)]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Total estimado"}),n.jsxs("div",{className:"text-xl font-extrabold text-teal-600",children:["$",((re??0)*Number(N.numberOfGuestsAge5Up)+Z).toFixed(2)]})]})]})}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsx("button",{type:"button",onClick:a,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:f,className:"px-8 py-3 bg-gradient-to-r from-teal-600 to-blue-600 text-white rounded-lg font-semibold hover:from-teal-700 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Submitting...":"Submit Booking"})]})]})]})]})},t1=()=>{const{id:i}=Wc(),t=hr(),s=Re(),[a,l]=k.useState(null),[c,d]=k.useState(!0);k.useEffect(()=>{i&&f(i)},[i]);const f=async p=>{d(!0);try{const{data:m,error:x}=await s.from("private_tours").select("*").eq("id",Number(p)).single();if(x)throw x;l(m)}catch(m){console.error("Error loading tour:",m)}finally{d(!1)}};return c?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-transparent relative z-10",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-500"})}):a?n.jsx("div",{className:"min-h-screen bg-transparent relative z-10",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-20",children:n.jsx(e1,{tourId:a.id,tourTitle:a.title,showAdditionalOptions:!!a.show_additional_options,onClose:()=>t("/private-tour"),isPage:!0})})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-transparent relative z-10",children:n.jsxs("div",{className:"text-center bg-white/80 backdrop-blur-sm rounded-lg p-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Tour not found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"The requested private tour could not be found."}),n.jsx("button",{onClick:()=>t("/private-tour"),className:"px-6 py-3 bg-teal-600 text-white rounded-lg",children:"Back to Tours"})]})})},r1=()=>{const i=dr(),t=hr(),{email:s,tourDate:a,cruiseName:l}=i.state||{};return!s||!l?(t("/private-tour"),null):n.jsx("div",{className:"min-h-screen bg-transparent relative z-10 flex items-center justify-center py-20 px-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full p-8 md:p-12",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(lt,{className:"w-12 h-12 text-green-600"})})}),n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Form Submitted Successfully!"}),n.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed",children:["Thanks for filling out our form to check for tour availability/pricing",a&&n.jsxs("span",{className:"font-semibold text-teal-600",children:[" ","for ",a]})," ","arriving on the"," ",n.jsx("span",{className:"font-semibold text-teal-600",children:l}),"!"]})]}),n.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6 mb-6 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Kf,{className:"w-6 h-6 text-yellow-600 mr-3 flex-shrink-0 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"YOUR TOUR IS NOT CONFIRMED...YET!"}),n.jsx("p",{className:"text-gray-700",children:"Look for an email containing Tour Availability and Tour Pricing soon."})]})]})}),n.jsx("div",{className:"bg-blue-50 p-6 rounded-lg mb-6",children:n.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We will try to respond to your information request as soon as possible -- please allow us a little extra time, as internet connectivity can be a problem on Roatan!"})}),n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Please double-check the email address that you input:"}),n.jsxs("div",{className:"flex items-center justify-center bg-white p-4 rounded-lg border-2 border-teal-500",children:[n.jsx(Ka,{className:"w-5 h-5 text-teal-600 mr-3"}),n.jsx("span",{className:"text-xl font-mono text-gray-900",children:s})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-3 text-center",children:"If it's incorrect, please re-submit your form with the correct information."})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 p-6 rounded-lg mb-8",children:[n.jsxs("h3",{className:"text-lg font-bold text-red-900 mb-3 flex items-center",children:[n.jsx(Kf,{className:"w-5 h-5 mr-2"}),"IMPORTANT NOTE:"]}),n.jsxs("div",{className:"space-y-3 text-gray-700 text-sm leading-relaxed",children:[n.jsxs("p",{children:["If the email address shown above IS correct and you don't receive a copy of this Form Submission in your email, please check your"," ",n.jsx("span",{className:"font-bold text-red-700",children:"SPAM"})," or"," ",n.jsx("span",{className:"font-bold text-red-700",children:"PROMOTIONS"})," ","folders!"]}),n.jsx("p",{children:"This is especially important for Gmail accounts: Without asking your permission first, Gmail now automatically filters any information-filled emails that we send into their PROMOTIONS folder so you will no longer be able to see them in your INBOX. This means that unless you change your settings in Gmail, you won't be seeing any of the info I send to your INBOX...you'll have to look for it in your PROMOTIONS folder."})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx("button",{onClick:()=>t("/private-tour"),className:"px-8 py-3 bg-gradient-to-r from-teal-600 to-blue-600 text-white rounded-lg font-semibold hover:from-teal-700 hover:to-blue-700 transition-all",children:"Back to Private Tours"}),n.jsx("button",{onClick:()=>t("/"),className:"px-8 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-all",children:"Go to Home"})]})]})})},n1=()=>{const{id:i}=Wc(),t=hr(),{t:s}=Wt(),[a,l]=k.useState(null),[c,d]=k.useState(!0),[f,p]=k.useState(!1),[m,x]=k.useState(!1),[y,b]=k.useState(!1),[_,j]=k.useState("description"),[N,w]=k.useState(!1),[R,U]=k.useState([]),[O,P]=k.useState(0),[I,F]=k.useState(null),H=Re();k.useEffect(()=>{let G=!0;return(async()=>{try{const{data:se,error:ae}=await H.from("admin").select("*").maybeSingle();if(ae)throw ae;G&&F(se||null)}catch(se){console.error("Error loading admin in ServiceDetailPage",se)}})(),()=>{G=!1}},[H]),k.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),te()},[i]),k.useEffect(()=>{const G=se=>{if(N){if(se.key==="Escape"){w(!1);return}R.length!==0&&(se.key==="ArrowLeft"&&P(ae=>(ae-1+R.length)%R.length),se.key==="ArrowRight"&&P(ae=>(ae+1)%R.length))}};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[N,R.length]);const te=async()=>{try{const G=Re();let se;const ae=Number(i);if(Number.isNaN(ae)?se=await G.from("paquetes").select("*").eq("titulo",i).maybeSingle():se=await G.from("paquetes").select("*").eq("id",ae).maybeSingle(),se.error)throw se.error;const $=se.data;if(!$){t("/");return}const E=Array.from({length:10}).map((B,ee)=>$[`imagen${ee+1}`]).filter(Boolean);U(E);let L;try{if($.incluye){const B=JSON.parse($.incluye);Array.isArray(B)&&(L=B.map(String))}}catch{L=void 0}const C={id:String($.id),name:$.titulo||"",description:$.descripcion||"",personPrice:$.precio_por_persona??$.price??0,price:$.precio_por_persona??$.price??0,image:E[0]||"",duration:$.duracion||"",included:L,category:$.categoria||"adventure"};l(C)}catch(G){console.error("Error loading paquete from Supabase:",G),t("/")}finally{d(!1)}},re=async()=>{if(navigator.share&&a)try{await navigator.share({title:a.name,text:a.description,url:window.location.href})}catch{navigator.clipboard.writeText(window.location.href),alert("Enlace copiado al portapapeles!")}else navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")},Z=()=>{b(!y)},q=G=>{switch(G){case"water-adventure":return"";case"nature":return"";case"romantic":return"";default:return""}},Y=G=>{switch(G){case"water-adventure":return"from-blue-500 to-cyan-500";case"nature":return"from-green-500 to-emerald-500";case"romantic":return"from-pink-500 to-rose-500";default:return"from-teal-500 to-blue-500"}};function ce(G){if(G==null)return"";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(G)}catch{return`$${G}`}}const V=[{id:"description",label:"Description"},{id:"included",label:"Included"},{id:"requirements",label:"Requirements"}];return c?n.jsx("div",{className:"min-h-screen pt-20",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-32 mb-6"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"h-96 bg-gray-200 rounded-2xl"}),n.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),n.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"}),n.jsx("div",{className:"h-32 bg-gray-200 rounded"}),n.jsx("div",{className:"h-12 bg-gray-200 rounded"})]})]})]})})}):a?n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-teal-50",children:[n.jsxs("div",{className:"relative h-[60vh] min-h-[400px] overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-black/40 to-black/70"})]}),n.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 pt-24 pb-6",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Se,{to:"/",className:"flex items-center text-white hover:text-teal-300 transition-all duration-200 bg-black/30 backdrop-blur-sm px-4 py-2 rounded-full",children:[n.jsx(Br,{className:"w-5 h-5 mr-2"}),s.common.back]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:Z,className:`p-3 rounded-full backdrop-blur-sm transition-all duration-200 ${y?"text-red-500 bg-white/90 shadow-lg":"text-white bg-black/30 hover:bg-white/20"}`,children:n.jsx(zb,{className:`w-5 h-5 ${y?"fill-current":""}`})}),n.jsx("button",{onClick:re,className:"p-3 rounded-full text-white bg-black/30 backdrop-blur-sm hover:bg-white/20 transition-all duration-200",children:n.jsx(Jb,{className:"w-5 h-5"})})]})]})})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-10 pb-8",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-3xl",children:[n.jsx("div",{className:"mb-4",children:n.jsxs("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-white text-sm font-semibold bg-gradient-to-r ${Y(a.category||"default")} shadow-lg`,children:[n.jsx("span",{className:"mr-2 text-lg",children:q(a.category||"default")}),a.category==="water-adventure"?"Water Adventure":a.category==="nature"?"Nature":a.category==="romantic"?"Romantic":"Adventure"]})}),n.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 drop-shadow-2xl animate-fadeInUp",children:a.name}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-white/90",children:[n.jsxs("div",{className:"flex items-center bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full",children:[n.jsx(Xt,{className:"w-5 h-5 mr-2"}),n.jsx("span",{className:"font-medium",children:a.duration||"3-4 hours"})]}),n.jsxs("div",{className:"flex items-center bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full",children:[n.jsx(Mr,{className:"w-5 h-5 mr-2"}),n.jsx("span",{className:"font-medium",children:"Bay Islands"})]}),n.jsxs("div",{className:"flex items-center bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full",children:[n.jsx($r,{className:"w-5 h-5 mr-2"}),n.jsx("span",{className:"font-medium"})]})]})]})})})]}),n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 -mt-20 relative z-10",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[R.length>1&&n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 animate-fadeInUp",style:{animationDelay:"0.1s"},children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Photo Gallery"}),n.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:R.slice(0,8).map((G,se)=>n.jsxs("button",{onClick:()=>{P(se),w(!0)},className:"relative overflow-hidden rounded-xl aspect-square group",children:[n.jsx("img",{src:G,alt:`View ${se+1}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300"})]},se))})]}),N&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-4",onClick:G=>{G.target===G.currentTarget&&w(!1)},children:n.jsxs("div",{className:"relative max-w-5xl w-full",onClick:G=>G.stopPropagation(),children:[n.jsx("button",{onClick:()=>w(!1),className:"absolute top-4 right-4 text-white text-xl bg-black/30 rounded-full p-2","aria-label":"Close gallery",children:""}),n.jsxs("div",{className:"bg-black rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-center relative",children:[n.jsx("button",{onClick:()=>P(G=>(G-1+R.length)%R.length),className:"absolute left-2 text-white/90 bg-black/30 rounded-full p-2","aria-label":"Previous",children:""}),n.jsx("img",{src:R[O],alt:`Imagen ${O+1}`,className:"max-h-[70vh] mx-auto object-contain"}),n.jsx("button",{onClick:()=>P(G=>(G+1)%R.length),className:"absolute right-2 text-white/90 bg-black/30 rounded-full p-2","aria-label":"Next",children:""})]}),n.jsx("div",{className:"p-3 bg-gray-900/80 flex gap-2 overflow-x-auto",children:R.map((G,se)=>n.jsx("button",{onClick:()=>P(se),className:`flex-shrink-0 border ${se===O?"border-white":"border-transparent"} rounded`,children:n.jsx("img",{src:G,alt:`thumb-${se}`,className:"w-24 h-16 object-cover"})},se))})]})]})}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden animate-fadeInUp",style:{animationDelay:"0.2s"},children:[n.jsx("div",{className:"flex border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:V.map(G=>n.jsxs("button",{onClick:()=>j(G.id),className:`flex-1 px-4 py-4 text-sm font-semibold transition-all duration-300 relative ${_===G.id?"text-teal-600 bg-white":"text-gray-500 hover:text-gray-700 hover:bg-white/50"}`,children:[G.label,_===G.id&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-teal-500 to-blue-500"})]},G.id))}),n.jsxs("div",{className:"p-8",children:[_==="description"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"text-gray-700 leading-relaxed text-lg",dangerouslySetInnerHTML:{__html:Zt(a.description)}}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-8",children:n.jsxs("div",{className:"flex items-start p-4 bg-gradient-to-br from-teal-50 to-blue-50 rounded-xl border border-teal-100",children:[n.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm mr-4",children:n.jsx(Xt,{className:"w-6 h-6 text-teal-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-gray-600 mb-1",children:"Duration"}),n.jsx("div",{className:"text-lg font-bold text-gray-800",children:a.duration||"3-4 hours"})]})]})})]}),_==="included"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.included&&a.included.length>0?a.included.map((G,se)=>n.jsxs("div",{className:"flex items-start p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border border-green-100",children:[n.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm mr-3 flex-shrink-0",children:n.jsx(Ir,{className:"w-5 h-5 text-green-600"})}),n.jsx("span",{className:"text-gray-700 font-medium pt-1",children:G})]},se)):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-start p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border border-green-100",children:[n.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm mr-3",children:n.jsx(Ir,{className:"w-5 h-5 text-green-600"})}),n.jsx("span",{className:"text-gray-700 font-medium pt-1",children:"Certified guide"})]}),n.jsxs("div",{className:"flex items-start p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border border-green-100",children:[n.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm mr-3",children:n.jsx(Ir,{className:"w-5 h-5 text-green-600"})}),n.jsx("span",{className:"text-gray-700 font-medium pt-1",children:"Safety equipment"})]}),n.jsxs("div",{className:"flex items-start p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border border-green-100",children:[n.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm mr-3",children:n.jsx(Ir,{className:"w-5 h-5 text-green-600"})}),n.jsx("span",{className:"text-gray-700 font-medium pt-1",children:"Hotel pickup"})]}),n.jsxs("div",{className:"flex items-start p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border border-green-100",children:[n.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm mr-3",children:n.jsx(Ir,{className:"w-5 h-5 text-green-600"})}),n.jsx("span",{className:"text-gray-700 font-medium pt-1",children:"Snacks and water"})]})]})}),_==="requirements"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("p",{className:"text-gray-700 text-lg leading-relaxed",children:a.requirements||"No special requirements. Suitable for all ages and fitness levels."}),n.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border-2 border-amber-200 rounded-2xl p-6 shadow-lg",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 bg-amber-100 rounded-lg mr-3",children:n.jsx("span",{className:"text-2xl",children:""})}),n.jsx("h4",{className:"font-bold text-amber-900 text-lg",children:"Important Recommendations"})]}),n.jsxs("ul",{className:"space-y-3 text-amber-800",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-amber-600 mr-3 font-bold",children:""}),n.jsx("span",{className:"font-medium",children:"Bring sunscreen and insect repellent"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-amber-600 mr-3 font-bold",children:""}),n.jsx("span",{className:"font-medium",children:"Wear comfortable clothing and non-slip shoes"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-amber-600 mr-3 font-bold",children:""}),n.jsx("span",{className:"font-medium",children:"Bring a change of clothes for water activities"})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-amber-600 mr-3 font-bold",children:""}),n.jsx("span",{className:"font-medium",children:"Stay hydrated during the tour"})]})]})]})]}),_==="location"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx(Mr,{className:"w-5 h-5 text-teal-500 mr-2"}),n.jsx("span",{className:"font-medium",children:"Roatn Este, Bay Islands, Honduras"})]}),n.jsx("div",{className:"bg-gray-100 rounded-lg h-48 flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-gray-500",children:[n.jsx(Mr,{className:"w-12 h-12 mx-auto mb-2"}),n.jsx("p",{children:"Mapa interactivo"}),n.jsx("p",{className:"text-sm",children:"Meeting point: Roatn East End"})]})}),n.jsx("p",{className:"text-sm text-gray-600",children:"Transport from your hotel is included. We will contact you to coordinate the pickup point."})]})]})]})]}),n.jsx("div",{className:"lg:col-span-1 space-y-6",children:n.jsxs("div",{className:"lg:sticky lg:top-24 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border-2 border-gray-100 animate-fadeInUp",style:{animationDelay:"0.3s"},children:[n.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-blue-600 p-6 text-white",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm font-semibold uppercase tracking-wide mb-2 opacity-90"}),n.jsx("div",{className:"text-5xl font-bold mb-2",children:ce(a.price)}),n.jsx("p",{className:"text-sm opacity-90",children:"No additional fees"})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("button",{onClick:()=>x(!0),className:"w-full bg-gradient-to-r from-teal-500 to-blue-600 text-white py-4 rounded-xl font-bold text-lg hover:from-teal-600 hover:to-blue-700 transition-all duration-300 transform hover:scale-105 hover:shadow-2xl shadow-lg",children:[n.jsx(ei,{className:"w-5 h-5 inline mr-2"}),"Book Now"]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-200"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-3 bg-white text-gray-500 font-medium",children:"or contact us"})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("a",{href:I!=null&&I.celular?`tel:${I.celular.replace(/\s+/g,"")}`:"tel:+50432267504",className:"flex items-center justify-center px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-semibold",children:[n.jsx(Qn,{className:"w-4 h-4 mr-2"}),"Call"]}),n.jsxs("a",{href:I!=null&&I.celular?`https://wa.me/${I.celular.replace(/[^0-9+]/g,"")}`:"https://wa.me/50432267504",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center px-4 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all duration-200 font-semibold shadow-md hover:shadow-lg",children:[n.jsx(Ma,{className:"w-4 h-4 mr-2"}),"WhatsApp"]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl p-6 shadow-lg animate-fadeInUp",style:{animationDelay:"0.4s"},children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:n.jsx("span",{className:"text-2xl",children:""})}),n.jsx("h3",{className:"font-bold text-green-900 text-lg",children:"Book with Confidence"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(Ir,{className:"w-5 h-5 mr-3 text-green-600 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-green-800 font-medium",children:"Certified and experienced guides"})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(Ir,{className:"w-5 h-5 mr-3 text-green-600 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-green-800 font-medium",children:"Liability insurance included"})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(Ir,{className:"w-5 h-5 mr-3 text-green-600 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-green-800 font-medium",children:"Over 500 satisfied adventurers"})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 rounded-2xl p-6 border-2 border-gray-200 shadow-lg animate-fadeInUp",style:{animationDelay:"0.5s"},children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("div",{className:"p-2 bg-teal-100 rounded-lg mr-3",children:n.jsx("span",{className:"text-2xl",children:""})}),n.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Have Questions?"})]}),n.jsx("p",{className:"text-gray-600 mb-4 font-medium",children:"Our team is ready to help you plan your perfect adventure."}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center p-3 bg-white rounded-lg border border-gray-200",children:[n.jsx("div",{className:"p-2 bg-teal-50 rounded-lg mr-3",children:n.jsx(Qn,{className:"w-4 h-4 text-teal-600"})}),n.jsx("span",{className:"font-semibold text-gray-800",children:(I==null?void 0:I.celular)??"+504 3226-7504"})]}),n.jsxs("div",{className:"flex items-center p-3 bg-white rounded-lg border border-gray-200",children:[n.jsx("div",{className:"p-2 bg-green-50 rounded-lg mr-3",children:n.jsx(Ma,{className:"w-4 h-4 text-green-600"})}),n.jsx("span",{className:"font-semibold text-gray-800",children:I!=null&&I.celular?"WhatsApp 24/7":"WhatsApp available"})]}),n.jsxs("div",{className:"flex items-center p-3 bg-white rounded-lg border border-gray-200",children:[n.jsx("div",{className:"p-2 bg-blue-50 rounded-lg mr-3",children:n.jsx(Xt,{className:"w-4 h-4 text-blue-600"})}),n.jsx("span",{className:"font-semibold text-gray-800",children:"Response within 1 hour"})]})]})]})]})})]})}),n.jsx(Gp,{isOpen:m,onClose:()=>x(!1),onAccept:()=>{x(!1),p(!0)}}),f&&n.jsx(bp,{isOpen:f,onClose:()=>p(!1),selectedTour:a})]}):n.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Tour not found"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"The tour you are looking for doesn't exist or has been removed."}),n.jsxs(Se,{to:"/",className:"inline-flex items-center px-6 py-3 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors duration-200",children:[n.jsx(Br,{className:"w-5 h-5 mr-2"}),"Back"]})]})})},s1=()=>{const{t:i}=Wt(),[t,s]=k.useState([]),[a,l]=k.useState(!0),[c,d]=k.useState(null),[f,p]=k.useState(!1),[m,x]=k.useState([]),[y,b]=k.useState(0),_=Re(),[j,N]=k.useState(null);k.useEffect(()=>{w()},[]),k.useEffect(()=>{let P=!0;return(async()=>{try{const{data:I,error:F}=await _.from("admin").select("*").maybeSingle();if(F)throw F;P&&N(I||null)}catch(I){console.error("Error loading admin for gallery:",I)}})(),()=>{P=!1}},[_]);const w=async()=>{l(!0);try{const{data:P,error:I}=await _.from("gallery").select("*").order("id",{ascending:!1}).limit(100);if(I)throw I;const F=(P||[]).map(H=>({id:String(H.id),image:H.portada||H.imagen1||H.imagen2||H.imagen3||H.imagen4||"",title:H.title||H.titulo||"",description:H.description||H.descripcion||"",category:H.category||"general",images:[H.portada,H.imagen1,H.imagen2,H.imagen3,H.imagen4].filter(Boolean)}));s(F)}catch(P){console.error("Error loading gallery from Supabase:",P)}finally{l(!1)}},R=()=>{d(null),p(!1),x([]),b(0),document.body.style.overflow="unset"};k.useEffect(()=>{if(!f)return;const P=I=>{I.key==="Escape"&&R(),I.key==="ArrowLeft"&&b(F=>Math.max(0,F-1)),I.key==="ArrowRight"&&b(F=>Math.min(m.length-1,F+1))};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[f,m.length]);const U=P=>{switch(P){case"mangroves":return"Mangroves";case"underwater":return"Underwater";case"nature":return"Nature";case"sunset":return"Sunset";case"wildlife":return"Wildlife";case"aerial":return"Aerial";default:return"General"}},O=P=>{switch(P){case"mangroves":return"bg-green-500";case"underwater":return"bg-blue-500";case"nature":return"bg-emerald-500";case"sunset":return"bg-orange-500";case"wildlife":return"bg-yellow-500";case"aerial":return"bg-purple-500";default:return"bg-teal-500"}};return a?n.jsxs("div",{className:"min-h-screen pt-20 bg-transparent",children:[n.jsx("section",{className:"py-20 bg-transparent",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsx("div",{className:"h-12 bg-white/20 rounded w-96 mx-auto mb-4"}),n.jsx("div",{className:"h-6 bg-white/20 rounded w-2/3 mx-auto"})]})})}),n.jsx("section",{className:"py-12 bg-transparent",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(12)].map((P,I)=>n.jsx("div",{className:"animate-pulse",children:n.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl h-80"})},I))})})})]}):n.jsxs("div",{className:"min-h-screen pt-20 bg-transparent",children:[n.jsx("section",{className:"relative py-16 bg-transparent overflow-hidden",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"text-center max-w-4xl mx-auto mb-8",children:[n.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-white via-white to-white/80 bg-clip-text text-transparent animate-fade-in",children:i.gallery.title}),n.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-6 animate-fade-in-up",children:i.gallery.subtitle}),n.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-white/10 backdrop-blur-md rounded-full text-white border border-white/20 animate-fade-in-up",children:[n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),n.jsx("span",{className:"font-semibold",children:t.length}),n.jsx("span",{className:"text-white/80",children:"amazing moments captured"})]})]})})}),n.jsx("section",{className:"py-8 pb-20 bg-transparent",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:t.length===0?n.jsxs("div",{className:"text-center py-16 bg-white/5 backdrop-blur-sm rounded-3xl border border-white/10",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No photos found"}),n.jsx("p",{className:"text-white/70 mb-6",children:"There are no photos yet."})]}):n.jsx("div",{className:"columns-1 sm:columns-2 lg:columns-3 xl:columns-4 gap-6 space-y-6",children:t.map((P,I)=>n.jsx("div",{className:"group relative break-inside-avoid overflow-hidden rounded-3xl bg-white/5 backdrop-blur-sm border border-white/10 hover:border-white/30 shadow-xl hover:shadow-2xl transition-all duration-700 cursor-pointer animate-fade-in-up",onClick:()=>{const F=P.images||[P.image];!F||F.length===0||(x(F),b(0),p(!0),document.body.style.overflow="hidden")},style:{animationDelay:`${I*.05}s`,animationFillMode:"both"},children:n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:P.image,alt:P.title,className:"w-full h-auto object-cover group-hover:scale-105 transition-transform duration-1000 ease-out",loading:"lazy"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-in-out pointer-events-none"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-60 group-hover:opacity-80 transition-opacity duration-500"}),n.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-6 translate-y-4 group-hover:translate-y-0 transition-transform duration-500",children:[n.jsx("div",{className:"mb-3 opacity-0 group-hover:opacity-100 transition-all duration-500 delay-100 transform translate-y-2 group-hover:translate-y-0",children:n.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-white text-xs font-medium backdrop-blur-md bg-white/10 border border-white/20 ${O(P.category||"general").replace("bg-","text-")}`,children:[n.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${O(P.category||"general")}`}),U(P.category||"general")]})}),n.jsx("h3",{className:"text-white font-bold text-lg mb-2 drop-shadow-md leading-tight",children:P.title}),P.description&&n.jsx("div",{className:"text-gray-300 text-xs line-clamp-2 opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-200 leading-relaxed",dangerouslySetInnerHTML:{__html:Zt(P.description)}})]}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 pointer-events-none",children:n.jsx("div",{className:"w-14 h-14 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center border border-white/30 transform scale-50 group-hover:scale-100 transition-transform duration-500 cubic-bezier(0.34, 1.56, 0.64, 1)",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})})]})},P.id))})})}),f&&n.jsxs("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-xl z-50 flex items-center justify-center p-4 animate-fade-in",onClick:R,children:[n.jsx("button",{onClick:P=>{P.stopPropagation(),R()},className:"absolute top-6 right-6 z-20 w-14 h-14 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-white/20 hover:rotate-90 transition-all duration-300 border border-white/20 group","aria-label":"Close",children:n.jsx(St,{className:"w-7 h-7 group-hover:scale-110 transition-transform"})}),m.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:P=>{P.stopPropagation(),b(I=>Math.max(0,I-1))},disabled:y===0,className:"absolute left-6 z-20 w-14 h-14 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-all duration-300 border border-white/20 disabled:opacity-30 disabled:cursor-not-allowed hover:scale-110 group","aria-label":"Previous",children:n.jsx(si,{className:"w-7 h-7 group-hover:-translate-x-1 transition-transform"})}),n.jsx("button",{onClick:P=>{P.stopPropagation(),b(I=>Math.min(m.length-1,I+1))},disabled:y===m.length-1,className:"absolute right-6 z-20 w-14 h-14 bg-white/10 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-white/20 transition-all duration-300 border border-white/20 disabled:opacity-30 disabled:cursor-not-allowed hover:scale-110 group","aria-label":"Next",children:n.jsx(ii,{className:"w-7 h-7 group-hover:translate-x-1 transition-transform"})})]}),n.jsx("div",{className:"relative max-w-7xl max-h-[85vh] w-full h-full flex items-center justify-center",onClick:P=>P.stopPropagation(),children:n.jsxs("div",{className:"relative animate-scale-in",children:[n.jsx("img",{src:m[y],alt:`Imagen ${y+1}`,className:"max-w-full max-h-[85vh] object-contain rounded-2xl shadow-2xl border-4 border-white/10"},y),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-500/20 via-blue-500/20 to-purple-500/20 rounded-2xl blur-3xl -z-10 opacity-50"})]})}),n.jsxs("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex flex-col items-center gap-4",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-full px-6 py-3 text-white font-semibold border border-white/20 shadow-lg",children:[n.jsx("span",{className:"text-teal-300",children:y+1}),n.jsx("span",{className:"text-white/60 mx-2",children:"/"}),n.jsx("span",{className:"text-white/80",children:m.length})]}),m.length>1&&m.length<=10&&n.jsx("div",{className:"flex gap-2 flex-wrap justify-center max-w-2xl",children:m.map((P,I)=>n.jsx("button",{onClick:F=>{F.stopPropagation(),b(I)},className:`relative w-16 h-16 rounded-lg overflow-hidden transition-all duration-300 border-2 ${I===y?"border-teal-400 scale-110 shadow-lg shadow-teal-500/50":"border-white/20 hover:border-white/40 hover:scale-105 opacity-60 hover:opacity-100"}`,children:n.jsx("img",{src:P,alt:`Thumbnail ${I+1}`,className:"w-full h-full object-cover"})},I))})]})]})]})},i1=()=>n.jsxs("div",{className:"min-h-screen pt-20",children:[n.jsxs("section",{className:"py-20 bg-gradient-to-br from-teal-500 to-blue-600 text-white relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20"}),n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative",children:n.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[n.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Contact Us"}),n.jsx("p",{className:"text-xl md:text-2xl text-blue-100 mb-8",children:"We're here to make your Roatn adventure come true"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-12",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold",children:"24/7"}),n.jsx("div",{className:"text-blue-200",children:"WhatsApp Availability"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold",children:"< 1h"}),n.jsx("div",{className:"text-blue-200",children:"Response Time"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold",children:"3+"}),n.jsx("div",{className:"text-blue-200",children:"Years of Experience"})]})]})]})})]}),n.jsx(Hp,{}),n.jsx("section",{className:"py-16 bg-white",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("div",{className:"text-center mb-12",children:n.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Frequently Asked Questions"})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"What is the best time to visit?"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Roatan is perfect year-round. The dry season runs from February to August, but our tours operate all year with the best safety conditions."})]}),n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"What should I bring for the tours?"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"We recommend sunscreen, insect repellent, comfortable clothing, non-slip shoes, and a change of clothes for water activities. We provide all necessary equipment."})]}),n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Are the tours suitable for children?"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Yes, most of our tours are family-friendly. Some have age restrictions for safety. Check each tour's details or contact us for specific recommendations."})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Where does the tour start if I come by cruise ship?"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Each excursion has a designated meeting point, which we will confirm at the time of booking, to ensure convenience and easy access."})]}),n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"What payment methods do you accept?"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"We accept payments via PayPal, Zelle, credit or debit cards, and bank transfers. You can also pay in cash (dollars or lempiras) on the day of the tour. We do not take online reservations. Contact us directly to confirm your reservation and arrange payment."})]}),n.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"What is your cancellation policy?"}),n.jsxs("p",{className:"text-gray-600 text-sm",children:["You can view our full refund policy ",n.jsx(Se,{to:"/politica-de-cancelacion",className:"text-teal-600 underline",children:"here"}),"."]})]})]})]})]})})})]});function a1(){const[i,t]=k.useState([]),[s,a]=k.useState(!0),[l,c]=k.useState(null),[d,f]=k.useState(null),[p,m]=k.useState(!1),[x,y]=k.useState(null),[b,_]=k.useState([null,null,null]),[j,N]=k.useState(!1),w=Re(),[R,U]=k.useState(""),[O,P]=k.useState(""),[I,F]=k.useState(""),[H,te]=k.useState(!1),[re,Z]=k.useState(null);k.useEffect(()=>{q(),Y()},[]);const q=async()=>{a(!0);try{const{data:E,error:L}=await w.from("admin").select("*");if(L)throw L;t(E||[])}catch(E){c(E.message)}finally{a(!1)}},Y=async()=>{try{const{data:E,error:L}=await w.from("admins").select("*").limit(1).maybeSingle();if(L){console.warn("Error loading admin credentials:",L.message);return}E&&U(E.username||"")}catch(E){console.warn("Error loading admin credentials",E)}},ce=E=>{y({...E}),_([null,null,null]),m(!0),c(null),f(null)},V=()=>{m(!1),y(null),_([null,null,null]),c(null),f(null)},G=E=>{if(!x)return;const{name:L,value:C}=E.target;y({...x,[L]:C})},se=(E,L)=>{var B;const C=((B=L.target.files)==null?void 0:B[0])||null;_(ee=>{const he=[...ee];return he[E]=C,he})},ae=async()=>{var E;if(!(!x||!x.id)){N(!0),c(null),f(null);try{const{id:L,...C}=x;for(let he=0;he<b.length;he++){const ge=b[he];if(ge){const we=he===0?"video_principal":he===1?"portada_galeria":"logo",Ee=`admin/${Date.now()}_${we}_${ge.name}`,_e=await w.storage.from("principal").upload(Ee,ge,{upsert:!0});if(_e.error)throw new Error("Error uploading file: "+_e.error.message);const Ce=w.storage.from("principal").getPublicUrl(Ee);(E=Ce==null?void 0:Ce.data)!=null&&E.publicUrl&&(C[we]=Ce.data.publicUrl)}}const{data:B,error:ee}=await w.from("admin").update(C).eq("id",L).select();if(ee)throw ee;B&&B.length>0&&(t(he=>he.map(ge=>ge.id===L?B[0]:ge)),f("Settings updated successfully!"),setTimeout(()=>V(),1500))}catch(L){c(L.message||"An error occurred")}finally{N(!1)}}},$=async()=>{if(Z(null),!R){Z("Username is required");return}if(O&&O!==I){Z("Passwords do not match");return}te(!0);try{let E={username:R};if(O){const ee=await(await Nm(async()=>{const{default:he}=await import("./bcrypt-CBpq5zRG.js").then(ge=>ge.b);return{default:he}},[])).default.hash(O,10);E.password_hash=ee}const{data:L,error:C}=await w.from("admins").upsert([E]).select();C?Z("Error saving credentials: "+C.message):(Z("Credentials saved successfully"),P(""),F(""))}catch(E){Z("Error: "+String((E==null?void 0:E.message)||E))}te(!1)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 pt-20 px-4 pb-12",children:[n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsx("div",{className:"flex items-center justify-between mb-8",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Se,{to:"/admin",className:"p-2 rounded-full bg-white shadow hover:bg-gray-100 transition-colors",children:n.jsx(Br,{className:"w-5 h-5 text-gray-700"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Site Settings"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your website configuration and content"})]})]})}),l&&!p&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-2 border-red-200 rounded-xl flex items-start",children:[n.jsx(er,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-red-800",children:l})]}),d&&!p&&n.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-200 rounded-xl flex items-start",children:[n.jsx(lt,{className:"w-5 h-5 text-green-600 mr-3 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-green-800",children:d})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8 border-2 border-purple-100",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl",children:n.jsx(Pc,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Admin Credentials"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Update admin access credentials"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),n.jsx("input",{value:R,onChange:E=>U(E.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-colors"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),n.jsx("input",{type:"password",value:O,onChange:E=>P(E.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-colors",placeholder:"Leave blank to keep current"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),n.jsx("input",{type:"password",value:I,onChange:E=>F(E.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-colors",placeholder:"Repeat password"})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:$,disabled:H,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-pink-700 transition-all shadow-lg disabled:opacity-50",children:H?"Saving...":"Update Credentials"}),re&&n.jsx("span",{className:`text-sm font-medium ${re.includes("success")?"text-green-600":"text-red-600"}`,children:re})]})]}),s?n.jsxs("div",{className:"text-center py-20",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-b-2 border-purple-600 mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading settings..."})]}):i.length===0?n.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl shadow-lg",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No settings found"}),n.jsx("p",{className:"text-gray-600",children:"Please contact support to initialize settings"})]}):n.jsx("div",{className:"space-y-6",children:i.map(E=>n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 p-6",children:[n.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[n.jsx(fn,{className:"w-5 h-5"}),"Website Images"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-white text-sm font-semibold mb-2",children:"Main Background Video"}),n.jsx("div",{className:"relative aspect-video bg-white/20 rounded-lg overflow-hidden",children:E.video_principal?n.jsx("video",{src:E.video_principal,className:"w-full h-full object-cover",muted:!0,loop:!0,autoPlay:!0}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/50 text-xs",children:"No video"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white text-sm font-semibold mb-2",children:"Gallery Cover"}),n.jsx("div",{className:"relative aspect-video bg-white/20 rounded-lg overflow-hidden",children:n.jsx("img",{src:E.portada_galeria||"",alt:"Gallery Cover",className:"w-full h-full object-cover"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white text-sm font-semibold mb-2",children:"Logo"}),n.jsx("div",{className:"relative aspect-video bg-white/20 rounded-lg overflow-hidden flex items-center justify-center",children:n.jsx("img",{src:E.logo||"",alt:"Logo",className:"max-w-full max-h-full object-contain"})})]})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Contact & Social Information"}),n.jsxs("button",{onClick:()=>ce(E),className:"flex items-center gap-2 px-4 py-2 bg-purple-50 text-purple-700 rounded-lg hover:bg-purple-100 transition-colors font-semibold",children:[n.jsx(Ja,{className:"w-4 h-4"}),"Edit Settings"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(Bb,{className:"w-5 h-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Site Name"}),n.jsx("p",{className:"font-semibold text-gray-900",children:E.nombre_web||""})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Ka,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Email"}),n.jsx("p",{className:"font-semibold text-gray-900",children:E.correo||""})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Qn,{className:"w-5 h-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Phone"}),n.jsx("p",{className:"font-semibold text-gray-900",children:E.celular||""})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(Mr,{className:"w-5 h-5 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Address"}),n.jsx("p",{className:"font-semibold text-gray-900",children:E.direccion||""})]})]})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t-2 border-gray-100",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase mb-3",children:"Social Media"}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[E.facebook&&n.jsxs("a",{href:`https://${E.facebook}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors font-semibold",children:[n.jsx(Ha,{className:"w-4 h-4"}),"Facebook"]}),E.instagram&&n.jsxs("a",{href:`https://${E.instagram}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-pink-50 text-pink-700 rounded-lg hover:bg-pink-100 transition-colors font-semibold",children:[n.jsx(Ga,{className:"w-4 h-4"}),"Instagram"]}),E.tiktok&&n.jsxs("a",{href:`https://${E.tiktok}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200 transition-colors font-semibold",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})}),"TikTok"]}),!E.facebook&&!E.instagram&&!E.tiktok&&n.jsx("p",{className:"text-gray-500 text-sm",children:"No social links added"})]})]})]})]},E.id))}),p&&x&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fadeIn",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto animate-slideUp",children:[n.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-500 to-pink-600 text-white p-6 flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Edit Site Settings"}),n.jsx("button",{onClick:V,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:n.jsx(St,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6",children:[l&&n.jsxs("div",{className:"mb-4 p-4 bg-red-50 border-2 border-red-200 rounded-xl flex items-start",children:[n.jsx(er,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-red-800",children:l})]}),d&&n.jsxs("div",{className:"mb-4 p-4 bg-green-50 border-2 border-green-200 rounded-xl flex items-start",children:[n.jsx(lt,{className:"w-5 h-5 text-green-600 mr-3 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-green-800",children:d})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:[n.jsx(fn,{className:"w-4 h-4 inline mr-1"}),"Update Images"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"aspect-video border-2 border-dashed border-gray-300 rounded-xl overflow-hidden hover:border-purple-500 transition-colors bg-gray-50",children:b[0]?n.jsx("video",{src:URL.createObjectURL(b[0]),className:"w-full h-full object-cover",muted:!0,loop:!0,autoPlay:!0}):x.video_principal?n.jsx("video",{src:x.video_principal,className:"w-full h-full object-cover",muted:!0,loop:!0,autoPlay:!0}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"Click to upload video"})}),n.jsx("input",{type:"file",accept:"video/*",onChange:E=>se(0,E),className:"absolute inset-0 opacity-0 cursor-pointer"}),n.jsx("p",{className:"text-xs text-gray-600 mt-1 text-center",children:"Main Background Video"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"aspect-video border-2 border-dashed border-gray-300 rounded-xl overflow-hidden hover:border-purple-500 transition-colors bg-gray-50",children:n.jsx("img",{src:b[1]?URL.createObjectURL(b[1]):x.portada_galeria||"",alt:"Gallery Cover",className:"w-full h-full object-cover"})}),n.jsx("input",{type:"file",accept:"image/*",onChange:E=>se(1,E),className:"absolute inset-0 opacity-0 cursor-pointer"}),n.jsx("p",{className:"text-xs text-gray-600 mt-1 text-center",children:"Gallery Cover"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"aspect-video border-2 border-dashed border-gray-300 rounded-xl overflow-hidden hover:border-purple-500 transition-colors bg-gray-50 flex items-center justify-center",children:n.jsx("img",{src:b[2]?URL.createObjectURL(b[2]):x.logo||"",alt:"Logo",className:"max-w-full max-h-full object-contain"})}),n.jsx("input",{type:"file",accept:"image/*",onChange:E=>se(2,E),className:"absolute inset-0 opacity-0 cursor-pointer"}),n.jsx("p",{className:"text-xs text-gray-600 mt-1 text-center",children:"Logo"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Site Name"}),n.jsx("input",{type:"text",name:"nombre_web",value:x.nombre_web||"",onChange:G,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-colors"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),n.jsx("input",{type:"email",name:"correo",value:x.correo||"",onChange:G,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-colors"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone"}),n.jsx("input",{type:"text",name:"celular",value:x.celular||"",onChange:G,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-colors"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address"}),n.jsx("input",{type:"text",name:"direccion",value:x.direccion||"",onChange:G,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-colors"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Social Media Links"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Facebook"}),n.jsx("input",{type:"text",name:"facebook",value:x.facebook||"",onChange:G,placeholder:"facebook.com/yourpage",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-colors"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Instagram"}),n.jsx("input",{type:"text",name:"instagram",value:x.instagram||"",onChange:G,placeholder:"instagram.com/yourprofile",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-colors"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"TikTok"}),n.jsx("input",{type:"text",name:"tiktok",value:x.tiktok||"",onChange:G,placeholder:"tiktok.com/@yourprofile",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-colors"})]})]})]})]}),n.jsxs("div",{className:"flex gap-3 mt-8 pt-6 border-t-2 border-gray-100",children:[n.jsx("button",{onClick:V,disabled:j,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:ae,disabled:j,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-xl font-semibold hover:from-purple-600 hover:to-pink-700 transition-all shadow-lg disabled:opacity-50",children:j?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ts,{className:"w-5 h-5"}),"Save Changes"]})})]})]})]})})]}),n.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideUp {
          from { transform: translateY(20px); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
        .animate-fadeIn {
          animation: fadeIn 0.2s ease-out;
        }
        .animate-slideUp {
          animation: slideUp 0.3s ease-out;
        }
      `})]})}function o1(){const i=Re(),[t,s]=k.useState([]),[a,l]=k.useState(!0),[c,d]=k.useState(!1),[f,p]=k.useState(!1),[m,x]=k.useState({}),[y,b]=k.useState([null,null,null,null,null]),[_,j]=k.useState(!1),[N,w]=k.useState(null),[R,U]=k.useState(null),[O,P]=k.useState(!1),[I,F]=k.useState([]),[H,te]=k.useState(0);k.useEffect(()=>{re()},[]);const re=async()=>{l(!0);try{const{data:E,error:L}=await i.from("gallery").select("*").order("id",{ascending:!0}).limit(15);if(L)throw L;s(E||[])}catch(E){w(String(E.message||E))}finally{l(!1)}},Z=()=>{p(!1),x({title:"",description:""}),b([null,null,null,null,null]),d(!0),w(null),U(null)},q=E=>{p(!0),x({...E}),b([null,null,null,null,null]),d(!0),w(null),U(null)},Y=()=>{d(!1),x({}),b([null,null,null,null,null]),w(null),U(null)},ce=(E,L)=>{const C=L.target.files&&L.target.files[0]?L.target.files[0]:null;b(B=>{const ee=[...B];return ee[E]=C,ee})},V=E=>{if(!E)return null;try{const C=new URL(E).pathname.split("/"),B=C.indexOf("galery");return B===-1?null:C.slice(B+1).join("/")}catch{return null}},G=async(E,L,C)=>{if(!E)return C;try{const ge=V(C);if(ge){const we=await i.storage.from("galery").remove([ge]);we.error&&console.warn("Could not delete previous file",we.error)}}catch(ge){console.warn("Error deleting previous",ge)}const B=`gallery/${Date.now()}_${L}_${E.name}`,ee=await i.storage.from("galery").upload(B,E,{upsert:!0});if(ee.error)throw ee.error;const{data:he}=i.storage.from("galery").getPublicUrl(B);return he.publicUrl},se=async()=>{j(!0),w(null),U(null);try{const E={...m};for(let L=0;L<y.length;L++){const C=y[L],B=L===0?"portada":`imagen${L}`;if(C){const ee=f?t.find(ge=>ge.id===m.id):null,he=await G(C,B,ee==null?void 0:ee[B]);E[B]=he}}if(f&&m.id){const{error:L}=await i.from("gallery").update(E).eq("id",m.id).select();if(L)throw L;U("Gallery item updated successfully!")}else{const{error:L}=await i.from("gallery").insert(E).select();if(L)throw L;U("Gallery item created successfully!")}await re(),setTimeout(()=>Y(),1500)}catch(E){w(String(E.message||E))}finally{j(!1)}},ae=async E=>{if(E&&confirm("Delete this card? This action cannot be undone."))try{const L=t.find(B=>B.id===E);L&&["portada","imagen1","imagen2","imagen3","imagen4"].forEach(async B=>{const ee=V(L[B]);if(ee)try{await i.storage.from("galery").remove([ee])}catch(he){console.warn("remove err",he)}});const{error:C}=await i.from("gallery").delete().eq("id",E);if(C)throw C;await re()}catch(L){console.error("Delete error",L),w(String(L.message||L))}},$=(E,L=0)=>{const C=[];E.portada&&C.push(E.portada),["imagen1","imagen2","imagen3","imagen4"].forEach(B=>{const ee=E[B];ee&&C.push(ee)}),C.length!==0&&(F(C),te(Math.min(L,C.length-1)),P(!0))};return k.useEffect(()=>{if(!O)return;const E=L=>{L.key==="Escape"&&P(!1),L.key==="ArrowLeft"&&te(C=>Math.max(0,C-1)),L.key==="ArrowRight"&&te(C=>Math.min(I.length-1,C+1))};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[O,I.length]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-amber-50 pt-20 px-4 pb-12",children:[n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Se,{to:"/admin",className:"p-2 rounded-full bg-white shadow hover:bg-gray-100 transition-colors",children:n.jsx(Br,{className:"w-5 h-5 text-gray-700"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Gallery Management"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage your image galleries"})]})]}),n.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-amber-600 text-white rounded-xl font-semibold hover:from-orange-600 hover:to-amber-700 transition-all shadow-lg hover:shadow-xl",children:[n.jsx(zr,{className:"w-5 h-5"}),"New Gallery"]})]}),N&&!c&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-2 border-red-200 rounded-xl flex items-start",children:[n.jsx(er,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-red-800",children:N})]}),R&&!c&&n.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-200 rounded-xl flex items-start",children:[n.jsx(lt,{className:"w-5 h-5 text-green-600 mr-3 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-green-800",children:R})]}),a?n.jsxs("div",{className:"text-center py-20",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600 mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading galleries..."})]}):t.length===0?n.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl shadow-lg",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No galleries yet"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first gallery to showcase your images"}),n.jsxs("button",{onClick:Z,className:"inline-flex items-center gap-2 px-6 py-3 bg-orange-600 text-white rounded-lg font-semibold hover:bg-orange-700 transition-colors",children:[n.jsx(zr,{className:"w-5 h-5"}),"Create Gallery"]})]}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:t.map(E=>{const L=E.portada||E.imagen1||"/placeholder.jpg";return n.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[n.jsxs("div",{className:"relative h-48 overflow-hidden cursor-pointer",onClick:()=>$(E,0),children:[n.jsx("img",{src:L,alt:E.title||"Gallery",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end justify-center pb-4",children:n.jsx("span",{className:"text-white font-semibold",children:"View Gallery"})})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:E.title||"Untitled"}),n.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:E.description||"No description"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>q(E),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-amber-50 text-amber-700 rounded-lg hover:bg-amber-100 transition-colors font-semibold text-sm",children:[n.jsx(Ja,{className:"w-4 h-4"}),"Edit"]}),n.jsx("button",{onClick:()=>ae(E.id),className:"flex items-center justify-center gap-2 px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors font-semibold text-sm",children:n.jsx(Fr,{className:"w-4 h-4"})})]})]})]},E.id)})}),c&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fadeIn",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-slideUp",children:[n.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-orange-500 to-amber-600 text-white p-6 flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold",children:f?"Edit Gallery":"Create New Gallery"}),n.jsx("button",{onClick:Y,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:n.jsx(St,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6",children:[N&&n.jsxs("div",{className:"mb-4 p-4 bg-red-50 border-2 border-red-200 rounded-xl flex items-start",children:[n.jsx(er,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-red-800",children:N})]}),R&&n.jsxs("div",{className:"mb-4 p-4 bg-green-50 border-2 border-green-200 rounded-xl flex items-start",children:[n.jsx(lt,{className:"w-5 h-5 text-green-600 mr-3 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-green-800",children:R})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Title"}),n.jsx("input",{type:"text",value:m.title||"",onChange:E=>x({...m,title:E.target.value}),placeholder:"e.g., Beach Sunset Collection",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),n.jsx("input",{type:"text",value:m.description||"",onChange:E=>x({...m,description:E.target.value}),placeholder:"Brief description...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:[n.jsx(fn,{className:"w-4 h-4 inline mr-1"}),"Gallery Images (up to 5)"]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[0,1,2,3,4].map(E=>{const L=E===0?"portada":`imagen${E}`,C=f?m[L]:null,B=y[E]?URL.createObjectURL(y[E]):C;return n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"aspect-square border-2 border-dashed border-gray-300 rounded-xl overflow-hidden hover:border-orange-500 transition-colors bg-gray-50",children:B?n.jsx("img",{src:B,alt:`Preview ${E+1}`,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(tu,{className:"w-8 h-8 text-gray-400"})})}),n.jsx("input",{type:"file",accept:"image/*",onChange:ee=>ce(E,ee),className:"absolute inset-0 opacity-0 cursor-pointer"}),n.jsx("div",{className:"absolute bottom-1 right-1 bg-white rounded px-2 py-0.5 text-xs font-semibold shadow",children:E===0?"Cover":E})]},E)})})]})]}),n.jsxs("div",{className:"flex gap-3 mt-8 pt-6 border-t-2 border-gray-100",children:[n.jsx("button",{onClick:Y,disabled:_,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:se,disabled:_,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-amber-600 text-white rounded-xl font-semibold hover:from-orange-600 hover:to-amber-700 transition-all shadow-lg disabled:opacity-50",children:_?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ts,{className:"w-5 h-5"}),f?"Update Gallery":"Create Gallery"]})})]})]})]})}),O&&n.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:[n.jsx("button",{onClick:()=>P(!1),className:"absolute top-6 right-6 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(St,{className:"w-6 h-6 text-white"})}),I.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>te(E=>Math.max(0,E-1)),disabled:H===0,className:"absolute left-6 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors disabled:opacity-30",children:n.jsx(si,{className:"w-8 h-8 text-white"})}),n.jsx("button",{onClick:()=>te(E=>Math.min(I.length-1,E+1)),disabled:H===I.length-1,className:"absolute right-6 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors disabled:opacity-30",children:n.jsx(ii,{className:"w-8 h-8 text-white"})})]}),n.jsxs("div",{className:"max-w-6xl w-full",children:[n.jsx("img",{src:I[H],alt:`Gallery ${H+1}`,className:"w-full max-h-[85vh] object-contain rounded-lg shadow-2xl"}),I.length>1&&n.jsx("div",{className:"text-center mt-4",children:n.jsxs("span",{className:"px-4 py-2 bg-white/10 backdrop-blur-sm text-white rounded-full font-semibold",children:[H+1," / ",I.length]})})]})]})]}),n.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideUp {
          from { transform: translateY(20px); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
        .animate-fadeIn {
          animation: fadeIn 0.2s ease-out;
        }
        .animate-slideUp {
          animation: slideUp 0.3s ease-out;
        }
      `})]})}function l1(){const i=Re(),[t,s]=k.useState(null),[a,l]=k.useState(!0),[c,d]=k.useState(!1),[f,p]=k.useState(null),[m,x]=k.useState(null),[y,b]=k.useState(null),[_,j]=k.useState(null);k.useEffect(()=>{N()},[]);const N=async()=>{l(!0);try{const{data:P,error:I}=await i.from("videos").select("*").maybeSingle();if(I&&I.code!=="PGRST116")throw I;s(P||{video1:null,video2:null})}catch(P){console.error("Error loading videos:",P),p(String(P.message||P))}finally{l(!1)}},w=P=>{if(!P)return null;try{const F=new URL(P).pathname.split("/"),H=F.indexOf("galery");return H===-1?null:F.slice(H+1).join("/")}catch{return null}},R=async(P,I,F)=>{if(F)try{const Z=w(F);if(Z){const q=await i.storage.from("galery").remove([Z]);q.error&&console.warn("Could not delete previous video",q.error)}}catch(Z){console.warn("Error deleting previous video",Z)}const H=`videos/${Date.now()}_${I}_${P.name}`,te=await i.storage.from("galery").upload(H,P,{upsert:!0});if(te.error)throw te.error;const{data:re}=i.storage.from("galery").getPublicUrl(H);return re.publicUrl},U=async()=>{d(!0),p(null),x(null);try{const P={};if(y){const I=await R(y,"video1",t==null?void 0:t.video1);P.video1=I}if(_){const I=await R(_,"video2",t==null?void 0:t.video2);P.video2=I}if(Object.keys(P).length===0){p("Please select at least one video to upload"),d(!1);return}if(t!=null&&t.id){const{data:I,error:F}=await i.from("videos").update(P).eq("id",t.id).select();if(F)throw F;I&&I.length>0&&s(I[0])}else{const{data:I,error:F}=await i.from("videos").insert([P]).select();if(F)throw F;I&&I.length>0&&s(I[0])}x("Videos updated successfully!"),b(null),j(null)}catch(P){console.error("Save error:",P),p(String(P.message||P))}finally{d(!1)}},O=async P=>{if(t!=null&&t.id&&confirm(`Are you sure you want to delete ${P}? This action cannot be undone.`)){d(!0),p(null),x(null);try{const I=t[P];if(I){const re=w(I);re&&await i.storage.from("galery").remove([re])}const F={[P]:null},{data:H,error:te}=await i.from("videos").update(F).eq("id",t.id).select();if(te)throw te;H&&H.length>0&&s(H[0]),x(`${P} deleted successfully!`)}catch(I){console.error("Delete error:",I),p(String(I.message||I))}finally{d(!1)}}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-orange-50 pt-20 px-4",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsx(Se,{to:"/admin",className:"p-2 rounded-full bg-white shadow hover:bg-gray-100",children:n.jsx(Br,{className:"w-5 h-5 text-gray-700"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Video Manager"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Upload and manage homepage videos (max 2)"})]})]}),f&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-2 border-red-200 rounded-xl flex items-start",children:[n.jsx(er,{className:"w-5 h-5 text-red-600 mr-3 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-red-800",children:f})]}),m&&n.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-200 rounded-xl flex items-start",children:[n.jsx(lt,{className:"w-5 h-5 text-green-600 mr-3 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-green-800",children:m})]}),a?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading videos..."})]}):n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border-2 border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[n.jsx(Ba,{className:"w-5 h-5 mr-2 text-orange-600"}),"Video 1"]}),(t==null?void 0:t.video1)&&n.jsx("button",{onClick:()=>O("video1"),disabled:c,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete video 1",children:n.jsx(Fr,{className:"w-5 h-5"})})]}),(t==null?void 0:t.video1)&&n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current video:"}),n.jsx("video",{src:t.video1,controls:!0,className:"w-full rounded-lg border border-gray-200",style:{maxHeight:"300px"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:t!=null&&t.video1?"Replace with new video:":"Upload video:"}),n.jsx("div",{className:"relative",children:n.jsx("input",{type:"file",accept:"video/*",onChange:P=>{var I;return b(((I=P.target.files)==null?void 0:I[0])||null)},className:"block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-orange-50 file:text-orange-700 hover:file:bg-orange-100"})}),y&&n.jsxs("p",{className:"mt-2 text-sm text-green-600 flex items-center",children:[n.jsx(lt,{className:"w-4 h-4 mr-1"}),"Selected: ",y.name]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border-2 border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[n.jsx(Ba,{className:"w-5 h-5 mr-2 text-orange-600"}),"Video 2"]}),(t==null?void 0:t.video2)&&n.jsx("button",{onClick:()=>O("video2"),disabled:c,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete video 2",children:n.jsx(Fr,{className:"w-5 h-5"})})]}),(t==null?void 0:t.video2)&&n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current video:"}),n.jsx("video",{src:t.video2,controls:!0,className:"w-full rounded-lg border border-gray-200",style:{maxHeight:"300px"}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:t!=null&&t.video2?"Replace with new video:":"Upload video:"}),n.jsx("div",{className:"relative",children:n.jsx("input",{type:"file",accept:"video/*",onChange:P=>{var I;return j(((I=P.target.files)==null?void 0:I[0])||null)},className:"block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-orange-50 file:text-orange-700 hover:file:bg-orange-100"})}),_&&n.jsxs("p",{className:"mt-2 text-sm text-green-600 flex items-center",children:[n.jsx(lt,{className:"w-4 h-4 mr-1"}),"Selected: ",_.name]})]})]})]}),!a&&n.jsx("div",{className:"mt-8 flex justify-center",children:n.jsxs("button",{onClick:U,disabled:c||!y&&!_,className:"flex items-center px-8 py-4 bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-xl font-bold text-lg hover:from-orange-600 hover:to-red-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(tu,{className:"w-5 h-5 mr-2"}),c?"Uploading...":"Save Videos"]})}),n.jsxs("div",{className:"mt-8 bg-blue-50 border-2 border-blue-200 rounded-xl p-6",children:[n.jsxs("h4",{className:"font-bold text-blue-900 mb-2 flex items-center",children:[n.jsx(er,{className:"w-5 h-5 mr-2"}),"Important Notes"]}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[n.jsx("li",{children:" Videos are stored in the same Supabase bucket as gallery images (galery)"}),n.jsx("li",{children:" When you upload a new video, the previous one will be automatically deleted"}),n.jsx("li",{children:" Maximum 2 videos can be displayed on the homepage"}),n.jsx("li",{children:" Supported formats: MP4, WebM, OGG (MP4 recommended for best compatibility)"}),n.jsx("li",{children:' Videos will appear below the "Adventure Gallery" section on the homepage'})]})]})]})})}function c1(){const i=Re(),[t,s]=k.useState([]),[a,l]=k.useState(!0),[c,d]=k.useState(!1),[f,p]=k.useState(!1),[m,x]=k.useState({title:"",instructions:"",map_url:"",zone:"",is_active:!0}),[y,b]=k.useState(!1),[_,j]=k.useState(null),[N,w]=k.useState(null);k.useEffect(()=>{R()},[]);const R=async()=>{l(!0);try{const{data:Z,error:q}=await i.from("meeting_points").select("*").order("zone",{ascending:!0}).order("title",{ascending:!0});if(q)throw q;s(Z||[])}catch(Z){console.error("Error loading meeting points:",Z),j(Z.message)}finally{l(!1)}},U=()=>{p(!1),x({title:"",instructions:"",map_url:"",zone:"",is_active:!0}),d(!0),j(null),w(null)},O=Z=>{p(!0),x({...Z}),d(!0),j(null),w(null)},P=()=>{d(!1),x({title:"",instructions:"",map_url:"",zone:"",is_active:!0}),j(null),w(null)},I=Z=>{const{name:q,value:Y,type:ce}=Z.target,V=Z.target.checked;x(G=>({...G,[q]:ce==="checkbox"?V:Y}))},F=async()=>{if(!m.title.trim()){j("Title is required");return}b(!0),j(null),w(null);try{const Z={title:m.title,instructions:m.instructions||null,map_url:m.map_url||null,zone:m.zone||null,is_active:m.is_active??!0};if(f&&m.id){const{error:q}=await i.from("meeting_points").update(Z).eq("id",m.id);if(q)throw q;w("Meeting point updated successfully!")}else{const{error:q}=await i.from("meeting_points").insert([Z]);if(q)throw q;w("Meeting point created successfully!")}await R(),setTimeout(()=>P(),1500)}catch(Z){console.error("Save error:",Z),j(Z.message||"An error occurred")}finally{b(!1)}},H=async Z=>{if(confirm("Are you sure you want to delete this meeting point? This action cannot be undone."))try{const{error:q}=await i.from("meeting_points").delete().eq("id",Z);if(q)throw q;w("Meeting point deleted successfully!"),setTimeout(()=>w(null),3e3),await R()}catch(q){j(q.message||"Error deleting meeting point"),setTimeout(()=>j(null),3e3)}},te=async Z=>{try{const{error:q}=await i.from("meeting_points").update({is_active:!Z.is_active}).eq("id",Z.id);if(q)throw q;await R()}catch(q){j(q.message||"Error updating status"),setTimeout(()=>j(null),3e3)}},re=Z=>({"West Bay":"bg-blue-100 text-blue-700","West End":"bg-green-100 text-green-700","Coxen Hole":"bg-purple-100 text-purple-700","Sandy Bay":"bg-orange-100 text-orange-700","French Harbor":"bg-pink-100 text-pink-700"})[Z||""]||"bg-gray-100 text-gray-700";return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 pt-20 px-4 pb-12",children:[n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Se,{to:"/admin",className:"p-2 rounded-full bg-white shadow hover:bg-gray-100 transition-colors",children:n.jsx(Br,{className:"w-5 h-5 text-gray-700"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Meeting Points"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage pickup locations and meeting zones"})]})]}),n.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-semibold hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg hover:shadow-xl",children:[n.jsx(zr,{className:"w-5 h-5"}),"New Point"]})]}),_&&!c&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-2 border-red-200 rounded-xl flex items-start",children:[n.jsx(er,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-red-800",children:_})]}),N&&!c&&n.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-200 rounded-xl flex items-start",children:[n.jsx(lt,{className:"w-5 h-5 text-green-600 mr-3 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-green-800",children:N})]}),a?n.jsxs("div",{className:"text-center py-20",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-b-2 border-green-600 mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading meeting points..."})]}):t.length===0?n.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl shadow-lg",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No meeting points yet"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first meeting point to help customers find pickup locations"}),n.jsxs("button",{onClick:U,className:"inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors",children:[n.jsx(zr,{className:"w-5 h-5"}),"Create Meeting Point"]})]}):n.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Title"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Zone"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Instructions"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Map"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map((Z,q)=>n.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${q%2===0?"bg-white":"bg-gray-50/50"}`,children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{className:"font-semibold text-gray-900",children:Z.title})]})}),n.jsx("td",{className:"px-6 py-4",children:Z.zone&&n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${re(Z.zone)}`,children:Z.zone})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 max-w-md",children:Z.instructions||""})}),n.jsx("td",{className:"px-6 py-4",children:Z.map_url?n.jsxs("a",{href:Z.map_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800 font-medium",children:["View Map",n.jsx(Mb,{className:"w-3 h-3"})]}):n.jsx("span",{className:"text-sm text-gray-400",children:"No map"})}),n.jsx("td",{className:"px-6 py-4 text-center",children:n.jsx("button",{onClick:()=>te(Z),className:`px-3 py-1 rounded-full text-xs font-semibold transition-colors ${Z.is_active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Z.is_active?"Active":"Inactive"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("button",{onClick:()=>O(Z),className:"p-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",title:"Edit",children:n.jsx(Ja,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Z.id&&H(Z.id),className:"p-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors",title:"Delete",children:n.jsx(Fr,{className:"w-4 h-4"})})]})})]},Z.id))})]})})}),c&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fadeIn",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto animate-slideUp",children:[n.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-green-500 to-emerald-600 text-white p-6 flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold",children:f?"Edit Meeting Point":"Create New Meeting Point"}),n.jsx("button",{onClick:P,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:n.jsx(St,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6",children:[_&&n.jsxs("div",{className:"mb-4 p-4 bg-red-50 border-2 border-red-200 rounded-xl flex items-start",children:[n.jsx(er,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-red-800",children:_})]}),N&&n.jsxs("div",{className:"mb-4 p-4 bg-green-50 border-2 border-green-200 rounded-xl flex items-start",children:[n.jsx(lt,{className:"w-5 h-5 text-green-600 mr-3 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-green-800",children:N})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Title *"}),n.jsx("input",{type:"text",name:"title",value:m.title,onChange:I,placeholder:"e.g., West Bay Beach",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none transition-colors"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Zone"}),n.jsxs("select",{name:"zone",value:m.zone||"",onChange:I,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none transition-colors",children:[n.jsx("option",{value:"",children:"Select zone"}),n.jsx("option",{value:"West Bay",children:"West Bay"}),n.jsx("option",{value:"West End",children:"West End"}),n.jsx("option",{value:"Coxen Hole",children:"Coxen Hole"}),n.jsx("option",{value:"Sandy Bay",children:"Sandy Bay"}),n.jsx("option",{value:"French Harbor",children:"French Harbor"}),n.jsx("option",{value:"Other",children:"Other"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Instructions / Directions"}),n.jsx("textarea",{name:"instructions",value:m.instructions||"",onChange:I,rows:4,placeholder:"Provide detailed instructions on how to find this meeting point...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none transition-colors resize-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Google Maps URL"}),n.jsx("input",{type:"url",name:"map_url",value:m.map_url||"",onChange:I,placeholder:"https://maps.google.com/?q=16.3268,-86.6108",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none transition-colors"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Paste a Google Maps share link or coordinates URL"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"checkbox",name:"is_active",checked:m.is_active??!0,onChange:I,className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),n.jsx("label",{className:"ml-3 text-sm font-semibold text-gray-700",children:"Active (visible to customers)"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-8 pt-6 border-t-2 border-gray-100",children:[n.jsx("button",{onClick:P,disabled:y,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:F,disabled:y,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-semibold hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg disabled:opacity-50",children:y?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ts,{className:"w-5 h-5"}),f?"Update Point":"Create Point"]})})]})]})]})})]}),n.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideUp {
          from { transform: translateY(20px); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
        .animate-fadeIn {
          animation: fadeIn 0.2s ease-out;
        }
        .animate-slideUp {
          animation: slideUp 0.3s ease-out;
        }
      `})]})}const u1=()=>{const i=Re(),[t,s]=k.useState([]),[a,l]=k.useState(!0),[c,d]=k.useState(null),[f,p]=k.useState(!1),m={title:"",description:"",image1:"",image2:"",image3:"",price_1_person:0,price_2_persons:0,price_3_persons:0,price_4_persons:0,price_children_under_5:0,whats_included:"",duration:"",tour_notes:"",show_additional_options:!1};k.useEffect(()=>{x()},[]);const x=async()=>{l(!0);try{const{data:j,error:N}=await i.from("private_tours").select("*").order("id",{ascending:!1});if(N)throw N;s(j||[])}catch(j){console.error("Error loading private tours:",j),alert("Error loading tours")}finally{l(!1)}},y=async()=>{if(c)try{if(c.id){const{error:j}=await i.from("private_tours").update(c).eq("id",c.id);if(j)throw j;alert("Tour updated successfully!")}else{const{error:j}=await i.from("private_tours").insert([c]);if(j)throw j;alert("Tour created successfully!")}d(null),p(!1),x()}catch(j){console.error("Error saving tour:",j),alert("Error saving tour")}},b=async j=>{if(confirm("Are you sure you want to delete this tour?"))try{const{error:N}=await i.from("private_tours").delete().eq("id",j);if(N)throw N;alert("Tour deleted successfully!"),x()}catch(N){console.error("Error deleting tour:",N),alert("Error deleting tour")}},_=async(j,N)=>{var w,R;if(c)try{const U=N.name.split(".").pop(),O=N.name.replace(/[^a-zA-Z0-9.\-_]/g,"_"),P=`gallery/${Date.now()}_${j}_${O}`;let I=null;try{const Z=await i.auth.getUser();I=((R=(w=Z==null?void 0:Z.data)==null?void 0:w.user)==null?void 0:R.id)||null}catch(Z){console.warn("Could not get user id for metadata",Z)}const{data:F,error:H}=await i.storage.from("galery").upload(P,N,{cacheControl:"3600",upsert:!1,metadata:I?{user_id:I}:void 0});if(H)throw console.error("Upload error:",H),new Error(`Upload failed: ${(H==null?void 0:H.message)??H.status??String(H)}`);const{data:te}=i.storage.from("galery").getPublicUrl(P),re=te==null?void 0:te.publicUrl;if(!re)throw new Error("Failed to get public URL");d({...c,[j]:re}),alert("Image uploaded successfully!")}catch(U){console.error("Error uploading image:",U),alert(`Error uploading image: ${U.message||String(U)}`)}};return a?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-500"})}):n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",title:"Go back",children:[n.jsx(si,{className:"w-5 h-5 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Private Tours Management"})]}),n.jsxs("button",{onClick:()=>{p(!0),d({...m})},className:"flex items-center px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:[n.jsx(zr,{className:"w-5 h-5 mr-2"}),"Add New Tour"]})]}),!c&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(j=>n.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[n.jsx("div",{className:"relative h-48",children:n.jsx("img",{src:j.image1||"/placeholder.jpg",alt:j.title,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:j.title}),n.jsx("div",{className:"text-gray-600 text-sm mb-4 line-clamp-2",dangerouslySetInnerHTML:{__html:Zt(j.description)}}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("span",{className:"text-teal-600 font-semibold",children:["From $",j.price_1_person,"/person"]}),n.jsx("span",{className:"text-gray-500 text-sm",children:j.duration})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>d(j),className:"flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Oc,{className:"w-4 h-4 mr-2"}),"Edit"]}),n.jsxs("button",{onClick:()=>j.id&&b(j.id),className:"flex-1 flex items-center justify-center px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[n.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]},j.id))}),c&&n.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:f?"Create New Tour":"Edit Tour"}),n.jsx("button",{onClick:()=>{d(null),p(!1)},className:"p-2 text-gray-600 hover:text-gray-800",children:n.jsx(St,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tour Title *"}),n.jsx("input",{type:"text",value:c.title,onChange:j=>d({...c,title:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Enter tour title"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{value:c.description,onChange:j=>d({...c,description:j.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Enter tour description"}),n.jsxs("div",{className:"mt-3",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Preview"}),n.jsx("div",{className:"prose max-w-none p-3 bg-gray-50 border rounded-lg text-gray-800",dangerouslySetInnerHTML:{__html:Zt(c.description)}})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tour Images (3 images)"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["image1","image2","image3"].map((j,N)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"block text-xs text-gray-600",children:["Image ",N+1]}),c[j]&&n.jsx("img",{src:c[j],alt:`Preview ${N+1}`,className:"w-full h-32 object-cover rounded-lg"}),n.jsx("input",{type:"text",value:c[j],onChange:w=>d({...c,[j]:w.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg",placeholder:"Image URL"}),n.jsx("input",{type:"file",accept:"image/*",onChange:w=>{var U;const R=(U=w.target.files)==null?void 0:U[0];R&&_(j,R)},className:"w-full text-sm"})]},j))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[n.jsx(ti,{className:"w-5 h-5 inline mr-1"}),"Base Rates"]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"1 Person"}),n.jsx("input",{type:"number",value:c.price_1_person,onChange:j=>d({...c,price_1_person:parseFloat(j.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"0.00",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"2 Persons"}),n.jsx("input",{type:"number",value:c.price_2_persons,onChange:j=>d({...c,price_2_persons:parseFloat(j.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"0.00",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"3 Persons"}),n.jsx("input",{type:"number",value:c.price_3_persons,onChange:j=>d({...c,price_3_persons:parseFloat(j.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"0.00",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"4 Persons"}),n.jsx("input",{type:"number",value:c.price_4_persons,onChange:j=>d({...c,price_4_persons:parseFloat(j.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"0.00",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Children (<5)"}),n.jsx("input",{type:"number",value:c.price_children_under_5,onChange:j=>d({...c,price_children_under_5:parseFloat(j.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"0.00",step:"0.01"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What's Included"}),n.jsx("textarea",{value:c.whats_included,onChange:j=>d({...c,whats_included:j.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"List what's included in the tour"}),n.jsxs("div",{className:"mt-3",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Preview (Included)"}),n.jsx("div",{className:"prose max-w-none p-3 bg-gray-50 border rounded-lg text-gray-800",dangerouslySetInnerHTML:{__html:Zt(c.whats_included)}})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tour Duration"}),n.jsx("input",{type:"text",value:c.duration,onChange:j=>d({...c,duration:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"e.g., 4 hours, Full day, etc."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tour Notes"}),n.jsx("textarea",{value:c.tour_notes,onChange:j=>d({...c,tour_notes:j.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Additional notes or important information"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",id:"show_additional",checked:c.show_additional_options,onChange:j=>d({...c,show_additional_options:j.target.checked}),className:"w-5 h-5 text-teal-600 rounded focus:ring-teal-500"}),n.jsx("label",{htmlFor:"show_additional",className:"text-sm font-medium text-gray-700",children:"Show additional options to customers"})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[n.jsx("button",{onClick:()=>{d(null),p(!1)},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsxs("button",{onClick:y,className:"flex items-center px-6 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors",children:[n.jsx(ts,{className:"w-5 h-5 mr-2"}),"Save Tour"]})]})]})]}),t.length===0&&!c&&n.jsxs("div",{className:"text-center py-16",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Private Tours Yet"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first private tour to get started!"})]})]})},d1=()=>{const i=Re(),[t,s]=k.useState([]),[a,l]=k.useState(!0),[c,d]=k.useState(null),[f,p]=k.useState(!1);k.useEffect(()=>{m()},[]);const m=async()=>{l(!0);try{const{data:b,error:_}=await i.from("tour_additional_options").select("*").order("sort_order",{ascending:!0});if(_)throw _;s(b||[])}catch(b){console.error("Error loading additional options:",b),alert("Error loading additional options")}finally{l(!1)}},x=async()=>{if(c)try{if(c.id){const{error:b}=await i.from("tour_additional_options").update(c).eq("id",c.id);if(b)throw b;alert("Option updated")}else{const{error:b}=await i.from("tour_additional_options").insert([c]);if(b)throw b;alert("Option created")}d(null),p(!1),m()}catch(b){console.error("Error saving option:",b),alert("Error saving option")}},y=async b=>{if(confirm("Are you sure you want to delete this option?"))try{const{error:_}=await i.from("tour_additional_options").delete().eq("id",b);if(_)throw _;alert("Option deleted"),m()}catch(_){console.error("Error deleting option:",_),alert("Error deleting option")}};return n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(St,{className:"w-4 h-4 mr-2"}),"Back"]}),n.jsx("h1",{className:"text-2xl font-bold",children:"Additional Options"})]}),n.jsxs("button",{onClick:()=>{p(!0),d({title:"",subtitle:"",features:"",sort_order:(t.length?t[t.length-1].sort_order??t.length:0)+1})},className:"flex items-center px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:[n.jsx(zr,{className:"w-4 h-4 mr-2"}),"Add Option"]})]}),a?n.jsx("div",{children:"Loading..."}):n.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[!c&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden md:block",children:n.jsxs("table",{className:"w-full table-auto",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left",children:[n.jsx("th",{className:"px-3 py-2",children:"ID"}),n.jsx("th",{className:"px-3 py-2",children:"Title"}),n.jsx("th",{className:"px-3 py-2",children:"Subtitle"}),n.jsx("th",{className:"px-3 py-2",children:"Features"}),n.jsx("th",{className:"px-3 py-2",children:"Sort"}),n.jsx("th",{className:"px-3 py-2",children:"Actions"})]})}),n.jsx("tbody",{children:t.map(b=>n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"px-3 py-2",children:b.id}),n.jsx("td",{className:"px-3 py-2",children:b.title}),n.jsx("td",{className:"px-3 py-2",children:b.subtitle}),n.jsx("td",{className:"px-3 py-2",children:b.features}),n.jsx("td",{className:"px-3 py-2",children:b.sort_order}),n.jsxs("td",{className:"px-3 py-2 space-x-2",children:[n.jsx("button",{onClick:()=>d(b),className:"px-3 py-1 bg-blue-600 text-white rounded-lg",children:n.jsx(Oc,{className:"w-4 h-4"})}),b.id&&n.jsx("button",{onClick:()=>y(b.id),className:"px-3 py-1 bg-red-600 text-white rounded-lg",children:n.jsx(Fr,{className:"w-4 h-4"})})]})]},b.id))})]})}),n.jsx("div",{className:"md:hidden space-y-4",children:t.map(b=>n.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",b.id]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b.title}),b.subtitle&&n.jsx("div",{className:"text-sm text-teal-600",children:b.subtitle})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>d(b),className:"p-2 bg-blue-600 text-white rounded-lg","aria-label":`Edit ${b.title}`,children:n.jsx(Oc,{className:"w-4 h-4"})}),b.id&&n.jsx("button",{onClick:()=>y(b.id),className:"p-2 bg-red-600 text-white rounded-lg","aria-label":`Delete ${b.title}`,children:n.jsx(Fr,{className:"w-4 h-4"})})]})]}),b.features&&n.jsxs("div",{className:"mt-3 text-sm text-gray-700",children:[n.jsx("strong",{children:"Features:"})," ",b.features]}),n.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:["Sort: ",b.sort_order]})]},b.id))})]}),c&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),n.jsx("input",{type:"text",value:c.title,onChange:b=>d({...c,title:b.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtitle"}),n.jsx("input",{type:"text",value:c.subtitle,onChange:b=>d({...c,subtitle:b.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features (comma separated)"}),n.jsx("textarea",{value:c.features,onChange:b=>d({...c,features:b.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),n.jsx("input",{type:"number",value:c.sort_order,onChange:b=>d({...c,sort_order:parseInt(b.target.value)||0}),className:"w-32 px-3 py-2 border rounded-lg"})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx("button",{onClick:()=>{d(null),p(!1)},className:"px-4 py-2 border rounded-lg",children:"Cancel"}),n.jsxs("button",{onClick:x,className:"px-4 py-2 bg-teal-600 text-white rounded-lg",children:[n.jsx(ts,{className:"w-4 h-4 mr-2 inline"})," Save"]})]})]})]})]})},h1=()=>{const i=()=>{window.print()},t=Re(),[s,a]=k.useState(null);return k.useEffect(()=>{let l=!0;return(async()=>{try{const{data:c,error:d}=await t.from("admin").select("*").maybeSingle();if(d)throw d;l&&a(c||null)}catch(c){console.error("Error loading admin for policy page:",c)}})(),()=>{l=!1}},[t]),n.jsx("div",{className:"min-h-screen pt-20 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("nav",{className:"text-sm text-gray-500 space-x-4",children:[n.jsx(Se,{to:"/",className:"hover:underline",children:"Home"}),n.jsx("span",{children:"/"}),n.jsx(Se,{to:"/",className:"hover:underline",children:"Services"}),n.jsx("span",{children:"/"}),n.jsx(Se,{to:"/gallery",className:"hover:underline",children:"Gallery"}),n.jsx("span",{children:"/"}),n.jsx(Se,{to:"/meeting-points",className:"hover:underline",children:"Meeting Points"}),n.jsx("span",{children:"/"}),n.jsx(Se,{to:"/contact",className:"hover:underline",children:"Contact"}),n.jsx("span",{children:"/"}),n.jsx("span",{className:"font-medium text-gray-800",children:"Print policy"})]}),n.jsx("div",{children:n.jsx("button",{onClick:i,className:"px-4 py-2 bg-teal-600 text-white rounded hover:bg-teal-700",children:"Print policy"})})]}),n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-6",children:"BOOKING POLICY & TERMS OF SERVICE"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Roatan Robert Tours, hereinafter referred to as Roatan Robert Tours"}),n.jsxs("section",{className:"prose prose-lg text-gray-700",children:[n.jsx("h2",{children:"Booking and Payment"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Full payment is required at the time of booking."}),n.jsx("li",{children:"We accept credit cards, bank transfers, and payments via WhatsApp Business or direct link."}),n.jsx("li",{children:"International payments must be made by credit card."})]}),n.jsx("h2",{children:"International Transactions"}),n.jsx("p",{children:"All prices and payments are in US dollars (USD). The client is responsible for any exchange rates and international fees that may apply. For transactions originating outside Honduras, only credit card payments are accepted."}),n.jsx("h2",{children:"Communications and Notifications"}),n.jsx("p",{children:"All booking confirmations, receipts, instructions, and communications will be sent to the email or phone number provided during booking. The client is responsible for:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Providing accurate contact information."}),n.jsx("li",{children:"Maintaining a valid email and phone number."}),n.jsx("li",{children:"Checking their inbox (including spam)."}),n.jsx("li",{children:"Ensuring receipt of text or WhatsApp messages."})]}),n.jsxs("p",{className:"italic",children:["It is recommended to add"," ",n.jsx("strong",{children:(s==null?void 0:s.correo)||"rteastendexp@gmail.com"})," to your safe contacts list."]}),n.jsx("h2",{children:"Arrival and Departure Requirements"}),n.jsxs("ol",{children:[n.jsx("li",{children:"Tour time: All tours operate on local Honduran time (UTC/GMT-6). Your pick-up time will be confirmed at booking or before port arrival."}),n.jsx("li",{children:"Meet your guide: Follow the provided meeting instructions. Present your booking confirmation and valid ID."}),n.jsx("li",{children:"Late arrivals: Late arrivals will be marked as No Show with no refund, unless previously notified and Roatan Robert Tours has confirmed a new time."}),n.jsx("li",{children:"Return to port: All participants must return to the port at least one hour before ship departure. Roatan Robert Tours is not responsible for missed departures or extra costs due to client delays."})]}),n.jsx("h2",{children:"Participant Verification"}),n.jsx("p",{children:"All participants must present a valid booking confirmation (digital or printed) and official ID. Lack of documentation may result in denial of service without refund."}),n.jsx("h2",{children:"Waiver and Release of Liability"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Mandatory form: All participants must sign a Waiver of Liability Form before the excursion. No modifications or alternative forms will be accepted."}),n.jsx("li",{children:"Participant responsibilities: Each client must review the terms before booking, provide truthful information, and disclose relevant medical conditions."}),n.jsx("li",{children:"Exclusion without refund: Participation will be denied if the client does not sign the waiver, alters the waiver, or provides false or incomplete information."}),n.jsx("li",{children:"Medical conditions: Failure to disclose medical conditions may result in immediate removal from the tour without refund, and the client will assume any additional expenses."})]}),n.jsx("h2",{children:"Transportation and Liability"}),n.jsx("p",{children:"Roatan Robert Tours works with carefully selected local transportation providers. However, Roatan Robert Tours acts only as a booking agent, not as a direct operator."}),n.jsx("p",{children:"We are not responsible for negligence or conduct of third parties, damages, losses, or accidents during transportation, or schedule changes or delays."}),n.jsx("h2",{children:"Participant Removal Policy"}),n.jsx("p",{children:"Roatan Robert Tours guides may remove any participant whose behavior affects the safety or experience of others. Grounds for immediate removal include intoxication, aggressive behavior, harassment, dangerous conduct, property damage, or illegal activities. Removed participants will not receive a refund and will assume all resulting expenses."}),n.jsx("h2",{children:"Cancellations and Refunds"}),n.jsxs("p",{children:["All cancellation requests must be sent in writing to:"," ",n.jsx("strong",{children:(s==null?void 0:s.correo)||"rteastendexp@gmail.com"})," with the subject: Cancellation or Refund + booking number. Verbal or automatic cancellations are not accepted."]}),n.jsxs("table",{className:"table-auto border-collapse border border-gray-200 w-full mb-4",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100",children:[n.jsx("th",{className:"border px-3 py-2 text-left",children:"Notice Period"}),n.jsx("th",{className:"border px-3 py-2 text-left",children:"Refund"})]})}),n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{className:"border px-3 py-2",children:"72 hours or more"}),n.jsx("td",{className:"border px-3 py-2",children:"100% - 4% transaction fee"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"border px-3 py-2",children:"48-72 hours"}),n.jsx("td",{className:"border px-3 py-2",children:"50% - 4% transaction fee"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"border px-3 py-2",children:"48 hours or less"}),n.jsx("td",{className:"border px-3 py-2",children:"No refund"})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"border px-3 py-2",children:"No show"}),n.jsx("td",{className:"border px-3 py-2",children:"No refund"})]})]})]}),n.jsx("p",{children:"If your cruise does not dock in Roatan, you will receive a full refund minus a 4% transaction fee. Approved refunds are processed within a maximum of 90 days and issued to the same original payment method."}),n.jsx("h2",{children:"Booking Transfers"}),n.jsx("p",{children:"With at least 48 hours notice, you may transfer your credit to another person or Roatan Robert Tours service. If the new service costs less, the difference will not be refunded."}),n.jsx("h2",{children:"Weather Conditions"}),n.jsx("p",{children:"Light rain or normal tropical conditions are not grounds for cancellation. Only if Roatan Robert Tours determines the weather is unsafe will the excursion be canceled with a full refund."}),n.jsx("h2",{children:"Recommended Insurance"}),n.jsx("p",{children:"Maintaining medical and international travel insurance is advised. Roatan Robert Tours does not provide insurance coverage to participants."}),n.jsx("h2",{children:"Legal Notices"}),n.jsx("p",{children:"Roatan Robert Tours reserves the right to modify itineraries, cancel tours, deny service, or use photographic material for promotional purposes."}),n.jsx("h2",{children:"Limitations of Liability"}),n.jsx("p",{children:"Roatan Robert Tours assumes no responsibility for personal injuries, medical expenses, property loss, third-party services or events beyond its control, or missed departures due to client error or delay."}),n.jsx("h2",{children:"Animal Encounters"}),n.jsx("p",{children:"Participants must follow the guides instructions at all times. Those acting recklessly or dangerously may be removed without refund. Roatan Robert Tours does not guarantee encounters with specific animals. By booking, the participant accepts all risks associated with animal interactions and releases Roatan Robert Tours from all liability."})]})]})})};function lm(){const i=Re(),[t,s]=k.useState([]),[a,l]=k.useState(!0),[c,d]=k.useState(!1),[f,p]=k.useState(!1),[m,x]=k.useState({titulo:"",incluye:"",descripcion:"",duracion:"",categoria:"",precio_por_persona:void 0,max_personas:void 0}),[y,b]=k.useState(Array(10).fill(null)),[_,j]=k.useState(!1),[N,w]=k.useState(null),[R,U]=k.useState(null),[O,P]=k.useState([]),[I,F]=k.useState("");k.useEffect(()=>{H()},[]);const H=async()=>{l(!0);try{const{data:$,error:E}=await i.from("paquetes").select("*").order("id",{ascending:!1});if(E)throw E;s($||[])}catch($){console.error("Error loading packages:",$),w($.message)}finally{l(!1)}},te=$=>$.split(/\s{2,}/).map(E=>E.trim()).filter(Boolean),re=()=>{p(!1),x({titulo:"",incluye:"",descripcion:"",duracion:"",categoria:"",precio_por_persona:void 0,max_personas:void 0}),P([]),F(""),b(Array(10).fill(null)),d(!0),w(null),U(null)},Z=$=>{p(!0),x({...$});try{if($.incluye){const E=JSON.parse($.incluye);Array.isArray(E)?P(E.map(String)):P(te(String($.incluye)))}else P([])}catch{P(te($.incluye||""))}F(""),b(Array(10).fill(null)),d(!0),w(null),U(null)},q=()=>{d(!1),x({titulo:"",incluye:"",descripcion:"",duracion:"",categoria:""}),b(Array(10).fill(null)),P([]),F(""),w(null),U(null)},Y=$=>{const{name:E,value:L}=$.target;x(C=>({...C,[E]:L}))},ce=($,E)=>{var C;const L=((C=E.target.files)==null?void 0:C[0])||null;b(B=>{const ee=[...B];return ee[$]=L,ee})},V=async()=>{if(!m.titulo.trim()){w("Title is required");return}j(!0),w(null),U(null);try{const $=[];for(let L=0;L<y.length;L++)if(y[L]){const C=y[L],B=`pakk/${Date.now()}_${L}_${C.name}`,{error:ee}=await i.storage.from("paquetes").upload(B,C,{upsert:!0});if(ee)throw new Error("Error uploading image: "+ee.message);const{data:he}=i.storage.from("paquetes").getPublicUrl(B);$[L]=he.publicUrl}else f&&($[L]=m[`imagen${L+1}`]||"");const E={titulo:m.titulo,descripcion:m.descripcion,duracion:m.duracion,categoria:m.categoria||null,incluye:JSON.stringify(O),precio_por_persona:m.precio_por_persona||null,max_personas:m.max_personas||null};for(let L=0;L<10;L++)E[`imagen${L+1}`]=$[L]||"";if(f&&m.id){const{data:L,error:C}=await i.from("paquetes").update(E).eq("id",m.id).select();if(C)throw C;L&&L.length>0&&s(B=>B.map(ee=>ee.id===m.id?L[0]:ee)),U("Package updated successfully!")}else{const{data:L,error:C}=await i.from("paquetes").insert([E]).select();if(C)throw C;L&&L.length>0&&s(B=>[L[0],...B]),U("Package created successfully!")}setTimeout(()=>{q()},1500)}catch($){console.error("Save error:",$),w($.message||"An error occurred")}finally{j(!1)}},G=async $=>{if(confirm("Are you sure you want to delete this package? This action cannot be undone."))try{const{error:E}=await i.from("paquetes").delete().eq("id",$);if(E)throw E;s(L=>L.filter(C=>C.id!==$)),U("Package deleted successfully!"),setTimeout(()=>U(null),3e3)}catch(E){w(E.message||"Error deleting package"),setTimeout(()=>w(null),3e3)}},se=$=>{switch($){case"water-adventure":return"Water Adventure";case"nature":return"Nature";case"romantic":return"Romantic";default:return"Adventure"}},ae=$=>{switch($){case"water-adventure":return"bg-blue-100 text-blue-700";case"nature":return"bg-green-100 text-green-700";case"romantic":return"bg-pink-100 text-pink-700";default:return"bg-teal-100 text-teal-700"}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-teal-50 pt-20 px-4 pb-12",children:[n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Se,{to:"/admin",className:"p-2 rounded-full bg-white shadow hover:bg-gray-100 transition-colors",children:n.jsx(Br,{className:"w-5 h-5 text-gray-700"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Tour Packages"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your tour packages and experiences"})]})]}),n.jsxs("button",{onClick:re,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-teal-500 to-blue-600 text-white rounded-xl font-semibold hover:from-teal-600 hover:to-blue-700 transition-all shadow-lg hover:shadow-xl",children:[n.jsx(zr,{className:"w-5 h-5"}),"New Package"]})]}),N&&!c&&n.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-2 border-red-200 rounded-xl flex items-start",children:[n.jsx(er,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-red-800",children:N})]}),R&&!c&&n.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-200 rounded-xl flex items-start",children:[n.jsx(lt,{className:"w-5 h-5 text-green-600 mr-3 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-green-800",children:R})]}),a?n.jsxs("div",{className:"text-center py-20",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-b-2 border-teal-600 mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading packages..."})]}):t.length===0?n.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl shadow-lg",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No packages yet"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first tour package to get started"}),n.jsxs("button",{onClick:re,className:"inline-flex items-center gap-2 px-6 py-3 bg-teal-600 text-white rounded-lg font-semibold hover:bg-teal-700 transition-colors",children:[n.jsx(zr,{className:"w-5 h-5"}),"Create Package"]})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map($=>{const E=$.imagen1||$.imagen2||$.imagen3||"/placeholder.jpg",L=$.incluye?JSON.parse($.incluye):[];return n.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[n.jsxs("div",{className:"relative h-48 overflow-hidden",children:[n.jsx("img",{src:E,alt:$.titulo,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),n.jsx("div",{className:"absolute top-3 right-3",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ae($.categoria)}`,children:se($.categoria)})})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2",children:$.titulo}),n.jsx("div",{className:"text-gray-600 text-sm mb-4 line-clamp-3",dangerouslySetInnerHTML:{__html:Zt($.descripcion)}}),n.jsxs("div",{className:"space-y-2 mb-4",children:[$.duracion&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Xt,{className:"w-4 h-4 mr-2 text-teal-600"}),$.duracion]}),$.precio_por_persona&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(ti,{className:"w-4 h-4 mr-2 text-teal-600"}),"$",$.precio_por_persona," per person"]}),$.max_personas&&n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx($r,{className:"w-4 h-4 mr-2 text-teal-600"}),"Max ",$.max_personas," people"]})]}),L.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-2",children:"INCLUDES:"}),n.jsxs("div",{className:"flex flex-wrap gap-1",children:[L.slice(0,3).map((C,B)=>n.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:C},B)),L.length>3&&n.jsxs("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:["+",L.length-3," more"]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>Z($),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors font-semibold",children:[n.jsx(Ja,{className:"w-4 h-4"}),"Edit"]}),n.jsx("button",{onClick:()=>$.id&&G($.id),className:"flex items-center justify-center gap-2 px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors font-semibold",children:n.jsx(Fr,{className:"w-4 h-4"})})]})]})]},$.id)})}),c&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fadeIn",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-slideUp",children:[n.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-teal-500 to-blue-600 text-white p-6 flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold",children:f?"Edit Package":"Create New Package"}),n.jsx("button",{onClick:q,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:n.jsx(St,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6",children:[N&&n.jsxs("div",{className:"mb-4 p-4 bg-red-50 border-2 border-red-200 rounded-xl flex items-start",children:[n.jsx(er,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-red-800",children:N})]}),R&&n.jsxs("div",{className:"mb-4 p-4 bg-green-50 border-2 border-green-200 rounded-xl flex items-start",children:[n.jsx(lt,{className:"w-5 h-5 text-green-600 mr-3 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-green-800",children:R})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(Yb,{className:"w-4 h-4 inline mr-1"}),"Title *"]}),n.jsx("input",{type:"text",name:"titulo",value:m.titulo,onChange:Y,placeholder:"e.g., Snorkeling Adventure",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-teal-500 focus:outline-none transition-colors"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category"}),n.jsxs("select",{name:"categoria",value:m.categoria||"",onChange:Y,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-teal-500 focus:outline-none transition-colors",children:[n.jsx("option",{value:"",children:"Select category"}),n.jsx("option",{value:"water-adventure",children:"Water Adventure"}),n.jsx("option",{value:"nature",children:"Nature"}),n.jsx("option",{value:"romantic",children:"Romantic"}),n.jsx("option",{value:"adventure",children:"Adventure"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{name:"descripcion",value:m.descripcion,onChange:Y,rows:4,placeholder:"Describe your tour package...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-teal-500 focus:outline-none transition-colors resize-none"}),n.jsxs("div",{className:"mt-3",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Preview"}),n.jsx("div",{className:"prose max-w-none p-4 bg-gray-50 border rounded-lg text-gray-800",dangerouslySetInnerHTML:{__html:Zt(m.descripcion)}})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(Xt,{className:"w-4 h-4 inline mr-1"}),"Duration"]}),n.jsx("input",{type:"text",name:"duracion",value:m.duracion,onChange:Y,placeholder:"e.g., 3-4 hours",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-teal-500 focus:outline-none transition-colors"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(ti,{className:"w-4 h-4 inline mr-1"}),"Price per Person"]}),n.jsx("input",{type:"number",name:"precio_por_persona",value:m.precio_por_persona??"",onChange:$=>x(E=>({...E,precio_por_persona:$.target.value?Number($.target.value):void 0})),placeholder:"0.00",step:"0.01",min:"0",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-teal-500 focus:outline-none transition-colors"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[n.jsx($r,{className:"w-4 h-4 inline mr-1"}),"Max People"]}),n.jsx("input",{type:"number",name:"max_personas",value:m.max_personas??"",onChange:$=>x(E=>({...E,max_personas:$.target.value?Number($.target.value):void 0})),placeholder:"0",min:"1",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-teal-500 focus:outline-none transition-colors"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"What's Included?"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:I,onChange:$=>F($.target.value),onKeyDown:$=>{if($.key==="Enter"){$.preventDefault();const E=I.trim();E&&(P(L=>[...L,E]),F(""))}},placeholder:"Add an item e.g. Snacks",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-teal-500 focus:outline-none transition-colors"}),n.jsx("button",{type:"button",onClick:()=>{const $=I.trim();$&&(P(E=>[...E,$]),F(""))},className:"px-4 py-3 bg-teal-600 text-white rounded-xl hover:bg-teal-700 transition-colors",children:"Add"})]}),O.length>0&&n.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:O.map(($,E)=>n.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 px-3 py-1 rounded-full text-sm",children:[n.jsxs("span",{children:[" ",$]}),n.jsx("button",{type:"button",onClick:()=>P(L=>L.filter((C,B)=>B!==E)),className:"text-gray-500 hover:text-gray-800 ml-2","aria-label":`Remove ${$}`,children:""})]},E))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:[n.jsx(fn,{className:"w-4 h-4 inline mr-1"}),"Images (up to 10)"]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Array.from({length:10}).map(($,E)=>{const L=f?m[`imagen${E+1}`]:null,C=y[E]?URL.createObjectURL(y[E]):L;return n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"aspect-square border-2 border-dashed border-gray-300 rounded-xl overflow-hidden hover:border-teal-500 transition-colors bg-gray-50",children:C?n.jsx("img",{src:C,alt:`Preview ${E+1}`,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(tu,{className:"w-6 h-6 text-gray-400"})})}),n.jsx("input",{type:"file",accept:"image/*",onChange:B=>ce(E,B),className:"absolute inset-0 opacity-0 cursor-pointer"}),n.jsx("div",{className:"absolute bottom-1 right-1 bg-white rounded px-2 py-0.5 text-xs font-semibold shadow",children:E+1})]},E)})})]})]}),n.jsxs("div",{className:"flex gap-3 mt-8 pt-6 border-t-2 border-gray-100",children:[n.jsx("button",{onClick:q,disabled:_,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:V,disabled:_,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-teal-500 to-blue-600 text-white rounded-xl font-semibold hover:from-teal-600 hover:to-blue-700 transition-all shadow-lg disabled:opacity-50",children:_?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ts,{className:"w-5 h-5"}),f?"Update Package":"Create Package"]})})]})]})]})})]}),n.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideUp {
          from { transform: translateY(20px); opacity: 0; }
          to { transform: translateY(0); opacity: 1; }
        }
        .animate-fadeIn {
          animation: fadeIn 0.2s ease-out;
        }
        .animate-slideUp {
          animation: slideUp 0.3s ease-out;
        }
      `})]})}function f1(){return n.jsx(ly,{children:n.jsx(Ib,{children:n.jsx(ny,{children:n.jsx("div",{className:"App",children:n.jsx(Qx,{children:n.jsxs(Fe,{path:"/",element:n.jsx(sw,{}),children:[n.jsx(Fe,{index:!0,element:n.jsx(Jj,{})}),n.jsx(Fe,{path:"private-tour",element:n.jsx(Qj,{})}),n.jsx(Fe,{path:"private-tour/:id",element:n.jsx(Xj,{})}),n.jsx(Fe,{path:"private-tour/book/:id",element:n.jsx(t1,{})}),n.jsx(Fe,{path:"private-tour/booking-confirmation",element:n.jsx(r1,{})}),n.jsx(Fe,{path:"service/:id",element:n.jsx(n1,{})}),n.jsx(Fe,{path:"gallery",element:n.jsx(s1,{})}),n.jsx(Fe,{path:"contact",element:n.jsx(i1,{})}),n.jsx(Fe,{path:"politica-de-cancelacion",element:n.jsx(h1,{})}),n.jsx(Fe,{path:"pakk",element:n.jsx(lm,{})}),n.jsx(Fe,{path:"admin-login",element:n.jsx(Lb,{})}),n.jsx(Fe,{path:"admin",element:n.jsx(Ar,{children:n.jsx(ew,{})})}),n.jsx(Fe,{path:"admin/settings",element:n.jsx(Ar,{children:n.jsx(a1,{})})}),n.jsx(Fe,{path:"admin/videos",element:n.jsx(Ar,{children:n.jsx(l1,{})})}),n.jsx(Fe,{path:"admin/meeting-points",element:n.jsx(Ar,{children:n.jsx(c1,{})})}),n.jsx(Fe,{path:"admin/private-tours",element:n.jsx(Ar,{children:n.jsx(u1,{})})}),n.jsx(Fe,{path:"admin/additional-options",element:n.jsx(Ar,{children:n.jsx(d1,{})})}),n.jsx(Fe,{path:"admingallery",element:n.jsx(Ar,{children:n.jsx(o1,{})})}),n.jsx(Fe,{path:"paquetes",element:n.jsx(Ar,{children:n.jsx(lm,{})})})]})})})})})})}Z0.createRoot(document.getElementById("root")).render(n.jsx(k.StrictMode,{children:n.jsx(tx,{children:n.jsx(f1,{})})}));export{um as a,W0 as g};
